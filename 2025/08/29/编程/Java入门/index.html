<!DOCTYPE html>
<html lang="en">
    <head hexo-theme='https://github.com/volantis-x/hexo-theme-volantis/#6.0.0-alpha.1'>
  <meta name="generator" content="Hexo 7.3.0">
  <meta name="Volantis" content="6.0.0-alpha.1">
  <meta charset="utf-8">
  <meta name="google-site-verification" content="62GZuQzI8vKz1vqtq9cAt9WNIDJQQ-v_-hBV6ghqPT4" />    
  <!-- 上面这行是给谷歌验证的 -->
   
  <!-- SEO相关 -->
  
  <link rel="canonical" href="https://archer-baiyi.github.io/en/2025/08/29/编程/java入门/"/>
  <!-- 渲染优化 -->
    <meta http-equiv='x-dns-prefetch-control' content='on' />
      <link rel='dns-prefetch' href='https://unpkg.com'>
      <link rel="preconnect" href="https://unpkg.com" crossorigin>
      <link rel='dns-prefetch' href='https://cdn.bootcdn.net'>
      <link rel="preconnect" href="https://cdn.bootcdn.net" crossorigin>
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Content-Security-Policy" content=" default-src 'self' https:; block-all-mixed-content; base-uri 'self' https:; form-action 'self' https:; worker-src 'self' https:; connect-src 'self' https: *; img-src 'self' data: https: *; media-src 'self' https: *; font-src 'self' data: https: *; frame-src 'self' https: *; manifest-src 'self' https: *; child-src https:; script-src 'self' https: 'unsafe-inline' *; style-src 'self' https: 'unsafe-inline' *; ">
  <meta name="HandheldFriendly" content="True" >
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  <meta content="black-translucent" name="apple-mobile-web-app-status-bar-style">
  <meta content="telephone=no" name="format-detection">
  <!-- import head_begin begin -->
  <!-- import head_begin end -->
  <!-- Custom Files headBegin begin-->
  
  <!-- Custom Files headBegin end-->
    <link rel="shortcut icon" type='image/x-icon' href="/en/%E7%90%83%E9%9C%9C_%E5%8D%A1%E9%80%9A.png">
  <link rel="preload" href="/en/css/style.css" as="style">
  <link rel="preload" href="https://unpkg.com/volantis-static@0.0.1660614606622/media/fonts/VarelaRound/VarelaRound-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
<link rel="preload" href="https://unpkg.com/volantis-static@0.0.1660614606622/media/fonts/UbuntuMono/UbuntuMono-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">

  <!-- feed -->
  <!-- 页面元数据 -->
  <title>Java入门 - Hexo</title>
  <meta name="keywords" content="Java,null">
  <meta desc name="description" content="hi - null - Hexo">
  
<meta property="og:type" content="article">
<meta property="og:title" content="Java入门">
<meta property="og:url" content="https://archer-baiyi.github.io/en/2025/08/29/%E7%BC%96%E7%A8%8B/Java%E5%85%A5%E9%97%A8/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="介绍Java是一种广泛使用的计算机编程语言，拥有跨平台、面向对象、泛型编程的特性，广泛应用于企业级Web应用开发和移动应用开发。 Hello World12345public class HelloWorld &#123;    public static void main(String[] args) &#123;        System.out.println(&quot;Hello,">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://unpkg.com/volantis-static@0.0.1660614606622/media/org.volantis/blog/favicon/android-chrome-192x192.png">
<meta property="article:published_time" content="2025-08-29T05:45:26.000Z">
<meta property="article:modified_time" content="2026-02-09T09:42:29.351Z">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://unpkg.com/volantis-static@0.0.1660614606622/media/org.volantis/blog/favicon/android-chrome-192x192.png">
  <style>
    /* 首屏样式 */
    #safearea {
  display: none;
}
:root {
  --color-site-body: #f4f4f4;
  --color-site-bg: #f4f4f4;
  --color-site-inner: #fff;
  --color-site-footer: #666;
  --color-card: #fff;
  --color-text: #444;
  --color-block: #f6f6f6;
  --color-inlinecode: #c74f00;
  --color-codeblock: #fff7ea;
  --color-h1: #3a3a3a;
  --color-h2: #3a3a3a;
  --color-h3: #333;
  --color-h4: #444;
  --color-h5: #555;
  --color-h6: #666;
  --color-p: #444;
  --color-list: #666;
  --color-list-hl: #30ad91;
  --color-meta: #888;
  --color-read-bkg: #e0d8c8;
  --color-read-post: #f8f1e2;
  --color-copyright-bkg: #f5f5f5;
}
* {
  box-sizing: border-box;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  outline: none;
  margin: 0;
  padding: 0;
}
*::-webkit-scrollbar {
  height: 4px;
  width: 4px;
}
*::-webkit-scrollbar-track-piece {
  background: transparent;
}
*::-webkit-scrollbar-thumb {
  background: #3dd9b6;
  cursor: pointer;
  border-radius: 2px;
  -webkit-border-radius: 2px;
}
*::-webkit-scrollbar-thumb:hover {
  background: #ff5722;
}
html {
  color: var(--color-text);
  width: 100%;
  height: 100%;
  font-family: UbuntuMono, "Varela Round", "PingFang SC", "Microsoft YaHei", Helvetica, Arial, Menlo, Monaco, monospace, sans-serif;
  font-size: 16px;
}
html >::-webkit-scrollbar {
  height: 4px;
  width: 4px;
}
html >::-webkit-scrollbar-track-piece {
  background: transparent;
}
html >::-webkit-scrollbar-thumb {
  background: #3dd9b6;
  cursor: pointer;
  border-radius: 2px;
  -webkit-border-radius: 2px;
}
html >::-webkit-scrollbar-thumb:hover {
  background: #ff5722;
}
body {
  background-color: var(--color-site-body);
  text-rendering: optimizelegibility;
  -webkit-tap-highlight-color: rgba(0,0,0,0);
  line-height: 1.6;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}
body.modal-active {
  overflow: hidden;
}
@media screen and (max-width: 680px) {
  body.modal-active {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
a {
  color: #2092ec;
  cursor: pointer;
  text-decoration: none;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
a:hover {
  color: #ff5722;
}
a:active,
a:hover {
  outline: 0;
}
ul,
ol {
  padding-left: 0;
}
ul li,
ol li {
  list-style: none;
}
header {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
}
img {
  border: 0;
  background: none;
  max-width: 100%;
}
svg:not(:root) {
  overflow: hidden;
}
hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  -webkit-box-sizing: content-box;
  -moz-box-sizing: content-box;
  height: 0;
  border: 0;
  border-radius: 1px;
  -webkit-border-radius: 1px;
  border-bottom: 1px solid rgba(68,68,68,0.1);
}
button,
input {
  color: inherit;
  font: inherit;
  margin: 0;
}
button {
  overflow: visible;
  text-transform: none;
  -webkit-appearance: button;
  cursor: pointer;
}
@supports (backdrop-filter: blur(20px)) {
  .blur {
    background: rgba(255,255,255,0.9) !important;
    backdrop-filter: saturate(200%) blur(20px);
  }
}
.shadow {
  box-shadow: 0 1px 2px 0px rgba(0,0,0,0.1);
  -webkit-box-shadow: 0 1px 2px 0px rgba(0,0,0,0.1);
}
.shadow.floatable {
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
.shadow.floatable:hover {
  box-shadow: 0 2px 4px 0px rgba(0,0,0,0.1), 0 4px 8px 0px rgba(0,0,0,0.1), 0 8px 16px 0px rgba(0,0,0,0.1);
  -webkit-box-shadow: 0 2px 4px 0px rgba(0,0,0,0.1), 0 4px 8px 0px rgba(0,0,0,0.1), 0 8px 16px 0px rgba(0,0,0,0.1);
}
#l_cover {
  min-height: 64px;
}
.cover-wrapper {
  top: 0;
  left: 0;
  max-width: 100%;
  height: 100vh;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  flex-wrap: nowrap;
  -webkit-flex-wrap: nowrap;
  -khtml-flex-wrap: nowrap;
  -moz-flex-wrap: nowrap;
  -o-flex-wrap: nowrap;
  -ms-flex-wrap: nowrap;
  -webkit-box-direction: normal;
  -moz-box-direction: normal;
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  align-items: center;
  align-self: center;
  align-content: center;
  color: var(--color-site-inner);
  padding: 0 16px;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  position: relative;
  overflow: hidden;
  margin-bottom: -100px;
}
.cover-wrapper .cover-body {
  z-index: 1;
  position: relative;
  width: 100%;
  height: 100%;
}
.cover-wrapper#full {
  height: calc(100vh + 100px);
  padding-bottom: 100px;
}
.cover-wrapper#half {
  max-height: 640px;
  min-height: 400px;
  height: calc(36vh - 64px + 200px);
}
.cover-wrapper #scroll-down {
  width: 100%;
  height: 64px;
  position: absolute;
  bottom: 100px;
  text-align: center;
  cursor: pointer;
}
.cover-wrapper #scroll-down .scroll-down-effects {
  color: #fff;
  font-size: 24px;
  line-height: 64px;
  position: absolute;
  width: 24px;
  left: calc(50% - 12px);
  text-shadow: 0 1px 2px rgba(0,0,0,0.1);
  animation: scroll-down-effect 1.5s infinite;
  -webkit-animation: scroll-down-effect 1.5s infinite;
  -khtml-animation: scroll-down-effect 1.5s infinite;
  -moz-animation: scroll-down-effect 1.5s infinite;
  -o-animation: scroll-down-effect 1.5s infinite;
  -ms-animation: scroll-down-effect 1.5s infinite;
}
@-moz-keyframes scroll-down-effect {
  0% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
  50% {
    top: -16px;
    opacity: 0.4;
    -webkit-opacity: 0.4;
    -moz-opacity: 0.4;
  }
  100% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@-webkit-keyframes scroll-down-effect {
  0% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
  50% {
    top: -16px;
    opacity: 0.4;
    -webkit-opacity: 0.4;
    -moz-opacity: 0.4;
  }
  100% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@-o-keyframes scroll-down-effect {
  0% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
  50% {
    top: -16px;
    opacity: 0.4;
    -webkit-opacity: 0.4;
    -moz-opacity: 0.4;
  }
  100% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@keyframes scroll-down-effect {
  0% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
  50% {
    top: -16px;
    opacity: 0.4;
    -webkit-opacity: 0.4;
    -moz-opacity: 0.4;
  }
  100% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
.cover-wrapper .cover-body {
  margin-top: 64px;
  margin-bottom: 100px;
}
.cover-wrapper .cover-body,
.cover-wrapper .cover-body .top,
.cover-wrapper .cover-body .bottom {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  -webkit-box-direction: normal;
  -moz-box-direction: normal;
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  -webkit-justify-content: center;
  -khtml-justify-content: center;
  -moz-justify-content: center;
  -o-justify-content: center;
  -ms-justify-content: center;
  max-width: 100%;
}
.cover-wrapper .cover-body .bottom {
  margin-top: 32px;
}
.cover-wrapper .cover-body .title {
  font-family: "Varela Round", "PingFang SC", "Microsoft YaHei", Helvetica, Arial, Helvetica, monospace;
  font-size: 3.125rem;
  line-height: 1.2;
  text-shadow: 0 1px 2px rgba(0,0,0,0.1);
}
.cover-wrapper .cover-body .subtitle {
  font-size: 20px;
}
.cover-wrapper .cover-body .logo {
  max-height: 120px;
  max-width: calc(100% - 4 * 16px);
}
@media screen and (min-height: 1024px) {
  .cover-wrapper .cover-body .title {
    font-size: 3rem;
  }
  .cover-wrapper .cover-body .subtitle {
    font-size: 1.05rem;
  }
  .cover-wrapper .cover-body .logo {
    max-height: 150px;
  }
}
.cover-wrapper .cover-body .m_search {
  position: relative;
  max-width: calc(100% - 16px);
  width: 320px;
  vertical-align: middle;
}
.cover-wrapper .cover-body .m_search .form {
  position: relative;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  width: 100%;
}
.cover-wrapper .cover-body .m_search .icon,
.cover-wrapper .cover-body .m_search .input {
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
.cover-wrapper .cover-body .m_search .icon {
  position: absolute;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  line-height: 2.5rem;
  width: 32px;
  top: 0;
  left: 5px;
  color: rgba(68,68,68,0.75);
}
.cover-wrapper .cover-body .m_search .input {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  height: 2.5rem;
  width: 100%;
  box-shadow: none;
  -webkit-box-shadow: none;
  box-sizing: border-box;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  font-size: 0.875rem;
  -webkit-appearance: none;
  padding-left: 36px;
  border-radius: 1.4rem;
  -webkit-border-radius: 1.4rem;
  background: rgba(255,255,255,0.6);
  backdrop-filter: blur(10px);
  border: none;
  color: var(--color-text);
}
@media screen and (max-width: 500px) {
  .cover-wrapper .cover-body .m_search .input {
    padding-left: 36px;
  }
}
.cover-wrapper .cover-body .m_search .input:hover {
  background: rgba(255,255,255,0.8);
}
.cover-wrapper .cover-body .m_search .input:focus {
  background: #fff;
}
.cover-wrapper .list-h {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  -webkit-box-direction: normal;
  -moz-box-direction: normal;
  -webkit-box-orient: horizontal;
  -moz-box-orient: horizontal;
  -webkit-flex-direction: row;
  -ms-flex-direction: row;
  flex-direction: row;
  flex-wrap: wrap;
  -webkit-flex-wrap: wrap;
  -khtml-flex-wrap: wrap;
  -moz-flex-wrap: wrap;
  -o-flex-wrap: wrap;
  -ms-flex-wrap: wrap;
  align-items: stretch;
  border-radius: 4px;
  -webkit-border-radius: 4px;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}
.cover-wrapper .list-h a {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -webkit-flex: 1 0;
  -ms-flex: 1 0;
  flex: 1 0;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  font-weight: 600;
}
.cover-wrapper .list-h a img {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  border-radius: 2px;
  -webkit-border-radius: 2px;
  margin: 4px;
  min-width: 40px;
  max-width: 44px;
}
@media screen and (max-width: 768px) {
  .cover-wrapper .list-h a img {
    min-width: 36px;
    max-width: 40px;
  }
}
@media screen and (max-width: 500px) {
  .cover-wrapper .list-h a img {
    margin: 2px 4px;
    min-width: 32px;
    max-width: 36px;
  }
}
@media screen and (max-width: 375px) {
  .cover-wrapper .list-h a img {
    min-width: 28px;
    max-width: 32px;
  }
}
.cover-wrapper {
  max-width: 100%;
}
.cover-wrapper.search .bottom .menu {
  margin-top: 16px;
}
.cover-wrapper.search .bottom .menu .list-h a {
  white-space: nowrap;
  -webkit-box-direction: normal;
  -moz-box-direction: normal;
  -webkit-box-orient: horizontal;
  -moz-box-orient: horizontal;
  -webkit-flex-direction: row;
  -ms-flex-direction: row;
  flex-direction: row;
  align-items: baseline;
  padding: 2px;
  margin: 4px;
  color: var(--color-site-inner);
  opacity: 0.75;
  -webkit-opacity: 0.75;
  -moz-opacity: 0.75;
  text-shadow: 0 1px 2px rgba(0,0,0,0.05);
  border-bottom: 2px solid transparent;
}
.cover-wrapper.search .bottom .menu .list-h a i {
  margin-right: 4px;
}
.cover-wrapper.search .bottom .menu .list-h a p {
  font-size: 0.9375rem;
}
.cover-wrapper.search .bottom .menu .list-h a:hover,
.cover-wrapper.search .bottom .menu .list-h a.active,
.cover-wrapper.search .bottom .menu .list-h a:active {
  opacity: 1;
  -webkit-opacity: 1;
  -moz-opacity: 1;
  border-bottom: 2px solid var(--color-site-inner);
}
.cover-wrapper.dock .menu,
.cover-wrapper.featured .menu,
.cover-wrapper.focus .menu {
  border-radius: 6px;
  -webkit-border-radius: 6px;
}
.cover-wrapper.dock .menu .list-h a,
.cover-wrapper.featured .menu .list-h a,
.cover-wrapper.focus .menu .list-h a {
  -webkit-box-direction: normal;
  -moz-box-direction: normal;
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  align-items: center;
  padding: 12px;
  line-height: 24px;
  border-radius: 4px;
  -webkit-border-radius: 4px;
  border-bottom: none;
  text-align: center;
  align-content: flex-end;
  color: rgba(68,68,68,0.7);
  font-size: 1.5rem;
}
@media screen and (max-width: 500px) {
  .cover-wrapper.dock .menu .list-h a,
  .cover-wrapper.featured .menu .list-h a,
  .cover-wrapper.focus .menu .list-h a {
    padding: 12px 8px;
  }
}
.cover-wrapper.dock .menu .list-h a i,
.cover-wrapper.featured .menu .list-h a i,
.cover-wrapper.focus .menu .list-h a i {
  margin: 8px;
}
.cover-wrapper.dock .menu .list-h a p,
.cover-wrapper.featured .menu .list-h a p,
.cover-wrapper.focus .menu .list-h a p {
  font-size: 0.875rem;
}
.cover-wrapper.dock .menu .list-h a.active,
.cover-wrapper.featured .menu .list-h a.active,
.cover-wrapper.focus .menu .list-h a.active {
  background: var(--color-card);
  backdrop-filter: none;
}
.cover-wrapper.dock .menu .list-h a.active i,
.cover-wrapper.featured .menu .list-h a.active i,
.cover-wrapper.focus .menu .list-h a.active i,
.cover-wrapper.dock .menu .list-h a.active i+p,
.cover-wrapper.featured .menu .list-h a.active i+p,
.cover-wrapper.focus .menu .list-h a.active i+p {
  color: #3dd9b6;
}
.cover-wrapper.dock .menu .list-h a.active img+p,
.cover-wrapper.featured .menu .list-h a.active img+p,
.cover-wrapper.focus .menu .list-h a.active img+p {
  color: var(--color-text);
}
.cover-wrapper.dock .menu .list-h a:hover,
.cover-wrapper.featured .menu .list-h a:hover,
.cover-wrapper.focus .menu .list-h a:hover {
  background: var(--color-card);
}
.cover-wrapper.dock .top {
  margin-bottom: 48px;
}
.cover-wrapper.dock .menu {
  background: rgba(255,255,255,0.5);
  position: absolute;
  bottom: 0;
  max-width: 100%;
}
.cover-wrapper.dock .menu .list-h {
  flex-wrap: nowrap;
  -webkit-flex-wrap: nowrap;
  -khtml-flex-wrap: nowrap;
  -moz-flex-wrap: nowrap;
  -o-flex-wrap: nowrap;
  -ms-flex-wrap: nowrap;
  margin: 4px;
}
.cover-wrapper.dock .menu .list-h a+a {
  margin-left: 4px;
}
@media screen and (max-width: 500px) {
  .cover-wrapper.dock .menu .list-h {
    overflow-x: scroll;
  }
  .cover-wrapper.dock .menu .list-h::-webkit-scrollbar {
    height: 0;
    width: 0;
  }
  .cover-wrapper.dock .menu .list-h::-webkit-scrollbar-track-piece {
    background: transparent;
  }
  .cover-wrapper.dock .menu .list-h::-webkit-scrollbar-thumb {
    background: #3dd9b6;
    cursor: pointer;
    border-radius: 0;
    -webkit-border-radius: 0;
  }
  .cover-wrapper.dock .menu .list-h::-webkit-scrollbar-thumb:hover {
    background: #ff5722;
  }
}
@supports (backdrop-filter: blur(20px)) {
  .cover-wrapper.dock .menu {
    background: rgba(255,255,255,0.5);
    backdrop-filter: saturate(200%) blur(20px);
  }
}
.cover-wrapper #parallax-window {
  position: absolute;
  width: 100%;
  height: 100%;
  background: transparent;
}
.parallax-mirror {
  animation-delay: 0s;
  animation-duration: 0.5s;
  animation-fill-mode: forwards;
  animation-timing-function: ease-out;
  animation-name: fadeIn;
}
@-moz-keyframes fadeIn {
  0% {
    opacity: 0;
    -webkit-opacity: 0;
    -moz-opacity: 0;
    filter: blur(12px);
  }
  100% {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@-webkit-keyframes fadeIn {
  0% {
    opacity: 0;
    -webkit-opacity: 0;
    -moz-opacity: 0;
    filter: blur(12px);
  }
  100% {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@-o-keyframes fadeIn {
  0% {
    opacity: 0;
    -webkit-opacity: 0;
    -moz-opacity: 0;
    filter: blur(12px);
  }
  100% {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@keyframes fadeIn {
  0% {
    opacity: 0;
    -webkit-opacity: 0;
    -moz-opacity: 0;
    filter: blur(12px);
  }
  100% {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@media (prefers-color-scheme: dark) {
  :root {
    --color-mode: 'dark';
  }
  :root:not([color-scheme]) {
    --color-site-body: #121212;
    --color-read-bkg: #1f1f1f;
    --color-read-post: #262626;
    --color-site-bg: #1f1f1f;
    --color-site-inner: rgba(238,238,238,0.871);
    --color-site-footer: rgba(170,170,170,0.871);
    --color-card: #262626;
    --color-text: rgba(238,238,238,0.871);
    --color-block: #434343;
    --color-codeblock: #1f1f1f;
    --color-inlinecode: #d56d28;
    --color-h1: rgba(255,255,255,0.871);
    --color-h2: rgba(255,255,255,0.871);
    --color-h3: rgba(255,255,255,0.6);
    --color-h4: rgba(255,255,255,0.6);
    --color-h5: rgba(255,255,255,0.6);
    --color-h6: rgba(255,255,255,0.6);
    --color-p: rgba(217,217,217,0.871);
    --color-list: rgba(217,217,217,0.871);
    --color-list-hl: #63e0c4;
    --color-meta: rgba(191,191,191,0.871);
    --color-link: rgba(191,191,191,0.871);
    --color-copyright-bkg: #21252b;
  }
  :root:not([color-scheme]) img {
    filter: brightness(70%) !important;
  }
  :root:not([color-scheme]) .blur {
    background: rgba(31,31,31,0.9) !important;
  }
  :root:not([color-scheme]) .white-box.blur {
    background: rgba(38,38,38,0.9) !important;
  }
  :root:not([color-scheme]) .nav-main .u-search-input {
    background: var(--color-card) !important;
  }
  :root:not([color-scheme]) #l_main .article .prev-next>a {
    background: var(--color-block) !important;
  }
  :root:not([color-scheme]) #l_main .article .prev-next>a:hover {
    background: var(--color-site-bg) !important;
  }
  :root:not([color-scheme]) .article blockquote {
    background: var(--color-block) !important;
  }
  :root:not([color-scheme]) .article-title a {
    color: var(--color-h1) !important;
  }
  :root:not([color-scheme]) details>summary {
    color: var(--color-p) !important;
    background: var(--color-site-bg) !important;
  }
  :root:not([color-scheme]) details {
    border: 1px solid var(--color-site-bg) !important;
    background: var(--color-site-bg) !important;
  }
  :root:not([color-scheme]) #u-search .modal,
  :root:not([color-scheme]) #u-search .modal-header,
  :root:not([color-scheme]) #u-search .modal-body {
    background: var(--color-card) !important;
  }
  :root:not([color-scheme]) #u-search .modal-body .modal-results .result:hover {
    background: var(--color-block) !important;
  }
  :root:not([color-scheme]) .u-search-input:hover {
    background: var(--color-block) !important;
  }
  :root:not([color-scheme]) .u-search-input:focus {
    background: var(--color-site-body) !important;
  }
}
[color-scheme='dark'] {
  --color-site-body: #121212;
  --color-read-bkg: #1f1f1f;
  --color-read-post: #262626;
  --color-site-bg: #1f1f1f;
  --color-site-inner: rgba(238,238,238,0.871);
  --color-site-footer: rgba(170,170,170,0.871);
  --color-card: #262626;
  --color-text: rgba(238,238,238,0.871);
  --color-block: #434343;
  --color-codeblock: #1f1f1f;
  --color-inlinecode: #d56d28;
  --color-h1: rgba(255,255,255,0.871);
  --color-h2: rgba(255,255,255,0.871);
  --color-h3: rgba(255,255,255,0.6);
  --color-h4: rgba(255,255,255,0.6);
  --color-h5: rgba(255,255,255,0.6);
  --color-h6: rgba(255,255,255,0.6);
  --color-p: rgba(217,217,217,0.871);
  --color-list: rgba(217,217,217,0.871);
  --color-list-hl: #63e0c4;
  --color-meta: rgba(191,191,191,0.871);
  --color-link: rgba(191,191,191,0.871);
  --color-copyright-bkg: #21252b;
}
[color-scheme='dark'] img {
  filter: brightness(70%) !important;
}
[color-scheme='dark'] .blur {
  background: rgba(31,31,31,0.9) !important;
}
[color-scheme='dark'] .white-box.blur {
  background: rgba(38,38,38,0.9) !important;
}
[color-scheme='dark'] .nav-main .u-search-input {
  background: var(--color-card) !important;
}
[color-scheme='dark'] #l_main .article .prev-next>a {
  background: var(--color-block) !important;
}
[color-scheme='dark'] #l_main .article .prev-next>a:hover {
  background: var(--color-site-bg) !important;
}
[color-scheme='dark'] .article blockquote {
  background: var(--color-block) !important;
}
[color-scheme='dark'] .article-title a {
  color: var(--color-h1) !important;
}
[color-scheme='dark'] details>summary {
  color: var(--color-p) !important;
  background: var(--color-site-bg) !important;
}
[color-scheme='dark'] details {
  border: 1px solid var(--color-site-bg) !important;
  background: var(--color-site-bg) !important;
}
[color-scheme='dark'] #u-search .modal,
[color-scheme='dark'] #u-search .modal-header,
[color-scheme='dark'] #u-search .modal-body {
  background: var(--color-card) !important;
}
[color-scheme='dark'] #u-search .modal-body .modal-results .result:hover {
  background: var(--color-block) !important;
}
[color-scheme='dark'] .u-search-input:hover {
  background: var(--color-block) !important;
}
[color-scheme='dark'] .u-search-input:focus {
  background: var(--color-site-body) !important;
}
@media screen and (max-width: 500px) {
  [color-scheme='dark'] .l_header .m_search {
    background: var(--color-site-bg) !important;
  }
}
@font-face {
  font-family: 'UbuntuMono';
  src: url("https://unpkg.com/volantis-static@0.0.1660614606622/media/fonts/UbuntuMono/UbuntuMono-Regular.ttf");
  font-weight: 'normal';
  font-style: 'normal';
  font-display: swap;
}
@font-face {
  font-family: 'Varela Round';
  src: url("https://unpkg.com/volantis-static@0.0.1660614606622/media/fonts/VarelaRound/VarelaRound-Regular.ttf");
  font-weight: 'normal';
  font-style: 'normal';
  font-display: swap;
}
.l_header {
  position: fixed;
  z-index: 1000;
  top: 0;
  width: 100%;
  height: 64px;
  background: var(--color-card);
  box-shadow: 0 1px 2px 0px rgba(0,0,0,0.1);
  -webkit-box-shadow: 0 1px 2px 0px rgba(0,0,0,0.1);
}
.l_header.auto {
  transition: opacity 0.4s ease;
  -webkit-transition: opacity 0.4s ease;
  -khtml-transition: opacity 0.4s ease;
  -moz-transition: opacity 0.4s ease;
  -o-transition: opacity 0.4s ease;
  -ms-transition: opacity 0.4s ease;
  visibility: hidden;
}
.l_header.auto.show {
  opacity: 1 !important;
  -webkit-opacity: 1 !important;
  -moz-opacity: 1 !important;
  visibility: visible;
}
.l_header .container {
  margin-left: 16px;
  margin-right: 16px;
}
.l_header #wrapper {
  height: 100%;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}
.l_header #wrapper .nav-main,
.l_header #wrapper .nav-sub {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  flex-wrap: nowrap;
  -webkit-flex-wrap: nowrap;
  -khtml-flex-wrap: nowrap;
  -moz-flex-wrap: nowrap;
  -o-flex-wrap: nowrap;
  -ms-flex-wrap: nowrap;
  justify-content: space-between;
  -webkit-justify-content: space-between;
  -khtml-justify-content: space-between;
  -moz-justify-content: space-between;
  -o-justify-content: space-between;
  -ms-justify-content: space-between;
  align-items: center;
}
.l_header #wrapper .nav-main {
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
.l_header #wrapper.sub .nav-main {
  transform: translateY(-64px);
  -webkit-transform: translateY(-64px);
  -khtml-transform: translateY(-64px);
  -moz-transform: translateY(-64px);
  -o-transform: translateY(-64px);
  -ms-transform: translateY(-64px);
}
.l_header #wrapper .nav-sub {
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
  opacity: 0;
  -webkit-opacity: 0;
  -moz-opacity: 0;
  height: 64px;
  width: calc(100% - 2 * 16px);
  position: absolute;
}
.l_header #wrapper .nav-sub ::-webkit-scrollbar {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
}
@media screen and (min-width: 2048px) {
  .l_header #wrapper .nav-sub {
    max-width: 55vw;
    margin: auto;
  }
}
.l_header #wrapper.sub .nav-sub {
  opacity: 1;
  -webkit-opacity: 1;
  -moz-opacity: 1;
}
.l_header #wrapper .title {
  position: relative;
  color: var(--color-text);
  padding-left: 24px;
  max-height: 64px;
}
.l_header #wrapper .nav-main .title {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex-shrink: 0;
  line-height: 64px;
  padding: 0 24px;
  font-size: 1.25rem;
  font-family: "Varela Round", "PingFang SC", "Microsoft YaHei", Helvetica, Arial, Helvetica, monospace;
}
.l_header #wrapper .nav-main .title img {
  height: 64px;
}
.l_header .nav-sub {
  max-width: 1280px;
  margin: auto;
}
.l_header .nav-sub .title {
  font-weight: bold;
  font-family: UbuntuMono, "Varela Round", "PingFang SC", "Microsoft YaHei", Helvetica, Arial, Menlo, Monaco, monospace, sans-serif;
  line-height: 1.2;
  max-height: 64px;
  white-space: normal;
  flex-shrink: 1;
}
.l_header .switcher {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
  line-height: 64px;
  align-items: center;
}
.l_header .switcher .s-toc {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
}
@media screen and (max-width: 768px) {
  .l_header .switcher .s-toc {
    display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
    display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
    display: -ms-flexbox /* TWEENER - IE 10 */;
    display: -webkit-flex /* NEW - Chrome */;
    display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
    display: flex;
  }
}
.l_header .switcher >li {
  height: 48px;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
  margin: 2px;
}
@media screen and (max-width: 500px) {
  .l_header .switcher >li {
    margin: 0 1px;
    height: 48px;
  }
}
.l_header .switcher >li >a {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  justify-content: center;
  -webkit-justify-content: center;
  -khtml-justify-content: center;
  -moz-justify-content: center;
  -o-justify-content: center;
  -ms-justify-content: center;
  align-items: center;
  width: 48px;
  height: 48px;
  padding: 0.85em 1.1em;
  border-radius: 100px;
  -webkit-border-radius: 100px;
  border: none;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
  color: #3dd9b6;
}
.l_header .switcher >li >a:hover {
  border: none;
}
.l_header .switcher >li >a.active,
.l_header .switcher >li >a:active {
  border: none;
  background: var(--color-site-bg);
}
@media screen and (max-width: 500px) {
  .l_header .switcher >li >a {
    width: 36px;
    height: 48px;
  }
}
.l_header .nav-sub .switcher {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
}
.l_header .m_search {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  height: 64px;
  width: 240px;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
@media screen and (max-width: 1024px) {
  .l_header .m_search {
    width: 44px;
    min-width: 44px;
  }
  .l_header .m_search input::placeholder {
    opacity: 0;
    -webkit-opacity: 0;
    -moz-opacity: 0;
  }
  .l_header .m_search:hover {
    width: 240px;
  }
  .l_header .m_search:hover input::placeholder {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@media screen and (min-width: 500px) {
  .l_header .m_search:hover .input {
    width: 100%;
  }
  .l_header .m_search:hover .input::placeholder {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@media screen and (max-width: 500px) {
  .l_header .m_search {
    min-width: 0;
  }
  .l_header .m_search input::placeholder {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
.l_header .m_search .form {
  position: relative;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  width: 100%;
  align-items: center;
}
.l_header .m_search .icon {
  position: absolute;
  width: 36px;
  left: 5px;
  color: var(--color-meta);
}
@media screen and (max-width: 500px) {
  .l_header .m_search .icon {
    display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
    display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
    display: none;
  }
}
.l_header .m_search .input {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  padding-top: 8px;
  padding-bottom: 8px;
  line-height: 1.3;
  width: 100%;
  color: var(--color-text);
  background: #fafafa;
  box-shadow: none;
  -webkit-box-shadow: none;
  box-sizing: border-box;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  padding-left: 40px;
  font-size: 0.875rem;
  border-radius: 8px;
  -webkit-border-radius: 8px;
  border: none;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
@media screen and (min-width: 500px) {
  .l_header .m_search .input:focus {
    box-shadow: 0 4px 8px 0px rgba(0,0,0,0.1);
    -webkit-box-shadow: 0 4px 8px 0px rgba(0,0,0,0.1);
  }
}
@media screen and (max-width: 500px) {
  .l_header .m_search .input {
    background: var(--color-block);
    padding-left: 8px;
    border: none;
  }
  .l_header .m_search .input:hover,
  .l_header .m_search .input:focus {
    border: none;
  }
}
@media (max-width: 500px) {
  .l_header .m_search {
    left: 0;
    width: 0;
    overflow: hidden;
    position: absolute;
    background: #fff;
    transition: all 0.28s ease;
    -webkit-transition: all 0.28s ease;
    -khtml-transition: all 0.28s ease;
    -moz-transition: all 0.28s ease;
    -o-transition: all 0.28s ease;
    -ms-transition: all 0.28s ease;
  }
  .l_header .m_search .input {
    border-radius: 32px;
    -webkit-border-radius: 32px;
    margin-left: 16px;
    padding-left: 16px;
  }
  .l_header.z_search-open .m_search {
    width: 100%;
  }
  .l_header.z_search-open .m_search .input {
    width: calc(100% - 120px);
  }
}
ul.m-pc >li>a {
  color: inherit;
  border-bottom: 2px solid transparent;
}
ul.m-pc >li>a:active,
ul.m-pc >li>a.active {
  border-bottom: 2px solid #3dd9b6;
}
ul.m-pc li:hover >ul.list-v,
ul.list-v li:hover >ul.list-v {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
}
ul.nav-list-h {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  align-items: stretch;
}
ul.nav-list-h>li {
  position: relative;
  justify-content: center;
  -webkit-justify-content: center;
  -khtml-justify-content: center;
  -moz-justify-content: center;
  -o-justify-content: center;
  -ms-justify-content: center;
  height: 100%;
  line-height: 2.4;
  border-radius: 4px;
  -webkit-border-radius: 4px;
}
ul.nav-list-h>li >a {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-weight: 600;
}
ul.list-v {
  z-index: 1;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
  position: absolute;
  background: var(--color-card);
  box-shadow: 0 2px 4px 0px rgba(0,0,0,0.08), 0 4px 8px 0px rgba(0,0,0,0.08), 0 8px 16px 0px rgba(0,0,0,0.08);
  -webkit-box-shadow: 0 2px 4px 0px rgba(0,0,0,0.08), 0 4px 8px 0px rgba(0,0,0,0.08), 0 8px 16px 0px rgba(0,0,0,0.08);
  margin-top: -6px;
  border-radius: 4px;
  -webkit-border-radius: 4px;
  padding: 8px 0;
}
ul.list-v.show {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
}
ul.list-v hr {
  margin-top: 8px;
  margin-bottom: 8px;
}
ul.list-v >li {
  white-space: nowrap;
  word-break: keep-all;
}
ul.list-v >li.header {
  font-size: 0.78125rem;
  font-weight: bold;
  line-height: 2em;
  color: var(--color-meta);
  margin: 8px 16px 4px;
}
ul.list-v >li.header i {
  margin-right: 8px;
}
ul.list-v >li ul {
  margin-left: 0;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
  margin-top: -40px;
}
ul.list-v .aplayer-container {
  min-height: 64px;
  padding: 6px 16px;
}
ul.list-v >li>a {
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  color: var(--color-list);
  font-size: 0.875rem;
  font-weight: bold;
  line-height: 36px;
  padding: 0 20px 0 16px;
  text-overflow: ellipsis;
  margin: 0 4px;
  border-radius: 4px;
  -webkit-border-radius: 4px;
}
@media screen and (max-width: 1024px) {
  ul.list-v >li>a {
    line-height: 40px;
  }
}
ul.list-v >li>a >i {
  margin-right: 8px;
}
ul.list-v >li>a:active,
ul.list-v >li>a.active {
  color: var(--color-list-hl);
}
ul.list-v >li>a:hover {
  color: var(--color-list-hl);
  background: var(--color-site-bg);
}
.l_header .menu >ul>li>a {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  padding: 0 8px;
}
.l_header .menu >ul>li>a >i {
  margin-right: 4px;
}
.l_header ul.nav-list-h>li {
  color: var(--color-list);
  line-height: 64px;
}
.l_header ul.nav-list-h>li >a {
  max-height: 64px;
  overflow: hidden;
  color: inherit;
}
.l_header ul.nav-list-h>li >a:active,
.l_header ul.nav-list-h>li >a.active {
  color: #3dd9b6;
}
.l_header ul.nav-list-h>li:hover>a {
  color: var(--color-list-hl);
}
.l_header ul.nav-list-h>li i.music {
  animation: rotate-effect 1.5s linear infinite;
  -webkit-animation: rotate-effect 1.5s linear infinite;
  -khtml-animation: rotate-effect 1.5s linear infinite;
  -moz-animation: rotate-effect 1.5s linear infinite;
  -o-animation: rotate-effect 1.5s linear infinite;
  -ms-animation: rotate-effect 1.5s linear infinite;
}
@-moz-keyframes rotate-effect {
  0% {
    transform: rotate(0);
    -webkit-transform: rotate(0);
    -khtml-transform: rotate(0);
    -moz-transform: rotate(0);
    -o-transform: rotate(0);
    -ms-transform: rotate(0);
  }
  25% {
    transform: rotate(90deg);
    -webkit-transform: rotate(90deg);
    -khtml-transform: rotate(90deg);
    -moz-transform: rotate(90deg);
    -o-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
  }
  50% {
    transform: rotate(180deg);
    -webkit-transform: rotate(180deg);
    -khtml-transform: rotate(180deg);
    -moz-transform: rotate(180deg);
    -o-transform: rotate(180deg);
    -ms-transform: rotate(180deg);
  }
  75% {
    transform: rotate(270deg);
    -webkit-transform: rotate(270deg);
    -khtml-transform: rotate(270deg);
    -moz-transform: rotate(270deg);
    -o-transform: rotate(270deg);
    -ms-transform: rotate(270deg);
  }
  100% {
    transform: rotate(360deg);
    -webkit-transform: rotate(360deg);
    -khtml-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
  }
}
@-webkit-keyframes rotate-effect {
  0% {
    transform: rotate(0);
    -webkit-transform: rotate(0);
    -khtml-transform: rotate(0);
    -moz-transform: rotate(0);
    -o-transform: rotate(0);
    -ms-transform: rotate(0);
  }
  25% {
    transform: rotate(90deg);
    -webkit-transform: rotate(90deg);
    -khtml-transform: rotate(90deg);
    -moz-transform: rotate(90deg);
    -o-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
  }
  50% {
    transform: rotate(180deg);
    -webkit-transform: rotate(180deg);
    -khtml-transform: rotate(180deg);
    -moz-transform: rotate(180deg);
    -o-transform: rotate(180deg);
    -ms-transform: rotate(180deg);
  }
  75% {
    transform: rotate(270deg);
    -webkit-transform: rotate(270deg);
    -khtml-transform: rotate(270deg);
    -moz-transform: rotate(270deg);
    -o-transform: rotate(270deg);
    -ms-transform: rotate(270deg);
  }
  100% {
    transform: rotate(360deg);
    -webkit-transform: rotate(360deg);
    -khtml-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
  }
}
@-o-keyframes rotate-effect {
  0% {
    transform: rotate(0);
    -webkit-transform: rotate(0);
    -khtml-transform: rotate(0);
    -moz-transform: rotate(0);
    -o-transform: rotate(0);
    -ms-transform: rotate(0);
  }
  25% {
    transform: rotate(90deg);
    -webkit-transform: rotate(90deg);
    -khtml-transform: rotate(90deg);
    -moz-transform: rotate(90deg);
    -o-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
  }
  50% {
    transform: rotate(180deg);
    -webkit-transform: rotate(180deg);
    -khtml-transform: rotate(180deg);
    -moz-transform: rotate(180deg);
    -o-transform: rotate(180deg);
    -ms-transform: rotate(180deg);
  }
  75% {
    transform: rotate(270deg);
    -webkit-transform: rotate(270deg);
    -khtml-transform: rotate(270deg);
    -moz-transform: rotate(270deg);
    -o-transform: rotate(270deg);
    -ms-transform: rotate(270deg);
  }
  100% {
    transform: rotate(360deg);
    -webkit-transform: rotate(360deg);
    -khtml-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
  }
}
@keyframes rotate-effect {
  0% {
    transform: rotate(0);
    -webkit-transform: rotate(0);
    -khtml-transform: rotate(0);
    -moz-transform: rotate(0);
    -o-transform: rotate(0);
    -ms-transform: rotate(0);
  }
  25% {
    transform: rotate(90deg);
    -webkit-transform: rotate(90deg);
    -khtml-transform: rotate(90deg);
    -moz-transform: rotate(90deg);
    -o-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
  }
  50% {
    transform: rotate(180deg);
    -webkit-transform: rotate(180deg);
    -khtml-transform: rotate(180deg);
    -moz-transform: rotate(180deg);
    -o-transform: rotate(180deg);
    -ms-transform: rotate(180deg);
  }
  75% {
    transform: rotate(270deg);
    -webkit-transform: rotate(270deg);
    -khtml-transform: rotate(270deg);
    -moz-transform: rotate(270deg);
    -o-transform: rotate(270deg);
    -ms-transform: rotate(270deg);
  }
  100% {
    transform: rotate(360deg);
    -webkit-transform: rotate(360deg);
    -khtml-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
  }
}
.menu-phone li ul.list-v {
  right: calc(100% - 0.5 * 16px);
}
.menu-phone li ul.list-v ul {
  right: calc(100% - 0.5 * 16px);
}
#wrapper {
  max-width: 1280px;
  margin: auto;
}
@media screen and (min-width: 2048px) {
  #wrapper {
    max-width: 55vw;
  }
}
#wrapper .menu {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -webkit-flex: 1 1;
  -ms-flex: 1 1;
  flex: 1 1;
  margin: 0 16px 0 0;
}
#wrapper .menu .list-v ul {
  left: calc(100% - 0.5 * 16px);
}
.menu-phone {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
  margin-top: 16px;
  right: 8px;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
.menu-phone ul {
  right: calc(100% - 0.5 * 16px);
}
@media screen and (max-width: 500px) {
  .menu-phone {
    display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
    display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
    display: block;
  }
}
.l_header {
  max-width: 65vw;
  left: calc((100% - 65vw) * 0.5);
  border-bottom-left-radius: 8px;
  border-bottom-right-radius: 8px;
}
@media screen and (max-width: 2048px) {
  .l_header {
    max-width: 1312px;
    left: calc((100% - 1312px) * 0.5);
  }
}
@media screen and (max-width: 1312px) {
  .l_header {
    left: 0;
    border-radius: 0;
    -webkit-border-radius: 0;
    max-width: 100%;
  }
}
@media screen and (max-width: 500px) {
  .l_header .container {
    margin-left: 0;
    margin-right: 0;
  }
  .l_header #wrapper .nav-main .title {
    padding-left: 16px;
    padding-right: 16px;
  }
  .l_header #wrapper .nav-sub {
    width: 100%;
  }
  .l_header #wrapper .nav-sub .title {
    overflow-y: scroll;
    margin-top: 2px;
    padding: 8px 16px;
  }
  .l_header #wrapper .switcher {
    display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
    display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
    display: -ms-flexbox /* TWEENER - IE 10 */;
    display: -webkit-flex /* NEW - Chrome */;
    display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
    display: flex;
    margin-right: 8px;
  }
  .l_header .menu {
    display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
    display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
    display: none;
  }
}
@media screen and (max-width: 500px) {
  .list-v li {
    max-width: 270px;
  }
}
#u-search {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  padding: 60px 20px;
  z-index: 1001;
}
@media screen and (max-width: 680px) {
  #u-search {
    padding: 0px;
  }
}
@media screen and (prefers-color-scheme: dark) and (max-width: 500px) {
  .l_header .m_search {
    background: var(--color-site-bg) !important;
  }
}

  </style>
  <link rel="stylesheet" href="/en/css/style.css" media="print" onload="this.media='all';this.onload=null">
  <noscript><link rel="stylesheet" href="/en/css/style.css"></noscript>
    <script>
      let userColorScheme=localStorage.getItem("color-scheme")
      if(userColorScheme){
        document.documentElement.setAttribute("color-scheme", userColorScheme);
      }
    </script>
  
<script>
if (/*@cc_on!@*/false || (!!window.MSInputMethodContext && !!document.documentMode))
    document.write(
	'<style>'+
		'html{'+
			'overflow-x: hidden !important;'+
			'overflow-y: hidden !important;'+
		'}'+
		'.kill-ie{'+
			'text-align:center;'+
			'height: 100%;'+
			'margin-top: 15%;'+
			'margin-bottom: 5500%;'+
		'}'+
    '.kill-t{'+
      'font-size: 2rem;'+
    '}'+
    '.kill-c{'+
      'font-size: 1.2rem;'+
    '}'+
		'#l_header,#l_body{'+
			'display: none;'+
		'}'+
	'</style>'+
    '<div class="kill-ie">'+
        `<span class="kill-t"><b>Sorry, your browser cannot access this site</b></span><br/>`+
        `<span class="kill-c">Microsoft has terminated support for Internet Explorer (IE) 10 and earlier versions in 2016. <br/>There are great security risks to continue using it. Please use contemporary mainstream browsers to access.</span><br/>`+
        `<a target="_blank" rel="noopener" href="https://blogs.windows.com/windowsexperience/2021/05/19/the-future-of-internet-explorer-on-windows-10-is-in-microsoft-edge/"><strong>Learn more ></strong></a>`+
    '</div>');
</script>


<noscript>
	<style>
		html{
			overflow-x: hidden !important;
			overflow-y: hidden !important;
		}
		.kill-noscript{
			text-align:center;
			height: 100%;
			margin-top: 15%;
			margin-bottom: 5500%;
		}
    .kill-t{
      font-size: 2rem;
    }
    .kill-c{
      font-size: 1.2rem;
    }
		#l_header,#l_body{
			display: none;
		}
	</style>
    <div class="kill-noscript">
        <span class="kill-t"><b>Sorry, your browser cannot access this site</b></span><br/>
        <span class="kill-c">This page requires browser support (enable) JavaScript</span><br/>
        <a target="_blank" rel="noopener" href="https://www.baidu.com/s?wd=启用JavaScript"><strong>Learn more ></strong></a>
    </div>
</noscript>


  <script>
  /************这个文件存放不需要重载的全局变量和全局函数*********/
  window.volantis = {}; // volantis 全局变量
  volantis.debug = "env"; // 调试模式
  volantis.dom = {}; // 页面Dom see: /source/js/app.js etc.
  /******************** volantis.dom.$ ********************************/
  // 注：这里没有选择器，也没有forEach一次只处理一个dom，这里重新封装主题常用的dom方法，返回的是dom对象，对象包含了以下方法，同时保留dom的原生API
  function volantisDom(ele) {
    if (!ele) ele = document.createElement("div")
    this.ele = ele;
    // ==============================================================
    this.ele.find = (c) => {
      let q = this.ele.querySelector(c)
      if (q)
        return new volantisDom(q)
    }
    // ==============================================================
    this.ele.hasClass = (c) => {
      return this.ele.className.match(new RegExp('(\\s|^)' + c + '(\\s|$)'));
    }
    this.ele.addClass = (c) => {
      this.ele.classList.add(c);
      return this.ele
    }
    this.ele.removeClass = (c) => {
      this.ele.classList.remove(c);
      return this.ele
    }
    this.ele.toggleClass = (c) => {
      if (this.ele.hasClass(c)) {
        this.ele.removeClass(c)
      } else {
        this.ele.addClass(c)
      }
      return this.ele
    }
    // ==============================================================
    this.ele.on = (c, f) => {
      this.ele.addEventListener(c, f, false)
      return this.ele
    }
    this.ele.click = (f, r) => {
      this.ele.on("click", f, r)
      return this.ele
    }
    this.ele.scroll = (f, r) => {
      this.ele.on("scroll", f, r)
      return this.ele
    }
    // ==============================================================
    this.ele.html = (c) => {
      // if(c=== undefined){
      //   return this.ele.innerHTML
      // }else{
      this.ele.innerHTML = c
      return this.ele
      // }
    }
    // ==============================================================
    this.ele.hide = (c) => {
      this.ele.style.display = "none"
      return this.ele
    }
    this.ele.show = (c) => {
      this.ele.style.display = "block"
      return this.ele
    }
    // ==============================================================
    return this.ele
  }
  volantis.dom.$ = (ele) => {
    return !!ele ? new volantisDom(ele) : null;
  }
  /******************** RunItem ********************************/
  function RunItem() {
    this.list = []; // 存放回调函数
    this.start = () => {
      for (var i = 0; i < this.list.length; i++) {
        this.list[i].run();
      }
    };
    this.push = (fn, name, setRequestAnimationFrame = true) => {
      let myfn = fn
      if (setRequestAnimationFrame) {
        myfn = () => {
          volantis.requestAnimationFrame(fn)
        }
      }
      var f = new Item(myfn, name);
      this.list.push(f);
    };
    this.remove = (name) => {
      for (let index = 0; index < this.list.length; index++) {
        const e = this.list[index];
        if (e.name == name) {
          this.list.splice(index, 1);
        }
      }
    }
    // 构造一个可以run的对象
    function Item(fn, name) {
      // 函数名称
      this.name = name || fn.name;
      // run方法
      this.run = () => {
        try {
          fn()
        } catch (error) {
          console.log(error);
        }
      };
    }
  }
  /******************** RightMenu ********************************/
  // volantis.rightmenu.handle(callBack[,"callBackName"]) 外部菜单项控制
  // 可在 volantis.mouseEvent 处获取右键事件
  volantis.rightmenu = {};
  volantis.rightmenu.method = {
    handle: new RunItem(),
  }
  volantis.rightmenu = Object.assign(volantis.rightmenu, {
    handle: volantis.rightmenu.method.handle.push,
  });
  /********************  Dark Mode  ********************************/
  // /layout/_partial/scripts/darkmode.ejs
  // volantis.dark.mode 当前模式 dark or light
  // volantis.dark.toggle() 暗黑模式触发器
  // volantis.dark.push(callBack[,"callBackName"]) 传入触发器回调函数
  volantis.dark = {};
  volantis.dark.method = {
    toggle: new RunItem(),
  };
  volantis.dark = Object.assign(volantis.dark, {
    push: volantis.dark.method.toggle.push,
  });
  /********************  Message  ********************************/
  // VolantisApp.message
  /********************  isMobile  ********************************/
  // /source/js/app.js
  // volantis.isMobile
  // volantis.isMobileOld
  /********************脚本动态加载函数********************************/
  // volantis.js(src, cb)  cb 可以传入onload回调函数 或者 JSON对象 例如: volantis.js("src", ()=>{}) 或 volantis.js("src", {defer:true,onload:()=>{}})
  // volantis.css(src)

  // 返回Promise对象，如下方法同步加载资源，这利于处理文件资源之间的依赖关系，例如：APlayer 需要在 MetingJS 之前加载
  // (async () => {
  //     await volantis.js("...theme.plugins.aplayer.js.aplayer...")
  //     await volantis.js("...theme.plugins.aplayer.js.meting...")
  // })();

  // 已经加入了setTimeout
  volantis.js = (src, cb) => {
    return new Promise(resolve => {
      setTimeout(function () {
        var HEAD = document.getElementsByTagName("head")[0] || document.documentElement;
        var script = document.createElement("script");
        script.setAttribute("type", "text/javascript");
        if (cb) {
          if (JSON.stringify(cb)) {
            for (let p in cb) {
              if (p == "onload") {
                script[p] = () => {
                  cb[p]()
                  resolve()
                }
              } else {
                script[p] = cb[p]
                script.onload = resolve
              }
            }
          } else {
            script.onload = () => {
              cb()
              resolve()
            };
          }
        } else {
          script.onload = resolve
        }
        script.setAttribute("src", src);
        HEAD.appendChild(script);
      });
    });
  }
  volantis.css = (src) => {
    return new Promise(resolve => {
      setTimeout(function () {
        var link = document.createElement('link');
        link.rel = "stylesheet";
        link.href = src;
        link.onload = resolve;
        document.getElementsByTagName("head")[0].appendChild(link);
      });
    });
  }
  /********************按需加载的插件********************************/
  // volantis.import.jQuery().then(()=>{})
  volantis.import = {
    jQuery: () => {
      if (typeof jQuery == "undefined") {
        return volantis.js("https://unpkg.com/jquery@3.7.1/dist/jquery.min.js")
      } else {
        return new Promise(resolve => {
          resolve()
        });
      }
    }
  }
  /********************** requestAnimationFrame ********************************/
  // 1、requestAnimationFrame 会把每一帧中的所有 DOM 操作集中起来，在一次重绘或回流中就完成，并且重绘或回流的时间间隔紧紧跟随浏览器的刷新频率，一般来说，这个频率为每秒60帧。
  // 2、在隐藏或不可见的元素中，requestAnimationFrame 将不会进行重绘或回流，这当然就意味着更少的的 cpu，gpu 和内存使用量。
  volantis.requestAnimationFrame = (fn) => {
    if (!window.requestAnimationFrame) {
      window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame;
    }
    window.requestAnimationFrame(fn)
  }
  /************************ layoutHelper *****************************************/
  volantis.layoutHelper = (helper, html, opt) => {
    opt = Object.assign({ clean: false}, opt)
    function myhelper(helper, html, clean) {
      volantis.tempDiv = document.createElement("div");
      volantis.tempDiv.innerHTML = html;
      let layoutHelper = document.querySelector("#layoutHelper-" + helper)
      if (layoutHelper) {
        if (clean) {
          layoutHelper.innerHTML = ""
        }
        layoutHelper.append(volantis.tempDiv);
      }
    }
    myhelper(helper, html, opt.clean)
  }
  /****************************** 滚动事件处理 ****************************************/
  volantis.scroll = {
    engine: new RunItem(),
    unengine: new RunItem(),
  };
  volantis.scroll = Object.assign(volantis.scroll, {
    push: volantis.scroll.engine.push,
  });
  // 滚动条距离顶部的距离
  volantis.scroll.getScrollTop = () => {
    let scrollPos;
    if (window.pageYOffset) {
      scrollPos = window.pageYOffset;
    } else if (document.compatMode && document.compatMode != 'BackCompat') {
      scrollPos = document.documentElement.scrollTop;
    } else if (document.body) {
      scrollPos = document.body.scrollTop;
    }
    return scrollPos;
  }
  volantis.scroll.scrollHeight = function () {
    return Math.max(
      document.body.scrollHeight,
      document.documentElement.scrollHeight,
    )
  }
  volantis.scroll.offsetHeight = function () {
    return Math.max(
      document.body.offsetHeight,
      document.documentElement.offsetHeight,
      document.body.clientHeight,
      document.documentElement.clientHeight
    )
  }
  volantis.scroll.progress = function () {
    return volantis.scroll.getScrollTop() / (volantis.scroll.scrollHeight() - volantis.scroll.offsetHeight())
  }
  // 使用 requestAnimationFrame 处理滚动事件
  // `volantis.scroll.del` 中存储了一个数值, 该数值检测一定时间间隔内滚动条滚动的位移, 数值的检测频率是浏览器的刷新频率. 数值为正数时, 表示向下滚动. 数值为负数时, 表示向上滚动.
  volantis.scroll.handleScrollEvents = () => {
    volantis.scroll.lastScrollTop = volantis.scroll.getScrollTop()
    function loop() {
      const scrollTop = volantis.scroll.getScrollTop();
      if (volantis.scroll.lastScrollTop !== scrollTop) {
        volantis.scroll.del = scrollTop - volantis.scroll.lastScrollTop;
        volantis.scroll.lastScrollTop = scrollTop;
        // if (volantis.scroll.del > 0) {
        //   console.log("向下滚动");
        // } else {
        //   console.log("向上滚动");
        // }
        // 注销过期的unengine未滚动事件
        volantis.scroll.unengine.list = []
        volantis.scroll.engine.start();
      } else {
        volantis.scroll.unengine.start();
      }
      volantis.requestAnimationFrame(loop)
    }
    volantis.requestAnimationFrame(loop)
  }
  volantis.scroll.handleScrollEvents()
  volantis.scroll.ele = null;
  // 触发页面滚动至目标元素位置
  volantis.scroll.to = (ele, option = {}) => {
    if (!ele) return;
    volantis.scroll.ele = ele;
    // 默认配置
    opt = {
      top: ele.getBoundingClientRect().top + document.documentElement.scrollTop,
      behavior: "smooth"
    }
    // 定义配置
    if ("top" in option) {
      opt.top = option.top
    }
    if ("behavior" in option) {
      opt.behavior = option.behavior
    }
    if ("addTop" in option) {
      opt.top += option.addTop
    }
    if (!("observerDic" in option)) {
      option.observerDic = 100
    }
    // 滚动
    window.scrollTo(opt);
    // 监视器
    // 监视并矫正元素滚动到指定位置
    // 用于处理 lazyload 引起的 cls 导致的定位失败问题
    // option.observer = false
    if (option.observer) {
      setTimeout(() => {
        if (volantis.scroll.ele != ele) {
          return
        }
        volantis.scroll.unengine.push(() => {
          let me = ele.getBoundingClientRect().top
          if (!(me >= -option.observerDic && me <= option.observerDic)) {
            volantis.scroll.to(ele, option)
          }
          volantis.scroll.unengine.remove("unengineObserver")
        }, "unengineObserver")
      }, 1000)
    }
  }
  /********************** Content Visibility ********************************/
  // 见 source/css/first.styl 如果遇到任何问题 删除 .post-story 即可
  // 一个元素被声明 content-visibility 属性后 如果元素不在 viewport 中 浏览器不会计算其后代元素样式和属性 从而节省 Style & Layout 耗时
  // content-visibility 的副作用: 锚点失效 等等(实验初期 暂不明确), 使用此方法清除样式
  volantis.cleanContentVisibility = () => {
    if (document.querySelector(".post-story")) {
      console.log("cleanContentVisibility");
      document.querySelectorAll(".post-story").forEach(e => {
        e.classList.remove("post-story")
      })
    }
  }
  /******************************************************************************/
  /******************************************************************************/
  /******************************************************************************/
  //图像加载出错时的处理
  function errorImgAvatar(img) {
    img.src = "https://unpkg.com/volantis-static@0.0.1660614606622/media/placeholder/avatar/round/3442075.svg";
    img.onerror = null;
  }
  function errorImgCover(img) {
    img.src = "https://unpkg.com/volantis-static@0.0.1660614606622/media/placeholder/cover/76b86c0226ffd.svg";
    img.onerror = null;
  }
  /******************************************************************************/
</script>

<script>
  window.pdata={}
  pdata.ispage=true;
  pdata.commentPath="";
  pdata.commentPlaceholder="";
  pdata.commentConfig={};
  volantis.GLOBAL_CONFIG ={
    root: '/en/',
    debug: "env",
    default: {"avatar":"https://unpkg.com/volantis-static@0.0.1660614606622/media/placeholder/avatar/round/3442075.svg","link":"https://unpkg.com/volantis-static@0.0.1660614606622/media/placeholder/link/8f277b4ee0ecd.svg","cover":"https://unpkg.com/volantis-static@0.0.1660614606622/media/placeholder/cover/76b86c0226ffd.svg","image":"https://unpkg.com/volantis-static@0.0.1660614606622/media/placeholder/image/2659360.svg"},
    lastupdate: new Date(1771996874673),
    cdn: {
      izitoast_css: 'https://unpkg.com/izitoast@1.4.0/dist/css/iziToast.min.css',
      izitoast_js: 'https://unpkg.com/izitoast@1.4.0/dist/js/iziToast.min.js',
      fancybox_css: 'https://unpkg.com/@fancyapps/ui@5.0.36/dist/fancybox/fancybox.css',
      fancybox_js: 'https://unpkg.com/@fancyapps/ui@5.0.36/dist/fancybox/fancybox.umd.js'
    },
    sidebar: {
      for_page: ["blogger","category","tagcloud","donate"],
      for_post: ["toc"],
      webinfo: {
        lastupd: {
          enable: true,
          friendlyShow: true
        },
        runtime: {
          data: "2020/01/01",
          unit: "天"
        }
      }
    },
    plugins: {
      message: {"enable":true,"icon":{"default":"fa-solid fa-info-circle light-blue","quection":"fa-solid fa-question-circle light-blue"},"time":{"default":5000,"quection":20000},"position":"topRight","transitionIn":"bounceInLeft","transitionOut":"fadeOutRight","titleColor":"var(--color-text)","messageColor":"var(--color-text)","backgroundColor":"var(--color-card)","zindex":2147483647,"copyright":{"enable":true,"title":"知识共享许可协议","message":"请遵守 CC BY-NC-SA 4.0 协议。","icon":"far fa-copyright light-blue"},"aplayer":{"enable":true,"play":"fa-solid fa-play","pause":"fa-solid fa-pause"},"rightmenu":{"enable":true,"notice":true}},
      
      
    },
    search: {
      

      
        dataPath: (("/en/" || "/").endsWith("/") ? "/en/" || "/" : "/en//" || "/") + "content.json",
      

      
    },
    languages: {
      
        search: {
          hits_empty: "We didn't find any results for the search: ${query}.",
          hits_stats: "${hits} results found in ${time} ms",
        }
      
    }
  }
</script>
  <!-- import head_end begin -->
  <!-- import head_end end -->
  <!-- Custom Files headEnd begin-->
  
  <!-- Custom Files headEnd end-->
</head>
  <body itemscope itemtype="https://schema.org.cn/WebPage">
    
    <header itemscope itemtype="https://schema.org.cn/WPHeader" id="l_header" class="l_header auto shadow floatable blur " style='opacity: 0' >
  <div class='container'>
  <div id='wrapper'>
    <div class='nav-sub'>
      <p class="title"></p>
      <ul class='switcher nav-list-h m-phone'>
        <li><a id="s-comment" class="fa-solid fa-comments fa-fw" target="_self" title="comment"></a></li>
        
          <li><a id="s-toc" class="s-toc fa-solid fa-list fa-fw" target="_self" title="toc"></a></li>
        
      </ul>
    </div>
		<div class="nav-main">
      
        
        <a class="title flat-box" target="_self" href='/en/'>
          
            <img no-lazy class='logo' src='https://unpkg.com/volantis-static@0.0.1660614606622/media/org.volantis/blog/Logo-NavBar@3x.png'/>
          
          
          
        </a>
      

			<div class='menu navigation'>
				<ul class='nav-list-h m-pc'>
          
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/en/" title="Blog"
                  
                  
                  
                    active-action="action-en"
                  >
                  <i class='fa-solid fa-rss fa-fw'></i>Blog
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/en/categories/" title="Categories"
                  
                  
                  
                    active-action="action-encategories"
                  >
                  <i class='fa-solid fa-folder-open fa-fw'></i>Categories
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/en/tags/" title="Tags"
                  
                  
                  
                    active-action="action-entags"
                  >
                  <i class='fa-solid fa-tags fa-fw'></i>Tags
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/en/archives/" title="Archievs"
                  
                  
                  
                    active-action="action-enarchives"
                  >
                  <i class='fa-solid fa-archive fa-fw'></i>Archievs
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/en/friends/" title="Friends"
                  
                  
                  
                    active-action="action-enfriends"
                  >
                  <i class='fa-solid fa-link fa-fw'></i>Friends
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/en/about/" title="About"
                  
                  
                  
                    active-action="action-enabout"
                  >
                  <i class='fa-solid fa-info-circle fa-fw'></i>About
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box header toggle-mode-btn">
                  <i class='fa-solid fa-moon fa-fw'></i>Dark
                </a>
              <li>
            
          
          
				</ul>
			</div>
      
      <div class="m_search">
        <form name="searchform" class="form u-search-form">
          <i class="icon fa-solid fa-search fa-fw"></i>
          <input type="text" class="input u-search-input" placeholder="Search..." />
        </form>
      </div>
      

			<ul class='switcher nav-list-h m-phone'>
				
					<li><a class="s-search fa-solid fa-search fa-fw" target="_self" title="search"></a></li>
				
				<li>
          <a class="s-menu fa-solid fa-bars fa-fw" target="_self" title="menu"></a>
          <ul class="menu-phone list-v navigation white-box">
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/en/" title="Blog"
                  
                  
                  
                    active-action="action-en"
                  >
                  <i class='fa-solid fa-rss fa-fw'></i>Blog
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/en/categories/" title="Categories"
                  
                  
                  
                    active-action="action-encategories"
                  >
                  <i class='fa-solid fa-folder-open fa-fw'></i>Categories
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/en/tags/" title="Tags"
                  
                  
                  
                    active-action="action-entags"
                  >
                  <i class='fa-solid fa-tags fa-fw'></i>Tags
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/en/archives/" title="Archievs"
                  
                  
                  
                    active-action="action-enarchives"
                  >
                  <i class='fa-solid fa-archive fa-fw'></i>Archievs
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/en/friends/" title="Friends"
                  
                  
                  
                    active-action="action-enfriends"
                  >
                  <i class='fa-solid fa-link fa-fw'></i>Friends
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/en/about/" title="About"
                  
                  
                  
                    active-action="action-enabout"
                  >
                  <i class='fa-solid fa-info-circle fa-fw'></i>About
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box header toggle-mode-btn">
                  <i class='fa-solid fa-moon fa-fw'></i>Dark
                </a>
              <li>
            
          
            
          </ul>
        </li>
			</ul>

      <!-- Custom Files header begin -->
      
      <!-- Custom Files header end -->
		</div>
	</div>
  </div>
</header>

    <div id="l_body">
      <div id="l_cover">
  
    
      <div class="cover-wrapper post dock" id='half'>
        
  <div id="parallax-window"></div>

<div class='cover-body'>
  <div class='top'>
    
    
      <p class="title">Archer's blog</p>
    
    
  </div>
  <div class='bottom'>
    <div class='menu navigation'>
      <div class='list-h'>
        
          
            <a href="/en/"
              
              
              active-action="action-en">
              <i class='fa-solid fa-rss fa-fw'></i><p>Blog</p>
            </a>
          
            <a href="/en/categories/"
              
              
              active-action="action-encategories">
              <img src='https://unpkg.com/volantis-static@0.0.1660614606622/media/twemoji/assets/svg/1f5c3.svg'><p>Categories</p>
            </a>
          
            <a href="/en/tags/"
              
              
              active-action="action-entags">
              <i class='fa-solid fa-tags fa-fw'></i><p>Tags</p>
            </a>
          
            <a href="/en/archives/"
              
              
              active-action="action-enarchives">
              <i class='fa-solid fa-archive fa-fw'></i><p>Archievs</p>
            </a>
          
            <a href="/en/friends/"
              
              
              active-action="action-enfriends">
              <i class='fa-solid fa-link fa-fw'></i><p>Friends</p>
            </a>
          
            <a href="/en/about/"
              
              
              active-action="action-enabout">
              <i class='fa-solid fa-info-circle fa-fw'></i><p>About</p>
            </a>
          
        
      </div>
    </div>
  </div>
</div>

      </div>
    
  
</div>

      <div id="safearea">
        <div class="body-wrapper">
          
<div id="l_main" class=''>
  <article itemscope itemtype="https://schema.org.cn/Article" class="article post white-box reveal md shadow floatable blur article-type-post" id="post" itemscope itemprop="blogPost">
  <link itemprop="mainEntityOfPage" href="https://archer-baiyi.github.io/en/2025/08/29/编程/Java入门/">
  <span hidden itemprop="publisher" itemscope itemtype="https://schema.org.cn/Organization">
    <meta itemprop="name" content="Hexo">
  </span>
  <span hidden itemprop="post" itemscope itemtype="https://schema.org.cn/Post">
    <meta itemprop="name" content="Hexo">
    <meta itemprop="description" content="hi">
  </span>
  


  
    <span hidden>
      <meta itemprop="image" content="https://unpkg.com/volantis-static@0.0.1660614606622/media/org.volantis/blog/favicon/android-chrome-192x192.png">
    </span>
  
  <div class="article-meta" id="top">
    
    
    
      <h1 class="title" itemprop="name headline">
        Java入门
      </h1>
      <div class='new-meta-box'>
        
          
            
  
  
  
  <div class='new-meta-item category'>
    <i class="fa-solid fa-folder-open fa-fw" aria-hidden="true"></i>
    <a class="category-link" href="/en/categories/%E7%BC%96%E7%A8%8B/">编程</a>
    
      <span hidden itemprop="about" itemscope itemtype="https://schema.org.cn/Thing">
        <a href="/en/categories/%E7%BC%96%E7%A8%8B/" itemprop="url"><span itemprop="name">编程</span></a>
      </span>
    
  </div>
  



          
        
          
            
  
  
  
  <div class="new-meta-item meta-tags"><a class="tag" href="/en/tags/Java/" rel="nofollow"><i class="fa-solid fa-hashtag fa-fw" aria-hidden="true"></i><p>Java</p></a></div>
  <span hidden itemprop="keywords">Java</span>
  


          
        
          
            <div class="new-meta-item date" itemprop="dateModified" datetime="2026-02-09T10:42:29+01:00">
  <a class='notlink'>
    <i class="fa-solid fa-edit fa-fw" aria-hidden="true"></i>
    <p>Last UpdatedFeb 9, 2026</p>
  </a>
</div>

          
        
          
            


<div class="new-meta-item browse">
  <a class='notlink'>
    <p>
      <i class="fa-solid fa-eye fa-fw" aria-hidden="true"></i>
      
      <span id="busuanzi_page_pv">
        <i class="fa-solid fa-loader fa-spin fa-fw" aria-hidden="true"></i>
      </span>
        
      <span>次浏览</span>
    </p>
  </a>
</div>


          
        
        <!-- Custom Files topMeta begin-->
        
        <!-- Custom Files topMeta end-->
      </div>
    
  </div>


  <div id="layoutHelper-page-plugins"></div>
  <div id="post-body" itemprop="articleBody">
    <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a><strong>介绍</strong></h2><p>Java是一种广泛使用的计算机编程语言，拥有<strong>跨平台</strong>、<strong>面向对象</strong>、<strong>泛型编程</strong>的特性，广泛应用于企业级Web应用开发和移动应用开发。</p>
<h2 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a><strong>Hello World</strong></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello, World!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>public class HelloWorld</code>：定义了一个类，类名必须和文件名一致（区分大小写），所以这份文件必须取名为<code>HelloWorld.java</code>。</li>
<li><p><code>public static void main(String[] args)</code>：这是 Java 程序的入口方法，运行时会从这里开始执行。</p>
<ul>
<li><strong><code>String[] args</code></strong>：用来接收命令行参数，比如运行时 <code>java HelloWorld a b c</code>，<code>args</code> 就是 <code>[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]</code>。</li>
<li><code>String args[]</code> 与 <code>String[] args</code> 都可以执行，但推荐使用 <code>String[] args</code>，这样可以避免歧义和误读。</li>
</ul>
</li>
<li><p><code>System.out.println(&quot;Hello, World!&quot;);</code>：向控制台输出 <code>&quot;Hello, World!&quot;</code>。</p>
</li>
</ul>
<p>注意，<strong>一份java文件里最多只能有一个public class</strong>。</p>
<h2 id="面向对象编程"><a href="#面向对象编程" class="headerlink" title="面向对象编程"></a><strong>面向对象编程</strong></h2><p><strong>面向对象</strong>意味着程序通过“对象”来组织和运行。而在 Java 中，<strong>类（class）是对象的模板</strong>，描述了对象的属性和行为。</p>
<p>类中可以包含：</p>
<ul>
<li><strong>字段（field）</strong>：用来表示对象的数据。</li>
<li><strong>方法（method）</strong>：用来定义对象能做的事。</li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="comment">// 字段</span></span><br><span class="line">    String name;              </span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 方法</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">sayHello</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello, my name is &quot;</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();   <span class="comment">// 创建对象</span></span><br><span class="line">        p.name = <span class="string">&quot;Alice&quot;</span>;</span><br><span class="line">        p.age = <span class="number">20</span>;</span><br><span class="line">        p.sayHello();              <span class="comment">// 调用方法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>而对象有着三个核心特征：</p>
<ol>
<li><p><strong>身份：</strong></p>
<p>属性可以发生变化，但身份不会。比如说名字，身份证号等。</p>
</li>
<li><p><strong>状态：</strong></p>
<p>当前所有属性的集合。比如说身高体重等。</p>
</li>
<li><p><strong>行为：</strong></p>
<p>进行会修改当前状态的操作。如吃饭，喝水等。</p>
</li>
</ol>
<h3 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a><strong>构造函数</strong></h3><ul>
<li>是一种<strong>特殊方法</strong>，与 <code>new</code> 联合使用。</li>
<li>名字和类名相同，没有返回类型。</li>
<li>如果一个类里<strong>不写任何构造函数</strong>，Java 自动给你生成一个无参的“默认构造函数”。</li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Rational</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> numerator, denominator;</span><br><span class="line"></span><br><span class="line">    Rational(<span class="type">int</span> z, <span class="type">int</span> n) &#123;	<span class="comment">// 构造函数</span></span><br><span class="line">        numerator = z;</span><br><span class="line">        denominator = n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>调用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Rational</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Rational</span>(<span class="number">3</span>, <span class="number">4</span>);</span><br></pre></td></tr></table></figure>
<h3 id="引用-reference"><a href="#引用-reference" class="headerlink" title="引用/reference"></a><strong>引用/reference</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Rational</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Rational</span>(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">Rational</span> <span class="variable">b</span> <span class="operator">=</span> a;  <span class="comment">// b 和 a 指向同一个对象</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>b = a;</code> 并不是复制一份新对象，只是复制了一份<strong>引用地址</strong>，即指向同一个对象。</p>
</li>
<li><p>所以通过 <code>b</code> 改对象，其实就是改 <code>a</code> 指向的那个对象。</p>
</li>
</ul>
<h3 id="对象作为属性"><a href="#对象作为属性" class="headerlink" title="对象作为属性"></a><strong>对象作为属性</strong></h3><p>我们同样也可以将对象设置成属性。（简单来讲就是套娃，对象套对象。）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="type">double</span> x, y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Line</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Point p1;</span><br><span class="line">    <span class="keyword">private</span> Point p2;</span><br><span class="line"></span><br><span class="line">    Line(Point p, Point q) &#123;  <span class="comment">// 构造函数</span></span><br><span class="line">        p1 = p;</span><br><span class="line">        p2 = q;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="类属性"><a href="#类属性" class="headerlink" title="类属性"></a><strong>类属性</strong></h3><h4 id="private"><a href="#private" class="headerlink" title="private"></a><strong>private</strong></h4><p><strong><code>private</code></strong> 修饰的成员是“仅在本类内部可见”的：类外代码不能直接访问，只能通过本类提供的方法间接使用。</p>
<p>比如说</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Rational</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> numerator, denominator;</span><br><span class="line"></span><br><span class="line">    Rational(<span class="type">int</span> z, <span class="type">int</span> n) &#123;	<span class="comment">// 构造函数</span></span><br><span class="line">        numerator = z;</span><br><span class="line">        denominator = n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Rational</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Rational</span>(<span class="number">3</span>, <span class="number">4</span>);</span><br></pre></td></tr></table></figure>
<p>在其他类里，不能直接通过<code>a.numerator</code>来访问a的分子。</p>
<p>尽量将所有的属性都设置成<code>private</code>。可以更好地保护以及管控对象内的属性。</p>
<h4 id="public"><a href="#public" class="headerlink" title="public"></a><strong>public</strong></h4><p><strong><code>private</code></strong> 修饰的成员是所有类可见。</p>
<p>比如说：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Rational</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> numerator, denominator;</span><br><span class="line"></span><br><span class="line">    Rational(<span class="type">int</span> z, <span class="type">int</span> n) &#123;	<span class="comment">// 构造函数</span></span><br><span class="line">        numerator = z;</span><br><span class="line">        denominator = n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>那么所有类都可以直接调用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Rational</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Rational</span>();</span><br><span class="line"></span><br><span class="line">a.numerator = <span class="number">3</span>;</span><br></pre></td></tr></table></figure>
<h4 id="static"><a href="#static" class="headerlink" title="static"></a><strong>static</strong></h4><p><strong><code>static</code></strong>修饰的成员是“类级别”的：所有对象共享一份。</p>
<p>例子：统计创建了多少个 <code>Count</code> 对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Count</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// 类属性</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> info;             <span class="comment">// 对象属性</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Count</span><span class="params">()</span> &#123;</span><br><span class="line">        info = count;</span><br><span class="line">        count = count + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>count</code> 是整个类共享的计数器。</li>
<li>每次 <code>new Count()</code>，构造函数就把当前 <code>count</code> 值写到 <code>info</code>，然后 <code>count++</code>。</li>
<li>结果：每个对象的 <code>info</code> 都是一个唯一的编号 0,1,2,…</li>
</ul>
<h3 id="相同-相等"><a href="#相同-相等" class="headerlink" title="相同/相等"></a><strong>相同/相等</strong></h3><ul>
<li><code>==</code> 比较的是<strong>引用是否相同</strong>（是不是同一个对象）。</li>
<li>想比较两个对象<strong>内容</strong>是否相同（相等，identical），需要写自己的 <code>equals</code> 方法，比如：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Rational</span> &#123;</span><br><span class="line">    <span class="type">int</span> zaehler, nenner;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Rational r)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (zaehler * r.nenner == r.zaehler * nenner);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="命名"><a href="#命名" class="headerlink" title="命名"></a><strong>命名</strong></h3><p>Sun（Sun Microsystems, Inc.，当时发明Java语言和平台的公司）很早就给 Java 出了一份官方《Code Conventions for the Java Programming Language》，里边明确推荐：</p>
<ul>
<li><strong>类名</strong>：<code>UpperCamelCase</code> → <code>ArrayList</code>, <code>StringBuilder</code></li>
<li><strong>方法 / 变量</strong>：<code>lowerCamelCase</code> → <code>loadBefore</code>, <code>userName</code></li>
<li><strong>常量（static final）</strong>：<code>ALL_CAPS_SNAKE_CASE</code> → <code>MAX_VALUE</code>, <code>DEFAULT_TIMEOUT</code></li>
<li><strong>包名</strong>：全小写点分 → <code>java.util</code>, <code>org.example.app</code></li>
</ul>
<p>Java 标准库全部遵守这个规范：<br> <code>ArrayList</code>, <code>HashMap</code>, <code>getClass()</code>, <code>toString()</code>, <code>System.out.println()</code>, <code>Math.max()</code>…… 所有 API 都是驼峰风格。</p>
<h2 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a><strong>基本数据类型</strong></h2><p>Java语言提供了八种基本类型。六种数字类型（四个整数型，两个浮点型），一种字符类型，还有一种布尔型。</p>
<p><strong>byte：</strong></p>
<ul>
<li>byte 数据类型是<strong>8位、有符号的</strong>，以二进制补码表示的整数；</li>
<li>最小值是 -2^7；</li>
<li>最大值是 2^7-1；</li>
<li>默认值是 <strong>0</strong>；</li>
<li>byte 类型用在大型数组中节约空间，主要代替整数，因为 byte 变量占用的空间只有 int 类型的四分之一；</li>
<li>例子：byte a = 100，byte b = -50。</li>
</ul>
<p><strong>short：</strong></p>
<ul>
<li>short 数据类型是<strong>16 位、有符号</strong>的以二进制补码表示的整数</li>
<li>最小值是 -2^15；</li>
<li>最大值是 2^15 - 1；</li>
<li>Short 数据类型也可以像 byte 那样节省空间。一个short变量是int型变量所占空间的二分之一；</li>
<li>默认值是 <strong>0</strong>；</li>
<li>例子：short s = 1000，short r = -20000。</li>
</ul>
<p><strong>int：</strong></p>
<ul>
<li>int 数据类型是<strong>32位、有符号</strong>的以二进制补码表示的整数；</li>
<li>最小值是 -2^31；</li>
<li>最大值是 2^31 - 1；</li>
<li>一般地整型变量默认为 int 类型；</li>
<li>默认值是 <strong>0</strong> ；</li>
<li>例子：int a = 100000, int b = -200000。</li>
</ul>
<p><strong>long：</strong></p>
<ul>
<li>long 数据类型是<strong>64 位、有符号</strong>的以二进制补码表示的整数；</li>
<li>最小值是 -2^63；</li>
<li>最大值是 2^63 -1；</li>
<li>这种类型主要使用在需要比较大整数的系统上；</li>
<li>默认值是 <strong>0L</strong>；</li>
<li>例子： long a = 100000L，long b = -200000L。<br>“L”理论上不分大小写，但是若写成”l”容易与数字”1”混淆，不容易分辩。所以最好大写。</li>
</ul>
<p><strong>float：</strong></p>
<ul>
<li>float 数据类型是<strong>单精度、32位</strong>、符合IEEE 754标准的浮点数；</li>
<li>float 在储存大型浮点数组的时候可节省内存空间；</li>
<li>默认值是 <strong>0.0f</strong>；</li>
<li>浮点数不能用来表示精确的值，如货币；</li>
<li>例子：float f1 = 234.5f。</li>
</ul>
<p><strong>double：</strong></p>
<ul>
<li><p>double 数据类型是<strong>双精度、64 位</strong>、符合 IEEE 754 标准的浮点数；</p>
</li>
<li><p>浮点数的默认类型为 double 类型；</p>
</li>
<li><p>double类型同样不能表示精确的值，如货币；</p>
</li>
<li><p>默认值是 <strong>0.0d</strong>；</p>
</li>
<li><p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span>   <span class="variable">d1</span>  <span class="operator">=</span> <span class="number">7D</span> ;</span><br><span class="line"><span class="type">double</span>   <span class="variable">d2</span>  <span class="operator">=</span> <span class="number">7.</span>; </span><br><span class="line"><span class="type">double</span>   <span class="variable">d3</span>  <span class="operator">=</span>  <span class="number">8.0</span>; </span><br><span class="line"><span class="type">double</span>   <span class="variable">d4</span>  <span class="operator">=</span>  <span class="number">8.D</span>; </span><br><span class="line"><span class="type">double</span>   <span class="variable">d5</span>  <span class="operator">=</span>  <span class="number">12.9867</span>; </span><br></pre></td></tr></table></figure>
<p>7 是一个 int 字面量，而 7D，7. 和 8.0 是 double 字面量。</p>
</li>
</ul>
<p><strong>boolean：</strong></p>
<ul>
<li>boolean数据类型表示一位的信息；</li>
<li>只有两个取值：true 和 false；</li>
<li>这种类型只作为一种标志来记录 true/false 情况；</li>
<li><p>默认值：</p>
<ul>
<li>作为字段/数组元素的话，默认值是<code>false</code>；</li>
<li>但如果是局部变量，则没有默认值，需要自己初始化。</li>
</ul>
</li>
<li><p>例子：boolean one = true。</p>
</li>
</ul>
<p><strong>char：</strong></p>
<ul>
<li>char 类型是一个单一的 16 位 Unicode 字符；</li>
<li>最小值是<code>\u0000</code>（十进制等效值为 0）；</li>
<li>最大值是<code>\uffff</code>（即为 65535）；</li>
<li>char 数据类型可以储存任何字符；</li>
<li>例子：char letter = ‘A’;。</li>
</ul>
<p>除此以外还有一个比较特殊的写法：<code>var</code>，会让编译器<strong>从右侧初始化表达式推断变量类型</strong>。比如说<code>var n = 7;</code>  <code>n</code> 的静态类型是 <code>int</code>。但是无法用<code>var</code>初始化一个变量，即<code>var n;</code>是违规的。</p>
<p>byte、int、long、和short都可以用十进制、16进制以及8进制的方式来表示。</p>
<p>前缀 <strong>0</strong> 表示 8 进制，而前缀 <strong>0x</strong> 代表 16 进制, 例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">decimal</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">octal</span> <span class="operator">=</span> <span class="number">0144</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">hexa</span> <span class="operator">=</span>  <span class="number">0x64</span>;</span><br></pre></td></tr></table></figure>
<h3 id="String（字符串）"><a href="#String（字符串）" class="headerlink" title="String（字符串）"></a><strong>String（字符串）</strong></h3><p><code>String</code> 不是基本类型，是一个<strong>类</strong>，但使用方式比较特殊：</p>
<ul>
<li>字面量：<code>&quot;Hello World!&quot;</code></li>
<li>拼接：<code>&quot;Hello &quot; + &quot;World&quot;</code></li>
</ul>
<p>还有一个非常重要的点：</p>
<p>任意类型在和<code>String</code>做 <code>+</code> 时，会<strong>自动转成 String</strong>。</p>
<p>例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="variable">x</span> <span class="operator">=</span> -<span class="number">0.55e13</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;Eine Gleitkomma-Zahl: &quot;</span> + x);</span><br><span class="line"><span class="comment">// Eine Gleitkomma-Zahl: -5.5E12</span></span><br></pre></td></tr></table></figure>
<p>但是这是有先后顺序的：在String之前的<code>+</code>运算会被当成普通的加法运算，而String之后的<code>+</code>会被当成字符串拼接，比如说：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="number">1</span> + <span class="number">2</span> + <span class="string">&quot;h&quot;</span> + <span class="number">1</span> + <span class="number">2</span>);</span><br><span class="line"><span class="comment">// 会输出3h12</span></span><br></pre></td></tr></table></figure>
<p>即先计算了1+2=3，然后再把”3”，”h”，”1”，”2”当成了字符串拼接了起来。</p>
<h3 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符"></a><strong>转义字符</strong></h3><p>Java语言支持一些特殊的转义字符序列。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">符号</th>
<th style="text-align:left">字符含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>\n</code></td>
<td style="text-align:left">换行 (0x0a)</td>
</tr>
<tr>
<td style="text-align:left"><code>\r</code></td>
<td style="text-align:left">回车 (0x0d)</td>
</tr>
<tr>
<td style="text-align:left"><code>\f</code></td>
<td style="text-align:left">换页符(0x0c)</td>
</tr>
<tr>
<td style="text-align:left"><code>\b</code></td>
<td style="text-align:left">退格 (0x08)</td>
</tr>
<tr>
<td style="text-align:left"><code>\0</code></td>
<td style="text-align:left">空字符 (0x0)</td>
</tr>
<tr>
<td style="text-align:left"><code>\s</code></td>
<td style="text-align:left">空格 (0x20)</td>
</tr>
<tr>
<td style="text-align:left"><code>\t</code></td>
<td style="text-align:left">制表符</td>
</tr>
<tr>
<td style="text-align:left"><code>\&quot;</code></td>
<td style="text-align:left">双引号</td>
</tr>
<tr>
<td style="text-align:left"><code>\&#39;</code></td>
<td style="text-align:left">单引号</td>
</tr>
<tr>
<td style="text-align:left"><code>\\</code></td>
<td style="text-align:left">反斜杠</td>
</tr>
<tr>
<td style="text-align:left"><code>\ddd</code></td>
<td style="text-align:left">八进制字符 (ddd)</td>
</tr>
<tr>
<td style="text-align:left"><code>\uxxxx</code></td>
<td style="text-align:left">16进制Unicode字符 (xxxx)</td>
</tr>
</tbody>
</table>
</div>
<h2 id="Operation（运算符）"><a href="#Operation（运算符）" class="headerlink" title="Operation（运算符）"></a><strong>Operation（运算符）</strong></h2><h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a><strong>算术运算符</strong></h3><ul>
<li><code>+ - * / %</code></li>
</ul>
<p>Java 在二元数值运算里会做<strong>二进制数值提升</strong>（binary numeric promotion）：</p>
<ol>
<li>先把比 <code>int</code> 小的整型（<code>byte/short/char</code>）都提升到 <code>int</code>；</li>
<li>再根据两个操作数中“更大的类型”统一到 <code>long</code> / <code>float</code> / <code>double</code>；</li>
<li>结果类型就是提升后的那个类型。</li>
</ol>
<p><strong>例子：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"><span class="type">long</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">3L</span>;</span><br><span class="line"><span class="type">var</span> <span class="variable">x</span> <span class="operator">=</span> n + l;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>n</code> 提升为 <code>long</code>，结果是 <code>long</code>，<code>x</code> 推断为 <code>long</code>，值 <code>5L</code>。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">d</span> <span class="operator">=</span> <span class="number">7.0</span>;</span><br><span class="line"><span class="type">var</span> <span class="variable">x</span> <span class="operator">=</span> n + d;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>n</code> 提升为 <code>double</code>，结果是 <code>double</code>，<code>x</code> 推断为 <code>double</code>，值 <code>9.0</code>。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">short</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="type">short</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"><span class="type">short</span> <span class="variable">s3</span> <span class="operator">=</span> s1 + s2;</span><br></pre></td></tr></table></figure>
<ul>
<li>无法成功编译。<code>s1 + s2</code> 先都提升为 <code>int</code>，结果是 <code>int</code>，不能隐式放回 <code>short</code>。<br> 正确写法：<code>short s3 = (short)(s1 + s2);</code> 或者 <code>var s3 = s1 + s2; // s3 是 int</code></li>
</ul>
<h4 id="除法"><a href="#除法" class="headerlink" title="除法 /"></a><strong>除法 /</strong></h4><p>除法会分成<strong>整除</strong>和<strong>浮点除</strong>：两个 <code>int</code>/<code>long</code> 做除法得到整除（向零截断），只要有 <code>double</code>/<code>float</code> 参与就是浮点除。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="variable">d1</span> <span class="operator">=</span> <span class="number">7</span> / <span class="number">3</span>;      <span class="comment">// 7/3 先做整除得 2，再拓宽为 2.0</span></span><br><span class="line"><span class="type">double</span> <span class="variable">d2</span> <span class="operator">=</span> <span class="number">7.0</span> / <span class="number">3</span>;    <span class="comment">// 2.3333333333333335</span></span><br><span class="line"><span class="type">double</span> <span class="variable">d3</span> <span class="operator">=</span> <span class="number">7</span> / <span class="number">3.0</span>;    <span class="comment">// 2.3333333333333335</span></span><br><span class="line"><span class="type">double</span> <span class="variable">d4</span> <span class="operator">=</span> <span class="number">7.0</span> / <span class="number">3.0</span>;  <span class="comment">// 2.3333333333333335</span></span><br><span class="line"></span><br><span class="line"><span class="type">double</span> <span class="variable">d5</span> <span class="operator">=</span> <span class="number">3</span> / <span class="number">0.5</span>;    <span class="comment">// 3 提升为 double =&gt; 3.0 / 0.5 = 6.0</span></span><br><span class="line"><span class="type">double</span> <span class="variable">d6</span> <span class="operator">=</span> <span class="number">3</span> / (<span class="number">1</span>/<span class="number">2</span>);  <span class="comment">// (1/2) 是整除得 0，表达式变成 3/0（int）=&gt; 运行时抛出 ArithmeticException: / by zero</span></span><br></pre></td></tr></table></figure>
<p>但假设右边的变量都是int，但我们希望左边的结果为double / float时，我们便需要在左边加上(double )/(float)来确保数据类型：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">7</span>, y = <span class="number">3</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">q0</span> <span class="operator">=</span> x/y;				<span class="comment">// 直接整除得到2 =&gt; 2.0</span></span><br><span class="line"><span class="type">double</span> <span class="variable">q1</span> <span class="operator">=</span> (<span class="type">double</span>) (x / y); 	<span class="comment">// 先整除得到2，再转 double =&gt; 2.0</span></span><br><span class="line"><span class="type">double</span> <span class="variable">q2</span> <span class="operator">=</span> (<span class="type">double</span>) x / y;  	<span class="comment">// 先把 x 变 double =&gt; 7.0/3 =&gt; 2.3333333333333335</span></span><br></pre></td></tr></table></figure>
<h4 id="取余（-）"><a href="#取余（-）" class="headerlink" title="取余（%）"></a><strong>取余（<code>%</code>）</strong></h4><p>Java 的余数<strong>符号与左操作数（被除数）相同</strong>，并满足：<code>a == (a/b)*b + (a%b)</code>（这里的 <code>/</code> 仍是向零截断）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">v1</span> <span class="operator">=</span> <span class="number">11</span> % <span class="number">4</span>;     <span class="comment">// 3</span></span><br><span class="line"><span class="type">int</span> <span class="variable">v2</span> <span class="operator">=</span> <span class="number">0</span> % <span class="number">4</span>;      <span class="comment">// 0</span></span><br><span class="line"><span class="type">int</span> <span class="variable">v3</span> <span class="operator">=</span> <span class="number">4</span> % <span class="number">0</span>;      <span class="comment">// 运行时 ArithmeticException: / by zero</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">v4</span> <span class="operator">=</span> -<span class="number">11</span> % <span class="number">4</span>;    <span class="comment">// -3   （-11/4 == -2，余数 r = -11 - (-2)*4 = -3）</span></span><br><span class="line"><span class="type">int</span> <span class="variable">v5</span> <span class="operator">=</span> <span class="number">11</span> % -<span class="number">4</span>;    <span class="comment">// 3</span></span><br><span class="line"><span class="type">int</span> <span class="variable">v6</span> <span class="operator">=</span> -<span class="number">11</span> % -<span class="number">4</span>;   <span class="comment">// -3</span></span><br><span class="line"></span><br><span class="line"><span class="type">double</span> <span class="variable">v7</span> <span class="operator">=</span> <span class="number">3.5</span> % <span class="number">2</span>;    <span class="comment">// 1.5</span></span><br><span class="line"><span class="type">double</span> <span class="variable">v8</span> <span class="operator">=</span> <span class="number">3.5</span> % <span class="number">2.5</span>;  <span class="comment">// 1.0</span></span><br><span class="line"><span class="type">double</span> <span class="variable">v9</span> <span class="operator">=</span> (<span class="number">22</span>/<span class="number">7</span>) % (<span class="number">19</span>/<span class="number">7</span>); <span class="comment">// (22/7)==3，(19/7)==2，3%2==1 =&gt; 1.0</span></span><br></pre></td></tr></table></figure>
<h3 id="自增-自减（-）"><a href="#自增-自减（-）" class="headerlink" title="自增/自减（++/--）"></a><strong>自增/自减（<code>++</code>/<code>--</code>）</strong></h3><p><strong>前缀：先改值后取值；后缀：先取值后改值。</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">--n;                        <span class="comment">// n = 4</span></span><br><span class="line"><span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> n++ - --n;          <span class="comment">// 左: n++ 返回 4，n=&gt;5；右: --n 先减到 4 返回 4；k=4-4=0；此后 n=4</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> ++n + n--;          <span class="comment">// ++n: 5；n--: 先用 5 再变 4；l=5+5=10；n=4</span></span><br><span class="line">n = n--;                    <span class="comment">// 右边返回 4，再把 n 减到 3，然后赋回左边 n=4（“自减的结果值”被赋回）</span></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;k = &quot;</span> + k); <span class="comment">// 0</span></span><br><span class="line">System.out.println(<span class="string">&quot;l = &quot;</span> + l); <span class="comment">// 10</span></span><br><span class="line">System.out.println(<span class="string">&quot;n = &quot;</span> + n); <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>
<p>但是注意，有一个容易出错的点是：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">a = a++;</span><br><span class="line">System.out.println(a);</span><br><span class="line"><span class="comment">// 会输出0。</span></span><br></pre></td></tr></table></figure>
<p>因为<code>a = a++;</code>相当于给<code>a</code>重新又赋值成了0，没有<code>++</code>的机会。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="variable">d</span> <span class="operator">=</span> <span class="number">3.14</span>;</span><br><span class="line"><span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> <span class="string">&#x27;L&#x27;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> (<span class="type">int</span>) d--;   <span class="comment">// 先取 3.14 再 d=2.14；(int)3.14==3</span></span><br><span class="line"><span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> ++c;         <span class="comment">// &#x27;L&#x27;-&gt;&#x27;M&#x27;（77），表达式值是 &#x27;M&#x27;，赋给 int 得 77</span></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;d = &quot;</span> + d);   <span class="comment">// 2.14</span></span><br><span class="line">System.out.println(<span class="string">&quot;c = &quot;</span> + c);   <span class="comment">// M</span></span><br><span class="line">System.out.println(<span class="string">&quot;n1 = &quot;</span> + n1); <span class="comment">// 3</span></span><br><span class="line">System.out.println(<span class="string">&quot;n2 = &quot;</span> + n2); <span class="comment">// 77</span></span><br></pre></td></tr></table></figure>
<h3 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a><strong>比较运算符</strong></h3><p><strong>基本值比较</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="number">4</span> == <span class="number">4.0</span>;          <span class="comment">// true（4 提升为 4.0）</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">b2</span> <span class="operator">=</span> <span class="number">7L</span> == (<span class="type">short</span>) <span class="number">5</span>;   <span class="comment">// false（7 != 5）</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">b3</span> <span class="operator">=</span> <span class="literal">true</span> == <span class="number">1</span>;         <span class="comment">// **不通过编译**（boolean 不能与整型用 == 比较）</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">b4</span> <span class="operator">=</span> <span class="string">&#x27;d&#x27;</span> == <span class="number">100</span>;        <span class="comment">// true（&#x27;d&#x27; 的码位是 100）</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">b5</span> <span class="operator">=</span> <span class="literal">false</span> == b4;       <span class="comment">// false == true -&gt; false</span></span><br></pre></td></tr></table></figure>
<p><strong>引用比较（对象）</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">A</span><span class="params">(<span class="type">int</span> n)</span> &#123; <span class="built_in">this</span>.n = n; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getN</span><span class="params">()</span> &#123; <span class="keyword">return</span> n; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setN</span><span class="params">(<span class="type">int</span> n)</span> &#123; <span class="built_in">this</span>.n = n; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">A</span> <span class="variable">a1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>(<span class="number">2</span>);</span><br><span class="line"><span class="type">A</span> <span class="variable">a2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>(<span class="number">3</span>); a2.setN(<span class="number">2</span>);</span><br><span class="line"><span class="type">A</span> <span class="variable">a3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>(<span class="number">3</span> - <span class="number">1</span>); <span class="comment">// 2</span></span><br><span class="line"><span class="type">A</span> <span class="variable">a4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>(<span class="number">2</span>);</span><br><span class="line"><span class="type">A</span> <span class="variable">a5</span> <span class="operator">=</span> a1;</span><br><span class="line"></span><br><span class="line">System.out.println(a1 == a2); <span class="comment">// false（不同对象）</span></span><br><span class="line">System.out.println(a1 == a3); <span class="comment">// false</span></span><br><span class="line">System.out.println(a1 == a4); <span class="comment">// false</span></span><br><span class="line">System.out.println(a1 == a5); <span class="comment">// true（同一引用）</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>==</code> 比较的是<strong>引用是否同一对象</strong>，不是内容。若想按内容比较，应覆写 <code>equals</code>。</li>
</ul>
<p><strong>字符串相等性</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="string">&quot;a&quot;</span> + <span class="string">&quot;b&quot;</span> + <span class="string">&quot;c&quot;</span>;      <span class="comment">// 编译期常量折叠，指向同一常量池对象</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;abc&quot;</span>);    <span class="comment">// 显式新建对象</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s5</span> <span class="operator">=</span> s1 + <span class="string">&quot;&quot;</span>;              <span class="comment">// 运行期拼接，通常新对象</span></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;s1 == s2: &quot;</span> + (s1 == s2)); <span class="comment">// true</span></span><br><span class="line">System.out.println(<span class="string">&quot;s1 == s3: &quot;</span> + (s1 == s3)); <span class="comment">// true</span></span><br><span class="line">System.out.println(<span class="string">&quot;s1 == s4: &quot;</span> + (s1 == s4)); <span class="comment">// false</span></span><br><span class="line">System.out.println(<span class="string">&quot;s1 == s5: &quot;</span> + (s1 == s5)); <span class="comment">// false（几乎总是）</span></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;s1.equals(s2): &quot;</span> + s1.equals(s2)); <span class="comment">// true</span></span><br><span class="line">System.out.println(<span class="string">&quot;s1.equals(s3): &quot;</span> + s1.equals(s3)); <span class="comment">// true</span></span><br><span class="line">System.out.println(<span class="string">&quot;s1.equals(s4): &quot;</span> + s1.equals(s4)); <span class="comment">// true</span></span><br><span class="line">System.out.println(<span class="string">&quot;s1.equals(s5): &quot;</span> + s1.equals(s5)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>结论</strong>：比较字符串内容用 <code>equals</code>，不要用 <code>==</code>。</li>
</ul>
<p><strong>浮点比较陷阱</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="variable">d</span> <span class="operator">=</span> Math.sqrt(<span class="number">2</span>) * Math.sqrt(<span class="number">2</span>);</span><br><span class="line">System.out.println(d == <span class="number">2.0</span>);   <span class="comment">// 往往是 false（浮点误差）</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>解决：用误差容忍（epsilon）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="variable">close</span> <span class="operator">=</span> Math.abs(d - <span class="number">2.0</span>) &lt; <span class="number">1e-10</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a><strong>逻辑运算符</strong></h3><p><strong>真值表</strong></p>
<ul>
<li><code>|</code>（逻辑或，<strong>不短路</strong>）：<ul>
<li><code>false|false =&gt; false</code></li>
<li><code>false|true  =&gt; true</code></li>
<li><code>true |false =&gt; true</code></li>
<li><code>true |true  =&gt; true</code></li>
</ul>
</li>
<li><code>^</code>（逻辑异或，<strong>不短路</strong>）：两边不同为 <code>true</code><ul>
<li><code>false^false =&gt; false</code></li>
<li><code>false^true  =&gt; true</code></li>
<li><code>true ^false =&gt; true</code></li>
<li><code>true ^true  =&gt; false</code></li>
</ul>
</li>
</ul>
<p>（补充：<code>&amp;</code>、<code>|</code> 有<strong>布尔版</strong>（不短路）与<strong>按位版</strong>；<code>&amp;&amp;</code>、<code>||</code> 是<strong>短路</strong>逻辑。）</p>
<p><strong>短路与副作用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">7</span>;</span><br><span class="line"><span class="type">boolean</span> <span class="variable">b1</span> <span class="operator">=</span> n1 &lt; <span class="number">4</span> &amp; ++n1 % <span class="number">2</span> == <span class="number">0</span>;  <span class="comment">// &amp; 不短路：右侧必评估，n1 变 8</span></span><br><span class="line"><span class="comment">// 左假右真 =&gt; b1=false，n1==8</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> <span class="number">7</span>;</span><br><span class="line"><span class="type">boolean</span> <span class="variable">b2</span> <span class="operator">=</span> n2 &lt; <span class="number">4</span> &amp;&amp; ++n2 % <span class="number">2</span> == <span class="number">0</span>; <span class="comment">// &amp;&amp; 短路：左边已为假，右侧不评估，n2 仍 7</span></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;n1 == &quot;</span> + n1); <span class="comment">// 8</span></span><br><span class="line">System.out.println(<span class="string">&quot;b1 == &quot;</span> + b1); <span class="comment">// false</span></span><br><span class="line">System.out.println(<span class="string">&quot;n2 == &quot;</span> + n2); <span class="comment">// 7</span></span><br><span class="line">System.out.println(<span class="string">&quot;b2 == &quot;</span> + b2); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<h3 id="赋值运算符与结合性"><a href="#赋值运算符与结合性" class="headerlink" title="赋值运算符与结合性"></a><strong>赋值运算符与结合性</strong></h3><p>所有赋值运算符（<code>=、+=、-=、...</code>）都是<strong>右结合</strong>：从右往左算。<code>+=</code> 等复合赋值在需要时会<strong>隐式强制类型转换</strong>（先算出右值，再转换为左侧变量类型）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">1</span>, n2 = <span class="number">2</span>, n3 = <span class="number">3</span>;</span><br><span class="line">n1 = n2 = n3 = <span class="number">4</span>;</span><br><span class="line"><span class="comment">// 等价于：n3=4; n2=n3; n1=n2;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// n1 == 4</span></span><br><span class="line"><span class="comment">// n2 == 4</span></span><br><span class="line"><span class="comment">// n3 == 4</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">1</span>, n2 = <span class="number">2</span>, n3 = <span class="number">3</span>;</span><br><span class="line">n1 += n2 += n3 += <span class="number">4</span>;</span><br><span class="line"><span class="comment">// 步骤：n3=3+4=7; n2=2+7=9; n1=1+9=10;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// n1 == 10</span></span><br><span class="line"><span class="comment">// n2 == 9</span></span><br><span class="line"><span class="comment">// n3 == 7</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">1</span>, n2 = <span class="number">2</span>, n3 = <span class="number">3</span>;</span><br><span class="line">n1 += n2 + n3 = <span class="number">4</span>;   <span class="comment">// **不通过编译**</span></span><br></pre></td></tr></table></figure>
<ul>
<li>原因：<code>n2 + n3</code> 不是变量，不能作为赋值左值。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">1</span>, n2 = <span class="number">2</span>, n3 = <span class="number">3</span>;</span><br><span class="line">n1 += n2 = n3 + <span class="number">4</span>;   <span class="comment">// **可以编译**（赋值表达式有值）</span></span><br><span class="line"><span class="comment">// 右结合：n2 = 3+4 =&gt; 7；然后 n1 += 7 =&gt; 8；n3 保持 3。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// n1 == 8</span></span><br><span class="line"><span class="comment">// n2 == 7</span></span><br><span class="line"><span class="comment">// n3 == 3</span></span><br></pre></td></tr></table></figure>
<h2 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a><strong>修饰符</strong></h2><p>Java语言提供了很多修饰符，主要分为以下两类：</p>
<ul>
<li>访问修饰符</li>
<li>非访问修饰符</li>
</ul>
<p>修饰符用来定义类、方法或者变量，通常放在语句的最前端。我们通过下面的例子来说明：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClassName</span> &#123;</span><br><span class="line">   <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> myFlag;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="type">double</span> <span class="variable">weeks</span> <span class="operator">=</span> <span class="number">9.5</span>;</span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">BOXWIDTH</span> <span class="operator">=</span> <span class="number">42</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] arguments)</span> &#123;</span><br><span class="line">   <span class="comment">// 方法体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="访问控制修饰符"><a href="#访问控制修饰符" class="headerlink" title="访问控制修饰符"></a><strong>访问控制修饰符</strong></h3><p>Java中，可以使用访问控制符来保护对类、变量、方法和构造方法的访问。Java 支持 4 种不同的访问权限。</p>
<ul>
<li><strong>default</strong> (即默认，什么也不写）: 在同一包内可见，不使用任何修饰符。使用对象：类、接口、变量、方法。</li>
<li><strong>private</strong> : 在同一类内可见。使用对象：变量、方法。 <strong>注意：不能修饰类（外部类）</strong></li>
<li><strong>public</strong> : 对所有类可见。使用对象：类、接口、变量、方法</li>
<li><strong>protected</strong> : 对同一包内的类和所有子类可见。使用对象：变量、方法。 <strong>注意：不能修饰类（外部类）</strong>。</li>
</ul>
<p>访问控制：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">修饰符</th>
<th style="text-align:left">当前类</th>
<th style="text-align:left">同一包内</th>
<th style="text-align:left">子孙类(同一包)</th>
<th style="text-align:left">子孙类(不同包)</th>
<th style="text-align:left">其他包</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>public</code></td>
<td style="text-align:left">Y</td>
<td style="text-align:left">Y</td>
<td style="text-align:left">Y</td>
<td style="text-align:left">Y</td>
<td style="text-align:left">Y</td>
</tr>
<tr>
<td style="text-align:left"><code>protected</code></td>
<td style="text-align:left">Y</td>
<td style="text-align:left">Y</td>
<td style="text-align:left">Y</td>
<td style="text-align:left">Y/N</td>
<td style="text-align:left">N</td>
</tr>
<tr>
<td style="text-align:left"><code>default</code></td>
<td style="text-align:left">Y</td>
<td style="text-align:left">Y</td>
<td style="text-align:left">Y</td>
<td style="text-align:left">N</td>
<td style="text-align:left">N</td>
</tr>
<tr>
<td style="text-align:left"><code>private</code></td>
<td style="text-align:left">Y</td>
<td style="text-align:left">N</td>
<td style="text-align:left">N</td>
<td style="text-align:left">N</td>
<td style="text-align:left">N</td>
</tr>
</tbody>
</table>
</div>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a><strong>注释</strong></h2><p><strong>单行注释：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 注释</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 注释 */</span></span><br></pre></td></tr></table></figure>
<p><strong>多行注释：</strong></p>
<p>多行注释以 <code>/*</code>开始，以<code>*/</code>结束：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">多行</span></span><br><span class="line"><span class="comment">注释</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p><strong>文档注释:</strong><br>文档注释以 <code>/**</code> 开始，以 <code>*/</code> 结束</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 这是一个文档注释示例</span></span><br><span class="line"><span class="comment"> * 它通常包含有关类、方法或字段的详细信息</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a><strong>测试</strong></h2><p>JUnit5是Java领域里标准单元测试框架。</p>
<p><strong>import：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.BeforeEach;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.AfterEach;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.jupiter.api.Assertions.*;</span><br></pre></td></tr></table></figure>
<p>先来看一个简单的例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">exampleTest</span><span class="params">()</span> &#123;</span><br><span class="line">    assertEquals(<span class="number">42</span>, <span class="number">42</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>@Test</code>是一个 <strong>注解（annotation）</strong>，来自 JUnit（比如 <code>org.junit.Test</code>）。它告诉测试框架：“下面这个方法是一个测试用例，请在执行测试时自动运行它”。 只要点 IDE 里的 “Run Tests”，测试框架就会扫描所有带 <code>@Test</code> 的方法，然后一个个执行。</p>
<p><strong>常用注解包括：</strong></p>
<ul>
<li><strong><code>@Test</code></strong>： 标记一个方法为单元测试方法。</li>
<li><strong><code>@BeforeEach</code></strong>： 前置设置。在<strong>每个</strong>测试方法运行之前执行一次，用于初始化数据或环境。</li>
<li><strong><code>@AfterEach</code></strong>： 后置清理。在<strong>每个</strong>测试方法运行之后执行一次，用于清理资源。</li>
<li><strong><code>@ParameterizedTest</code></strong>： 参数化测试。允许使用不同的输入数据多次运行同一个测试方法，减少重复代码。</li>
</ul>
<p><code>assertEquals(42, 42);</code>是一个<strong>断言 (Assertions)</strong>，是测试的核心。它用来<strong>验证</strong>实际运行结果是否符合预期。</p>
<p><strong>常用断言包括：</strong></p>
<ol>
<li><strong>相等性与不等性断言 (Equality)</strong><ul>
<li><code>assertEquals(expected, actual)</code>： 断言期望值与实际值相等（比较内容/值）。</li>
<li><code>assertNotEquals(unexpected, actual)</code>： 断言实际值与给定的值不相等。</li>
<li><code>assertArrayEquals(expected, actual)</code>： 断言两个数组包含相同的元素序列且顺序一致。</li>
</ul>
</li>
<li><strong>真值断言 (Boolean Conditions)</strong><ul>
<li><code>assertTrue(condition)</code>： 断言给定的布尔条件为 <strong>真</strong> (<code>true</code>)。</li>
<li><code>assertFalse(condition)</code>： 断言给定的布尔条件为 <strong>假</strong> (<code>false</code>)。</li>
</ul>
</li>
<li><strong>空值断言 (Nullity)</strong><ul>
<li><code>assertNull(actual)</code>： 断言实际值为 <strong>空</strong> (<code>null</code>)。</li>
<li><code>assertNotNull(actual)</code>： 断言实际值 <strong>非空</strong>。</li>
</ul>
</li>
<li><strong>对象身份断言 (Identity / Same Reference)</strong><ul>
<li><code>assertSame(expected, actual)</code>： 断言期望对象和实际对象是<strong>同一个对象实例</strong>（即引用相等）。</li>
<li><code>assertNotSame(unexpected, actual)</code>： 断言两个对象不是同一个对象实例。</li>
</ul>
</li>
<li><strong>异常与行为断言 (Exceptions and Behavior)</strong><ul>
<li><code>assertThrows(Type, executable)</code>： 断言在执行可执行代码时，会抛出指定类型的异常。</li>
<li><code>assertDoesNotThrow(executable)</code>： 断言在执行代码时，<strong>不会</strong>抛出任何异常。</li>
<li><code>assertTimeout(duration, executable)</code>： 断言代码块在指定的时间内执行完毕（非抢占式）。</li>
<li><code>assertTimeoutPreemptively(duration, executable)</code>： 断言代码块在指定时间后立即被中止（抢占式）。</li>
</ul>
</li>
<li><strong>组合与失败断言 (Grouping and Failure)</strong><ul>
<li><code>assertAll(executables...)</code>： 组合断言。即使前面的断言失败，也会继续执行所有断言，然后统一报告所有失败。</li>
<li><code>fail(message)</code>： 强制使当前测试方法失败，并带有一个可选的消息。</li>
</ul>
</li>
</ol>
<p>除此以外，Java 测试方法通常有几个特点：</p>
<ol>
<li><strong>必须是 <code>public</code></strong><br> 这样测试框架可以通过反射来调用这个方法。</li>
<li><strong>返回类型是 <code>void</code></strong><br> 测试的“结果”不是通过返回值表示的，而是：<ul>
<li>不抛异常 → 视为测试通过</li>
<li>抛出断言异常（AssertionError）或其他异常 → 视为测试失败</li>
</ul>
</li>
</ol>
<h2 id="控制结构"><a href="#控制结构" class="headerlink" title="控制结构"></a><strong>控制结构</strong></h2><p>控制结构一般分为3种：</p>
<ol>
<li><strong>顺序结构</strong></li>
<li><strong>选择结构</strong></li>
<li><strong>迭代结构</strong></li>
</ol>
<p>任何可计算的函数都可以通过顺序、选择和迭代这三种结构计算出来（图灵完备性） 。</p>
<h3 id="选择结构"><a href="#选择结构" class="headerlink" title="选择结构"></a><strong>选择结构</strong></h3><h4 id="if-else"><a href="#if-else" class="headerlink" title="if / else"></a><strong>if / else</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">score</span> <span class="operator">=</span> <span class="number">85</span>;</span><br><span class="line"><span class="keyword">if</span> (score &gt;= <span class="number">90</span>) &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (score &gt;= <span class="number">80</span>) &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="三元运算符"><a href="#三元运算符" class="headerlink" title="三元运算符 ? :"></a><strong><code>三元运算符 ? :</code></strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">x_abs</span> <span class="operator">=</span> x &gt;= <span class="number">0</span> ? x : -x;</span><br><span class="line"><span class="comment">// 计算绝对值</span></span><br></pre></td></tr></table></figure>
<p>如果问号<code>?</code>前面的条件满足，则走冒号<code>:</code>前的分支，反之则走冒号<code>:</code>后面的分支。</p>
<h4 id="switch（适合离散值分支）"><a href="#switch（适合离散值分支）" class="headerlink" title="switch（适合离散值分支）"></a><strong>switch（适合离散值分支）</strong></h4><p>最基础的写法，使用冒号 <code>:</code> 来标记分支。</p>
<ul>
<li><p>使用 <code>case 值:</code> 来定义入口。</p>
</li>
<li><p>必须使用 <code>break;</code>：执行完代码后，必须显式调用 <code>break</code> 语句来跳出 <code>switch</code> 块 。</p>
</li>
<li><p>穿透现象 (Fall-through)：如果忘记写 <code>break</code>，程序会继续向下执行下一个 <code>case</code> 的代码，这通常会导致逻辑错误（但也可能被故意利用） 。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (monat) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>: </span><br><span class="line">        tage = <span class="number">31</span>; </span><br><span class="line">        <span class="keyword">break</span>; <span class="comment">// 必须有 break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>: </span><br><span class="line">        tage = <span class="number">28</span>; </span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>而在Java 14中引入了一种新的改进写法（非常好用）：</p>
<ul>
<li><p>使用 <code>case 值 -&gt; 语句;</code> 的形式。</p>
</li>
<li><p>无需 <code>break</code>：执行完箭头后的语句会自动跳出 <code>switch</code>，不会发生穿透，避免了传统写法中最容易出现的错误 。</p>
</li>
<li><p><strong>支持多值匹配</strong>：可以在一个 <code>case</code> 中用逗号分隔多个值，例如 <code>case 1, 3, 5 -&gt; ...</code> 。</p>
</li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">tageImMonat</span><span class="params">(<span class="type">int</span> monat)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">tage</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">switch</span> (monat) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span> -&gt; tage = <span class="number">31</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span> -&gt; tage = <span class="number">28</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">11</span> -&gt; tage = <span class="number">30</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">default</span> -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Der &quot;</span> + month + <span class="string">&quot;. ist kein gültiger Monat!&quot;</span>);</span><br><span class="line">            <span class="keyword">yield</span> <span class="string">&quot;ERROR&quot;</span>;</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>switch</code> 不仅可以执行动作，还可以直接返回值（作为表达式赋值给变量） 。</p>
<ul>
<li><p>写法 A（使用箭头）： 直接返回箭头后的值。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">season</span> <span class="operator">=</span> <span class="keyword">switch</span> (month) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">12</span>, <span class="number">1</span>, <span class="number">2</span> -&gt; <span class="string">&quot;winter&quot;</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> -&gt; <span class="string">&quot;spring&quot;</span>;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>写法 B（使用冒号 + yield）： 如果在表达式中仍使用传统的冒号写法（例如为了执行代码块），则必须使用 <code>yield</code> 关键字来返回值 。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">season</span> <span class="operator">=</span> <span class="keyword">switch</span> (month) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">12</span>, <span class="number">1</span>, <span class="number">2</span>: </span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&quot;Winter&quot;</span>; <span class="comment">// 使用 yield 返回</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="迭代结构"><a href="#迭代结构" class="headerlink" title="迭代结构"></a><strong>迭代结构</strong></h3><h4 id="for"><a href="#for" class="headerlink" title="for"></a><strong>for</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    System.out.println(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这种写法i会遍历[0,n)的所有数。</p>
<p>如果需要遍历时也需要考虑n的情况，可以写成</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    System.out.println(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>会比较直观。</p>
<p>注意，循环的每一轮的执行顺序是这样的：</p>
<ol>
<li>先判断条件： <code>i &lt; n</code></li>
<li>条件为真就执行循环体：<code>System.out.println(i);</code></li>
<li>然后再执行更新表达式：<code>i++</code></li>
<li>回到 1)</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;	<span class="comment">//定义数组</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> v : arr) &#123;</span><br><span class="line">    System.out.println(v);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="while"><a href="#while" class="headerlink" title="while"></a><strong>while</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line"><span class="keyword">while</span> (i &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    System.out.println(i);</span><br><span class="line">    i--;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>先判断条件，若为真则执行循环体，执行完后再次判断；若为假则跳过 。</p>
<ul>
<li>可以用<code>break</code>来退出当前循环</li>
<li>也可以用<code>continue</code>跳过当前循环的剩余部分并直接开始下一轮循环</li>
</ul>
<h4 id="do-while"><a href="#do-while" class="headerlink" title="do-while"></a><strong>do-while</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;执行一次&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">while</span> (x &gt; <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p><strong>至少执行一次</strong>循环体，因为条件检查在末尾 。</p>
<h2 id="数组-Array"><a href="#数组-Array" class="headerlink" title="数组 Array"></a><strong>数组 Array</strong></h2><h3 id="基础"><a href="#基础" class="headerlink" title="基础"></a><strong>基础</strong></h3><p><strong>定义：</strong> 数组将同类型数据连续存储，通过索引（Index）访问，索引从<strong>0</strong>开始 。</p>
<p><strong>声明/创建/初始化</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明</span></span><br><span class="line">type [] name;</span><br><span class="line"></span><br><span class="line">type name [];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建/初始化</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">type</span> [n];</span><br><span class="line">type [] name = &#123;...&#125;</span><br></pre></td></tr></table></figure>
<p><strong>例子</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> [] vector;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> [] vector = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;</span><br><span class="line"></span><br><span class="line">a = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">6</span>];</span><br></pre></td></tr></table></figure>
<p><strong>引用语义：</strong></p>
<ul>
<li><p>数组变量（如 <code>a</code>）存储的不是数组本身，而是一个指向数组的<strong>引用（Reference）</strong> 。</p>
</li>
<li><p><strong>别名现象 (Aliasing)：</strong> 执行 <code>int[] b = a;</code> 后，<code>b</code> 和 <code>a</code> 指向同一个内存地址。修改 <code>b[i]</code> 会导致 <code>a[i]</code> 也发生变化 。</p>
</li>
</ul>
<h3 id="操作"><a href="#操作" class="headerlink" title="操作"></a><strong>操作</strong></h3><p><strong>长度：</strong> <code>name.length</code> 获取数组元素个数 。</p>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> [] vector = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line"><span class="comment">// vector.length = 4</span></span><br></pre></td></tr></table></figure>
<p><strong>越界：</strong> 访问范围之外的索引会触发 <code>ArrayIndexOutOfBoundsException</code> 。</p>
<p><strong>遍历 (Iteration)：</strong></p>
<p>通常写法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a.length ; i++)&#123;</span><br><span class="line">    a[i]...;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i: a)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>也可以用while：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(i &lt; a.length)&#123;</span><br><span class="line">    a[i]...;</span><br><span class="line">    i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>遍历数组的值：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> value : a) &#123;</span><br><span class="line">    b[idx++] = value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> <strong>数组复制：</strong></p>
<ul>
<li>直接赋值 (<code>b=a</code>) 只是复制引用。</li>
<li>若要<strong>深拷贝</strong>（真正复制内容），必须创建一个新数组并循环赋值 <code>b[i] = a[i]</code> 。</li>
<li>也可以使用 <code>java.lang.System.arraycopy(...)</code> 。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> [] a = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line"><span class="type">int</span> b [] = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">4</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span> ; i &lt; a.length ; i++)&#123;</span><br><span class="line">    b[i] = a[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a><strong>例子</strong></h3><h4 id="查找元素"><a href="#查找元素" class="headerlink" title="查找元素"></a><strong>查找元素</strong></h4><p>查找是否存在</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">has</span> <span class="params">(<span class="type">long</span>[a], <span class="type">long</span> x)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i&lt;a.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span> (a[i]==x)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i != a.length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果存在，查找index：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">has</span> <span class="params">(<span class="type">long</span>[a], <span class="type">long</span> x)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i&lt;a.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span> (a[i]==x)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="排序"><a href="#排序" class="headerlink" title="排序"></a><strong>排序</strong></h4><p>Bubble Sort：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">bubbleSort</span><span class="params">(<span class="type">int</span>[] fish)</span> &#123;</span><br><span class="line">        <span class="type">int</span> zwischen;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">round</span> <span class="operator">=</span> <span class="number">0</span>; round &lt; fish.length ; round++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i &lt; fish.length-<span class="number">1</span> - round ; i++)&#123;</span><br><span class="line">                <span class="keyword">if</span> (fish[i] &gt; fish[i+<span class="number">1</span>])&#123;</span><br><span class="line">                    zwischen = fish[i];</span><br><span class="line">                    fish[i] = fish[i+<span class="number">1</span>];</span><br><span class="line">                    fish[i+<span class="number">1</span>] = zwischen;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h3 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a><strong>多维数组</strong></h3><p>java仅直接支持一维数组。二维数组实际上是元素维数组的一个数组。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">int</span>[][] twoDimArray;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A = <span class="keyword">new</span> <span class="title class_">int</span> [n][m]</span><br><span class="line">    </span><br><span class="line">A.length <span class="comment">// = n</span></span><br><span class="line">A[<span class="number">0</span>].length <span class="comment">// = m</span></span><br></pre></td></tr></table></figure>
<p>当然，二维数组不一定每行的长度都是一样的，比如说</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">int</span>[][] &#123;&#123;<span class="number">1</span>, <span class="number">3</span>&#125;, &#123;<span class="number">25</span>&#125;, &#123;<span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">9</span>&#125;&#125;</span><br></pre></td></tr></table></figure>
<p>也是合法的。</p>
<p><strong>例子（向量加法）：</strong></p>
<p>（假设a，b的长度一样且不等于0）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] addVector(<span class="type">int</span>[] a, <span class="type">int</span>[] b)&#123;</span><br><span class="line">	<span class="type">int</span> [] c = <span class="keyword">new</span> <span class="title class_">int</span>[a.length];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i&lt;a.length;i++)&#123;</span><br><span class="line">        c[i] = a[i]+b[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>例子（点积）：</strong></p>
<p>（假设a，b的长度一样且不等于0）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">scalarProduct</span><span class="params">(<span class="type">int</span> [] a, <span class="type">int</span> [] b)</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i&lt;a.length;i++)&#123;</span><br><span class="line">        result += a[i]*b[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>例子（矩阵乘法）：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[][] matrixMult(<span class="type">int</span>[][] matrixA, <span class="type">int</span>[][] matrixB) &#123;</span><br><span class="line">    <span class="comment">// 先检查输入是否合规</span></span><br><span class="line">   	<span class="type">int</span> <span class="variable">aRow</span> <span class="operator">=</span> matrixA.length;</span><br><span class="line">    <span class="type">int</span> <span class="variable">bRow</span> <span class="operator">=</span> matrixB.length;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">aCol</span> <span class="operator">=</span> matrixA[<span class="number">0</span>].length;</span><br><span class="line">    <span class="type">int</span> <span class="variable">bCol</span> <span class="operator">=</span> matrixB[<span class="number">0</span>].length;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (aCol != bRow)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> <span class="number">0</span>; idx &lt; aRow ; idx++)&#123;</span><br><span class="line">        <span class="keyword">if</span> (aCol != matrixA[idx].length)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> <span class="number">0</span>; idx &lt; bRow ; idx++)&#123;</span><br><span class="line">        <span class="keyword">if</span> (bCol != matrixB[idx].length)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">// 真正开始计算</span></span><br><span class="line">    <span class="type">int</span>[][] result = <span class="keyword">new</span> <span class="title class_">int</span>[aRow][bCol];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i &lt; aRow ; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; bCol ; j++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k=<span class="number">0</span> ; k &lt; aCol ; k++)&#123;</span><br><span class="line">                result[i][j] += matrixA[i][k] * matrixB[k][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a><strong>数据结构</strong></h2><h3 id="链表"><a href="#链表" class="headerlink" title="链表"></a><strong>链表</strong></h3><p><strong>构造函数：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">List</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> info;</span><br><span class="line">    <span class="keyword">public</span> List next;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">List</span><span class="params">(<span class="type">int</span> x, List l)</span>&#123;</span><br><span class="line">        info = x;</span><br><span class="line">        next = l;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">List</span><span class="params">(<span class="type">int</span> x)</span>&#123;</span><br><span class="line">        info = x;</span><br><span class="line">        next = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>插入</strong>（将新元素插入到当前元素的后面）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insert</span> <span class="params">(<span class="type">int</span> x)</span>&#123;</span><br><span class="line">    next = <span class="keyword">new</span> <span class="title class_">List</span>(x,next);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>相当于可以拆成2步：</p>
<ol>
<li><code>new List(x,next);</code>：新创建一个List元素，并将其next指针的内容设置为当前位置的next指针里的内容，然后</li>
<li><code>next =</code>：将当前的next指针修改成指向这个新创建的List元素的指针</li>
</ol>
<p><strong>删除</strong>（下一个元素）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span> <span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (next != <span class="literal">null</span>)&#123;</span><br><span class="line">        next = next.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>toString</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">pubblic String <span class="title function_">toString</span> <span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> <span class="string">&quot;[&quot;</span> + info;</span><br><span class="line">    <span class="keyword">for</span> <span class="type">List</span> <span class="variable">t</span> <span class="operator">=</span> next; t != <span class="literal">null</span> ; t=t.next)&#123;</span><br><span class="line">        result = result + <span class="string">&quot;, &quot;</span> + t.info;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">toString</span> <span class="params">(List l)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l == <span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;[]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> l.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>判断是否为空</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span> <span class="params">(List l)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l == <span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>计算<strong>长度</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">length</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (List t=next, t!=<span class="literal">null</span>; t=t.next)&#123;</span><br><span class="line">        result++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>（与数组之间的）<strong>转换</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> List <span class="title function_">arrayToList</span> <span class="params">(<span class="type">int</span> [] a)</span>&#123;</span><br><span class="line">    <span class="comment">// 从后往前构造链表</span></span><br><span class="line">    <span class="type">List</span> <span class="variable">result</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (a != <span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> t=a.length-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">            result = <span class="keyword">new</span> <span class="title class_">List</span>(a[i], result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] ListToArray()&#123;</span><br><span class="line">    <span class="comment">// 从前往后遍历</span></span><br><span class="line">    <span class="type">List</span> <span class="variable">t</span> <span class="operator">=</span> <span class="built_in">this</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> length();</span><br><span class="line">    <span class="type">int</span>[] a = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">        a[i] = t.info;</span><br><span class="line">        t = t.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Mergesort"><a href="#Mergesort" class="headerlink" title="Mergesort"></a><strong>Mergesort</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> List <span class="title function_">merge</span> <span class="params">(List a, List b)</span> &#123;</span><br><span class="line">    <span class="type">List</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">List</span>(<span class="number">0</span>); <span class="comment">// 创建一个虚拟的头节点 (Dummy node)</span></span><br><span class="line">    <span class="type">List</span> <span class="variable">t</span> <span class="operator">=</span> result; <span class="comment">// t 指向当前结果链表的末尾</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (a == <span class="literal">null</span>) &#123; <span class="comment">// 如果列表 a 结束了</span></span><br><span class="line">            t.next = b; <span class="comment">// 将列表 b 剩余部分全部接上</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (b == <span class="literal">null</span>) &#123; <span class="comment">// 如果列表 b 结束了</span></span><br><span class="line">            t.next = a; <span class="comment">// 将列表 a 剩余部分全部接上</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 比较两个列表的当前元素，将较小的那个接在结果链表 t 的后面</span></span><br><span class="line">        <span class="keyword">if</span> (b.info &gt; a.info) &#123;</span><br><span class="line">            t = t.next = a; <span class="comment">// t.next 指向 a，然后 t 移动到 a</span></span><br><span class="line">            a = a.next; <span class="comment">// a 指针后移</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            t = t.next = b; <span class="comment">// t.next 指向 b，然后 t 移动到 b</span></span><br><span class="line">            b = b.next; <span class="comment">// b 指针后移</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="comment">// end of while</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> result.next; <span class="comment">// 丢弃虚拟的头节点并返回结果链表</span></span><br><span class="line">&#125; <span class="comment">// end of merge</span></span><br></pre></td></tr></table></figure>
<p><img src="/images/image-20251123221613342.png" class="lazyload" data-srcset="/images/image-20251123221613342.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20251123221613342"></p>
<h3 id="栈-Stack-（Last-In-First-Out）"><a href="#栈-Stack-（Last-In-First-Out）" class="headerlink" title="栈/Stack （Last In First Out）"></a><strong>栈/Stack （Last In First Out）</strong></h3><p><strong>1. 实现思路一：使用链表 (List)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Stack</span> &#123;</span><br><span class="line">    <span class="comment">// 使用 List 作为底层数据结构</span></span><br><span class="line">    <span class="keyword">private</span> List l; </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造函数：创建空栈</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Stack</span><span class="params">()</span> &#123;</span><br><span class="line">        l = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 检测是否为空栈</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> l == <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 弹出栈顶元素（Pop）</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 假设 l != null</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> l.info;</span><br><span class="line">        l = l.next; <span class="comment">// l 指针移向下一个元素，原栈顶元素被移除</span></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 压入元素（Push）</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">        <span class="comment">// 使用 List 的构造函数，头插新元素 a</span></span><br><span class="line">        l = <span class="keyword">new</span> <span class="title class_">List</span>(a, l);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 转换为字符串</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> List.toString(l);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>2. 实现思路二：使用动态数组 (int[])</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Stack</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> sp; <span class="comment">// 栈指针 (Stack Pointer)，指向栈顶元素</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] a; <span class="comment">// 底层数组</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 构造函数：初始化栈指针，创建初始大小为 4 的数组</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Stack</span><span class="params">()</span> &#123;</span><br><span class="line">        sp = -<span class="number">1</span>;</span><br><span class="line">        a = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">4</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 检测是否为空栈</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (sp &lt; <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        sp++; <span class="comment">// 栈指针先移动</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 检查数组是否已满</span></span><br><span class="line">        <span class="keyword">if</span> (sp == a.length) &#123;</span><br><span class="line">            <span class="type">int</span>[] b = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span> * sp]; <span class="comment">// 创建两倍大小的新数组</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 复制元素</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; sp; i++)&#123;</span><br><span class="line">                b[i] = a[i];</span><br><span class="line">                &#125;</span><br><span class="line">            a = b; <span class="comment">// 将引用指向新数组</span></span><br><span class="line">            &#125;</span><br><span class="line">        a[sp] = x; <span class="comment">// 将新元素存入栈顶位置</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 假设 sp &gt; -1</span></span><br><span class="line">    	<span class="keyword">return</span> a[sp--]; <span class="comment">// 返回当前栈顶元素，然后 sp 递减</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>pop的优化版本：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 假设: sp &gt; -1</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> a[sp]; <span class="comment">// 先取出栈顶元素</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 检查是否满足收缩条件：栈指针达到数组长度的四分之一，并且数组至少有2个元素</span></span><br><span class="line">    <span class="keyword">if</span> (sp == a.length/<span class="number">4</span> &amp;&amp; sp &gt;= <span class="number">2</span>) &#123; <span class="comment">// [cite: 2588]</span></span><br><span class="line">        <span class="comment">// 缩容逻辑：创建当前大小一半的新数组 (2*sp)</span></span><br><span class="line">        <span class="type">int</span>[] b = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>*sp]; <span class="comment">// [cite: 2588]</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 复制元素</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i &lt; sp; i++)</span><br><span class="line">            b[i] = a[i]; <span class="comment">// [cite: 2589]</span></span><br><span class="line">            </span><br><span class="line">        a = b; <span class="comment">// 将数组引用指向新数组 [cite: 2590]</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    sp--; <span class="comment">// 栈指针递减</span></span><br><span class="line">    <span class="keyword">return</span> result; <span class="comment">// 返回结果</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Queue（First-In-First-Out）"><a href="#Queue（First-In-First-Out）" class="headerlink" title="Queue（First In First Out）"></a><strong>Queue（First In First Out）</strong></h3><p><strong>1. 实现思路一：使用链表 (List)</strong></p>
<p>使用两个指针 <code>first</code>（队首）和 <code>last</code>（队尾）来维护队列。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Queue</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List first, last; <span class="comment">// [cite: 2645]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造函数：创建空队列</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Queue</span> <span class="params">()</span> &#123;</span><br><span class="line">        first = last = <span class="literal">null</span>; <span class="comment">// [cite: 2646-2648]</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 检测是否为空队列</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> first == <span class="literal">null</span>; <span class="comment">// [cite: 2650]</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>操作：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 出队元素（Dequeue）</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">dequeue</span> <span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 假设 first != null</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> first.info; <span class="comment">// 取出队首元素的值 [cite: 2658]</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (last == first) <span class="comment">// 检查是否只剩一个元素 [cite: 2658]</span></span><br><span class="line">        last = <span class="literal">null</span>; <span class="comment">// 如果是，队尾也置为 null [cite: 2658]</span></span><br><span class="line">        </span><br><span class="line">    first = first.next; <span class="comment">// 队首指针后移 [cite: 2658]</span></span><br><span class="line">    <span class="keyword">return</span> result; <span class="comment">// [cite: 2659]</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 入队元素（Enqueue）</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">enqueue</span> <span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (first == <span class="literal">null</span>) &#123; <span class="comment">// 如果队列为空</span></span><br><span class="line">        first = last = <span class="keyword">new</span> <span class="title class_">List</span>(x); <span class="comment">// 创建新节点，first 和 last 都指向它 [cite: 2667-2669]</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">        last.next = <span class="keyword">new</span> <span class="title class_">List</span>(x); <span class="comment">// 在队尾后面插入新节点 [cite: 2670]</span></span><br><span class="line">        last = last.next; <span class="comment">// 更新 last 指针到新节点 [cite: 2671]</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 转换为字符串</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> List.toString(first); <span class="comment">// [cite: 2664]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>2. 实现思路二：使用动态数组（环形队列）</strong></p>
<p>使用数组和索引指针 <code>first</code>（队首索引）和 <code>last</code>（队尾索引），并通过模运算实现环形队列，并支持动态扩容。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Queue</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> first, last; <span class="comment">// 队首、队尾索引</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] a; <span class="comment">// 底层数组</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造函数</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Queue</span> <span class="params">()</span> &#123;</span><br><span class="line">        first = last = -<span class="number">1</span>; <span class="comment">// 初始化为空，索引为 -1 [cite: 2782]</span></span><br><span class="line">        a = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">4</span>]; <span class="comment">// 创建初始大小为 4 的数组 [cite: 2782]</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 检测是否为空队列</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> &#123; </span><br><span class="line">        <span class="keyword">return</span> first == -<span class="number">1</span>; <span class="comment">// [cite: 2783]</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>操作：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 入队元素（Enqueue）</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">enqueue</span> <span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (first == -<span class="number">1</span>) <span class="comment">// 检查是否为空，如果为空则初始化 first 和 last</span></span><br><span class="line">        first = last = <span class="number">0</span>; <span class="comment">// [cite: 2791]</span></span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> a.length; <span class="comment">// [cite: 2792]</span></span><br><span class="line">        last = (last + <span class="number">1</span>) % n; <span class="comment">// 队尾指针环形前进 [cite: 2792]</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (last == first) &#123; <span class="comment">// 判断队列是否已满 (新 last 等于 first) [cite: 2792]</span></span><br><span class="line">            <span class="type">int</span>[] b = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span> * n]; <span class="comment">// 创建两倍大小的新数组 [cite: 2792]</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 复制元素：按顺序从 a[first] 开始复制到 b[0]</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">                b[i] = a[(first + i) % n]; <span class="comment">// [cite: 2793]</span></span><br><span class="line">                </span><br><span class="line">            first = <span class="number">0</span>; <span class="comment">// 重置 first 到新数组的头部 [cite: 2793]</span></span><br><span class="line">            last = n; <span class="comment">// 重置 last 到新数组的末尾 [cite: 2793]</span></span><br><span class="line">            a = b; <span class="comment">// [cite: 2793]</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="comment">// end else</span></span><br><span class="line">    a[last] = x; <span class="comment">// 将新元素存入队尾位置 [cite: 2794]</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 出队元素（Dequeue）</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">dequeue</span> <span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 假设 first != -1</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> a[first]; <span class="comment">// 取出队首元素 [cite: 2797]</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (first == last) <span class="comment">// 如果取出后队列为空</span></span><br><span class="line">        first = last = -<span class="number">1</span>; <span class="comment">// 重置为 -1 [cite: 2797]</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        first = (first + <span class="number">1</span>) % a.length; <span class="comment">// 队首指针环形前进 [cite: 2797]</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> result; <span class="comment">// [cite: 2797]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="另一种完整的List-Stack-Queue的实现"><a href="#另一种完整的List-Stack-Queue的实现" class="headerlink" title="另一种完整的List/Stack/Queue的实现"></a><strong>另一种完整的List/Stack/Queue的实现</strong></h3><p><strong>List部分：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> pgdp.collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">List</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> size;</span><br><span class="line">    <span class="keyword">private</span> Element head;</span><br><span class="line">    <span class="keyword">private</span> Element tail;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">List</span><span class="params">()</span>&#123;</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">        head = <span class="literal">null</span>;</span><br><span class="line">        tail = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> size == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">        head = <span class="literal">null</span>;</span><br><span class="line">        tail = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(String value)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (isEmpty())&#123;</span><br><span class="line">            head = tail = <span class="keyword">new</span> <span class="title class_">Element</span>(value);</span><br><span class="line">            size = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Element</span> <span class="variable">newTail</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Element</span>(value);</span><br><span class="line">        tail.next = newTail;</span><br><span class="line">        tail = newTail;</span><br><span class="line">        size++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> index, String value)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (index &lt;<span class="number">0</span> || index &gt; size)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(isEmpty())&#123;</span><br><span class="line">            head = tail = <span class="keyword">new</span> <span class="title class_">Element</span>(value);</span><br><span class="line">            size ++;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (index == <span class="number">0</span>)&#123;</span><br><span class="line">            head = <span class="keyword">new</span> <span class="title class_">Element</span>(value,head);</span><br><span class="line">            size ++;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (index == size)&#123;</span><br><span class="line">            <span class="type">Element</span> <span class="variable">newTail</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Element</span>(value);</span><br><span class="line">            tail.next = newTail;</span><br><span class="line">            tail = newTail;</span><br><span class="line">            size++;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Element</span> <span class="variable">prev</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; index - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            prev = prev.next;</span><br><span class="line">        &#125;</span><br><span class="line">        prev.next = <span class="keyword">new</span> <span class="title class_">Element</span>(value, prev.next);</span><br><span class="line">        size++;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (index &lt;<span class="number">0</span> || index &gt;= size)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(isEmpty())&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Element</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; index; i++) &#123;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cur.value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (index &lt;<span class="number">0</span> || index &gt;= size)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(isEmpty())&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (index == <span class="number">0</span>)&#123;</span><br><span class="line">            head = head.next;</span><br><span class="line">            size--;</span><br><span class="line">            <span class="keyword">if</span> (size == <span class="number">0</span>)&#123;</span><br><span class="line">                tail = <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Element</span> <span class="variable">prev</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; index; i++) &#123;</span><br><span class="line">            prev = prev.next;</span><br><span class="line">        &#125;</span><br><span class="line">        prev.next = prev.next.next;</span><br><span class="line">        <span class="keyword">if</span> (index == size-<span class="number">1</span>)&#123;</span><br><span class="line">            tail = prev;</span><br><span class="line">        &#125;</span><br><span class="line">        size--;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSize</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Element</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> String value;</span><br><span class="line">        <span class="keyword">private</span> Element next;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Element</span> <span class="params">(String value)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.value = value;</span><br><span class="line">            next = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Element</span><span class="params">(String value, Element next)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.value = value;</span><br><span class="line">            <span class="built_in">this</span>.next = next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>Stack：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> pgdp.collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Stack</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List list;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Stack</span><span class="params">()</span>&#123;</span><br><span class="line">        list = <span class="keyword">new</span> <span class="title class_">List</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> list.get(list.getSize() -<span class="number">1</span>);</span><br><span class="line">        list.remove(list.getSize() -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(String value)</span> &#123;</span><br><span class="line">        list.add(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>Queue：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> pgdp.collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Queue</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List list;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Queue</span><span class="params">()</span> &#123;</span><br><span class="line">        list = <span class="keyword">new</span> <span class="title class_">List</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> list.get(<span class="number">0</span>);</span><br><span class="line">        list.remove(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(String value)</span> &#123;</span><br><span class="line">        list.add(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="LinkedList（链表）"><a href="#LinkedList（链表）" class="headerlink" title="LinkedList（链表）"></a><strong>LinkedList（链表）</strong></h3><p><strong>创建与复制</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="comment">// 具体点是import java.util.LinkedList；</span></span><br><span class="line"></span><br><span class="line">LinkedList&lt;Integer&gt; a = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();          <span class="comment">// 空链表</span></span><br><span class="line">LinkedList&lt;Integer&gt; b = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(a);         <span class="comment">// 拷贝一份（浅拷贝）</span></span><br><span class="line">LinkedList&lt;Integer&gt; c = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(List.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)); <span class="comment">// 从已有集合初始化</span></span><br></pre></td></tr></table></figure>
<p><strong>判空与长度</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a.isEmpty();   <span class="comment">// 是否为空</span></span><br><span class="line">a.size();      <span class="comment">// 元素个数</span></span><br></pre></td></tr></table></figure>
<p><strong>增加元素（头/尾/指定位置）</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a.add(<span class="number">10</span>);         <span class="comment">// 尾部追加（返回boolean）</span></span><br><span class="line">a.addLast(<span class="number">10</span>);     <span class="comment">// 尾部追加（void）</span></span><br><span class="line">a.addFirst(<span class="number">5</span>);     <span class="comment">// 头部插入</span></span><br><span class="line">a.add(<span class="number">1</span>, <span class="number">99</span>);      <span class="comment">// 在索引1处插入</span></span><br></pre></td></tr></table></figure>
<p><strong>访问元素（不删除）</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a.get(<span class="number">0</span>);          <span class="comment">// 按索引访问（O(n)）,空则返回 NoSuchElementException</span></span><br><span class="line">a.getFirst();      <span class="comment">// 取头元素（O(1)）</span></span><br><span class="line">a.getLast();       <span class="comment">// 取尾元素（O(1)）</span></span><br><span class="line"></span><br><span class="line">a.peek();          <span class="comment">// 取头元素，空则返回 null</span></span><br><span class="line">a.peekFirst();     <span class="comment">// 同上</span></span><br><span class="line">a.peekLast();      <span class="comment">// 取尾元素，空则返回 null</span></span><br></pre></td></tr></table></figure>
<p><strong>删除元素（并返回）</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a.removeFirst();   <span class="comment">// 删除并返回头元素（空会抛异常）</span></span><br><span class="line">a.removeLast();    <span class="comment">// 删除并返回尾元素</span></span><br><span class="line">a.remove();        <span class="comment">// 等价 removeFirst()</span></span><br><span class="line"></span><br><span class="line">a.poll();          <span class="comment">// 删除并返回头元素（空则返回 null）</span></span><br><span class="line">a.pollFirst();     <span class="comment">// 同上</span></span><br><span class="line">a.pollLast();      <span class="comment">// 删除尾元素（空则返回 null）</span></span><br></pre></td></tr></table></figure>
<p><strong>删除指定元素/位置</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a.remove(<span class="number">0</span>);       <span class="comment">// 删除索引0处元素，返回被删元素</span></span><br><span class="line">a.remove((Integer)<span class="number">10</span>); <span class="comment">// 删除“值为10”的那个元素（只删第一个匹配），返回boolean</span></span><br><span class="line">a.clear();         <span class="comment">// 清空</span></span><br></pre></td></tr></table></figure>
<p><strong>查找/判断包含</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a.contains(<span class="number">10</span>);    <span class="comment">// 是否包含</span></span><br><span class="line">a.indexOf(<span class="number">10</span>);     <span class="comment">// 第一次出现的位置，没有则 -1</span></span><br><span class="line">a.lastIndexOf(<span class="number">10</span>); <span class="comment">// 最后一次出现的位置</span></span><br></pre></td></tr></table></figure>
<p><strong>遍历</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> x : a) &#123; ... &#125;      <span class="comment">// 增强 for</span></span><br><span class="line">a.forEach(x -&gt; &#123; ... &#125;);     <span class="comment">// forEach + lambda</span></span><br></pre></td></tr></table></figure>
<p><strong>批量操作</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a.addAll(b);       <span class="comment">// 把 b 全部追加到 a</span></span><br><span class="line">a.removeAll(b);    <span class="comment">// 从 a 里删掉所有出现在 b 的元素</span></span><br><span class="line">a.retainAll(b);    <span class="comment">// 只保留 a 和 b 的交集</span></span><br></pre></td></tr></table></figure>
<p><strong>转换与打印</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(a);       <span class="comment">// 直接打印：[1, 2, 3]</span></span><br><span class="line">a.toArray();                 <span class="comment">// 转数组（Object[]）</span></span><br></pre></td></tr></table></figure>
<h3 id="ArrayList（动态数组）"><a href="#ArrayList（动态数组）" class="headerlink" title="ArrayList（动态数组）"></a><strong>ArrayList（动态数组）</strong></h3><p><strong>创建与初始化</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="comment">// 具体一点是 import java.util.ArrayList;</span></span><br><span class="line"></span><br><span class="line">ArrayList&lt;Integer&gt; a = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();          <span class="comment">// 空</span></span><br><span class="line">ArrayList&lt;Integer&gt; b = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(<span class="number">20</span>);        <span class="comment">// 预分配容量（可选）</span></span><br><span class="line">ArrayList&lt;Integer&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(List.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)); <span class="comment">// 从已有集合拷贝</span></span><br><span class="line">List&lt;Integer&gt; d = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();               <span class="comment">// 推荐：用接口类型声明</span></span><br></pre></td></tr></table></figure>
<p><strong>添加元素</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a.add(<span class="number">10</span>);            <span class="comment">// 末尾追加</span></span><br><span class="line">a.add(<span class="number">0</span>, <span class="number">99</span>);         <span class="comment">// 指定位置插入（后面元素整体后移）</span></span><br><span class="line">a.addAll(List.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)); <span class="comment">// 批量追加</span></span><br><span class="line">a.addAll(<span class="number">1</span>, List.of(<span class="number">7</span>,<span class="number">8</span>)); <span class="comment">// 从索引1处批量插入</span></span><br></pre></td></tr></table></figure>
<p><strong>读取与改</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> a.get(<span class="number">0</span>);     <span class="comment">// 按索引读（ArrayList 很快）</span></span><br><span class="line">a.set(<span class="number">0</span>, <span class="number">100</span>);        <span class="comment">// 按索引改，返回旧值</span></span><br></pre></td></tr></table></figure>
<p><strong>删除</strong></p>
<p>按索引删除</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a.remove(<span class="number">0</span>);          <span class="comment">// 删除索引0，返回被删元素</span></span><br></pre></td></tr></table></figure>
<p>按值删除（注意 Integer 的坑）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a.remove(Integer.valueOf(<span class="number">10</span>)); <span class="comment">// 删除“值为10”的第一个匹配，返回 boolean</span></span><br></pre></td></tr></table></figure>
<p>批量删除/保留</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a.clear();            <span class="comment">// 清空</span></span><br><span class="line">a.removeAll(List.of(<span class="number">1</span>,<span class="number">2</span>)); <span class="comment">// 删除所有出现在参数集合里的元素</span></span><br><span class="line">a.retainAll(List.of(<span class="number">3</span>,<span class="number">4</span>)); <span class="comment">// 只保留和参数集合的交集</span></span><br></pre></td></tr></table></figure>
<p><strong>查找与判断</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a.size();</span><br><span class="line">a.isEmpty();</span><br><span class="line">a.contains(<span class="number">10</span>);</span><br><span class="line">a.indexOf(<span class="number">10</span>);        <span class="comment">// 第一次出现位置，没找到 -1</span></span><br><span class="line">a.lastIndexOf(<span class="number">10</span>);    <span class="comment">// 最后一次出现位置</span></span><br></pre></td></tr></table></figure>
<p><strong>遍历</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> v : a) &#123; ... &#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a.size(); i++) &#123; ... &#125;</span><br><span class="line">a.forEach(v -&gt; &#123; ... &#125;);                <span class="comment">// lambda</span></span><br></pre></td></tr></table></figure>
<p><strong>排序与反转</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Collections.sort(a);           <span class="comment">// 升序</span></span><br><span class="line">Collections.reverse(a);        <span class="comment">// 反转</span></span><br><span class="line">Collections.shuffle(a);        <span class="comment">// 打乱</span></span><br></pre></td></tr></table></figure>
<p><strong>截取子列表</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; sub = a.subList(<span class="number">1</span>, <span class="number">4</span>); <span class="comment">// [1,4) 左闭右开</span></span><br></pre></td></tr></table></figure>
<p><code>subList</code> 返回的是原列表的<strong>视图</strong>，改 <code>sub</code> 会影响 <code>a</code>，反之也一样。想要独立拷贝：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; subCopy = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(a.subList(<span class="number">1</span>, <span class="number">4</span>));</span><br></pre></td></tr></table></figure>
<p><strong>转换</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Object[] arr = a.toArray();</span><br><span class="line">Integer[] arr2 = a.toArray(<span class="keyword">new</span> <span class="title class_">Integer</span>[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">List&lt;Integer&gt; copy = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(a); <span class="comment">// 拷贝</span></span><br></pre></td></tr></table></figure>
<h2 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a><strong>面向对象</strong></h2><h3 id="继承（Vererbung）"><a href="#继承（Vererbung）" class="headerlink" title="继承（Vererbung）"></a><strong>继承（Vererbung）</strong></h3><p>现实世界里有很多相似但不完全相同的对象，比如说人类，猩猩，狼等哺乳类动物。</p>
<p>Idea：</p>
<ul>
<li>把<strong>共同点</strong>提到上面（父类 / 超类）</li>
<li>把<strong>不同点</strong>留在下面（子类 / 派生类）</li>
<li>这样可以 <strong>增量开发</strong> 和 <strong>复用代码（software reuse）</strong></li>
</ul>
<p>来看个很简单的例子：书和字典。</p>
<p>因为所有书都有页数这个属性，所有我们可以把这个属性直接放进书（父类）的字段里，这样一来各种书都会自动继承这个字段，不需要我们在每种不同的书里都再定义一遍它。</p>
<p><strong>书（父类）：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="type">int</span> pages;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Book</span><span class="params">()</span> &#123;</span><br><span class="line">        pages = <span class="number">150</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">page_message</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;Number of pages:\t&quot;</span> + pages + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>字典（子类）：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dictionary</span> <span class="keyword">extends</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> defs;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Dictionary</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        pages = <span class="number">2</span> * pages;    <span class="comment">// 继承来的属性</span></span><br><span class="line">        defs = x;             <span class="comment">// 自己的属性</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">defs_message</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;Number of defs:\t\t&quot;</span> + defs + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        System.out.print(<span class="string">&quot;Defs per page:\t\t&quot;</span> + defs / pages + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>extends</code> 表示继承：子类Dictionary拥有 Book的所有字段（attribute），再加上自己的字段。</p>
<h4 id="访问控制（private-protected-public）"><a href="#访问控制（private-protected-public）" class="headerlink" title="访问控制（private / protected / public）"></a><strong>访问控制（private / protected / public）</strong></h4><div class="table-container">
<table>
<thead>
<tr>
<th>修饰符</th>
<th>同类内部</th>
<th>同 package</th>
<th>子类</th>
<th>外部世界</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>private</code></td>
<td>✅</td>
<td>❌</td>
<td>❌</td>
<td>❌</td>
</tr>
<tr>
<td>default（不写）</td>
<td>✅</td>
<td>✅</td>
<td><em>(同 package 的子类才行)</em></td>
<td>❌</td>
</tr>
<tr>
<td><code>protected</code></td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>❌</td>
</tr>
<tr>
<td><code>public</code></td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="type">int</span> pages;	<span class="comment">// 这种时候就是default</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Food</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">CALORIES_PER_GRAM</span> <span class="operator">=</span> <span class="number">9</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> fat, servings;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Food</span><span class="params">(<span class="type">int</span> num_fat_grams, <span class="type">int</span> num_servings)</span> &#123;</span><br><span class="line">        fat = num_fat_grams;</span><br><span class="line">        servings = num_servings;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">calories</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fat * CALORIES_PER_GRAM;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">calories_per_serving</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (calories() / servings);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Pizza</span> <span class="keyword">extends</span> <span class="title class_">Food</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Pizza</span> <span class="params">(<span class="type">int</span> amount_fat)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(amount_fat, <span class="number">8</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Eating</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span> <span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Pizza</span> <span class="variable">special</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pizza</span>(<span class="number">275</span>);</span><br><span class="line">        System.out.print(<span class="string">&quot;Calories per serving: &quot;</span> +</span><br><span class="line">                special.calories_per_serving());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Pizza</code>继承了<code>Food</code>的所有成员，但<code>calories()</code>和属性都是<code>private</code>，所以在<code>Pizza</code>里不能直接访问。但可以通过<code>public</code>的方法<code>calories_per_serving()</code> 间接使用。</p>
<h4 id="关键字-super"><a href="#关键字-super" class="headerlink" title="关键字 super"></a><strong>关键字 <code>super</code></strong></h4><p>很多时候我们需要在子类的构造器里调用父类的构造器，这个时候就需要用到<code>super()</code>。</p>
<p>比如说刚才披萨例子里的：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">Pizza</span> <span class="params">(<span class="type">int</span> amount_fat)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(amount_fat, <span class="number">8</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>调用<code>super()</code>相当于就是在调用父类的构造器，所以接收的参数也一模一样。</p>
<p>而<code>super</code>和<code>this</code>类似，只不过指代的是父类。可以用<code>super.</code>来调用父类的所有函数。</p>
<p>比如说刚才字典的例子可以改写成这样：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="type">int</span> pages;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Book</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        pages = x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">message</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;Number of pages:\t&quot;</span> + pages + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dictionary</span> <span class="keyword">extends</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> defs;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Dictionary</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> d)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(p);       <span class="comment">// 调用父类构造器</span></span><br><span class="line">        defs = d;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">message</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.message();   <span class="comment">// 先调用 Book.message()</span></span><br><span class="line">        System.out.print(<span class="string">&quot;Number of defs:\t\t&quot;</span> + defs + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        System.out.print(<span class="string">&quot;Defs per page:\t\t&quot;</span> + defs / pages + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="属性和方法的覆盖-重写与隐藏"><a href="#属性和方法的覆盖-重写与隐藏" class="headerlink" title="属性和方法的覆盖/重写与隐藏"></a><strong>属性和方法的覆盖/重写与隐藏</strong></h4><p><strong>方法重写（override）</strong></p>
<p>当子类里定义了一个同名、同参数列表、同返回类型的方法，就会<strong>覆盖（verschatten）</strong>父类的实现。</p>
<p>方法调用解析的规则：</p>
<ol>
<li>编译时，先在<strong>静态类型</strong>的类中根据方法名和参数类型，找到<strong>最合适的签名</strong>（考虑重载）。</li>
<li>运行时，从<strong>动态类型</strong>开始往上找这个签名的方法，实现采用最下面的那个实现。</li>
</ol>
<p>所以方法的选择是参数，静态类型和动态类型共同决定的。</p>
<h4 id="Object-类"><a href="#Object-类" class="headerlink" title="Object 类"></a><strong><code>Object</code> 类</strong></h4><p>任意类如果没写 <code>extends</code>，默认都是 <code>extends Object</code></p>
<p><code>Object</code> 提供了很多通用方法，其中常用的：</p>
<ul>
<li><code>String toString()</code>：把对象转成字符串</li>
<li><code>boolean equals(Object obj)</code>：默认比较引用是否相同（<code>this == obj</code>）</li>
<li><code>int hashCode()</code>：给对象一个哈希值，和集合类有关</li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Poly</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123; <span class="keyword">return</span> <span class="string">&quot;Hello&quot;</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PolyTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">addWorld</span><span class="params">(Object x)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x.toString() + <span class="string">&quot; World!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Object</span> <span class="variable">x</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Poly</span>();</span><br><span class="line">        System.out.print(addWorld(x) + <span class="string">&quot;\n&quot;</span>); <span class="comment">// Hello World!</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="抽象类（abstract）、final-类和接口（interface）"><a href="#抽象类（abstract）、final-类和接口（interface）" class="headerlink" title="抽象类（abstract）、final 类和接口（interface）"></a><strong>抽象类（abstract）、final 类和接口（interface）</strong></h3><h4 id="抽象方法与抽象类"><a href="#抽象方法与抽象类" class="headerlink" title="抽象方法与抽象类"></a><strong>抽象方法与抽象类</strong></h4><p><strong>抽象方法</strong>：没有实现，只写方法头，用<code>abstract</code>标记。需要在子类里具体实现。</p>
<p><strong>抽象类</strong>：只要含有抽象方法，这个类本身也必须标记<code>abstract</code>，不能直接<code>new</code>。不过一个抽象类里也可以有具体的方法。（比如下面例子里的<code>getValue()</code>）</p>
<p><strong>例子：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Expression</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> value;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">evaluated</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getValue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (evaluated) <span class="keyword">return</span> value;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            value = evaluate();</span><br><span class="line">            evaluated = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">return</span> value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="type">int</span> <span class="title function_">evaluate</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>不同的子类（每个里都需要具体实现<code>evaluate()</code>）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Const</span> <span class="keyword">extends</span> <span class="title class_">Expression</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Const</span><span class="params">(<span class="type">int</span> x)</span> &#123; n = x; &#125;</span><br><span class="line">    <span class="keyword">protected</span> <span class="type">int</span> <span class="title function_">evaluate</span><span class="params">()</span> &#123; </span><br><span class="line">        <span class="keyword">return</span> n; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Add</span> <span class="keyword">extends</span> <span class="title class_">Expression</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Expression left, right;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Add</span><span class="params">(Expression l, Expression r)</span> &#123; </span><br><span class="line">        left = l; right = r; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">protected</span> <span class="type">int</span> <span class="title function_">evaluate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> left.getValue() + right.getValue();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Neg</span> <span class="keyword">extends</span> <span class="title class_">Expression</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Expression arg;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Neg</span><span class="params">(Expression a)</span> &#123; </span><br><span class="line">        arg = a; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">protected</span> <span class="type">int</span> <span class="title function_">evaluate</span><span class="params">()</span> &#123; </span><br><span class="line">        <span class="keyword">return</span> -arg.getValue(); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Expression</span> <span class="variable">e</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Add</span>(</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Neg</span>(<span class="keyword">new</span> <span class="title class_">Const</span>(<span class="number">8</span>)),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Const</span>(<span class="number">16</span>));</span><br><span class="line">System.out.println(e.getValue());</span><br></pre></td></tr></table></figure>
<h4 id="final类和final方法"><a href="#final类和final方法" class="headerlink" title="final类和final方法"></a><strong>final类和final方法</strong></h4><p>与abstract通常需要子类来实现其抽象方法后才能真正使用不同，<strong>final是不能有子类</strong>。</p>
<ul>
<li><p><code>final class</code>：不能有子类。（例如上面的 <code>Const</code>, <code>Add</code>, <code>Neg</code>）</p>
</li>
<li><p><code>final</code>方法：不能被子类重写。</p>
</li>
<li><p><code>final</code>变量：只能赋值一次（常量）。</p>
</li>
</ul>
<h4 id="接口（Interfaces）"><a href="#接口（Interfaces）" class="headerlink" title="接口（Interfaces）"></a><strong>接口（Interfaces）</strong></h4><p>之前说到了一个类可以有很多的子类，但是如果我们希望一个子类C同时继承A类和B类的话，那么当A,B里都有一个相同名字的函数<code>meth()</code>时，C类调用<code>super.meth()</code>时到底会调用A类的还是B类的呢？</p>
<p>Java的解决方案非常简单：<strong>只允许单继承类，但允许实现多个接口。</strong></p>
<p>接口可以看作是一个特殊的抽象类，只不过其中：</p>
<ul>
<li>所有方法都是抽象的</li>
<li>所有字段都是常量</li>
</ul>
<p>接口这个东西有点抽象，所以我们先来看个简单的例子：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="type">double</span> <span class="title function_">area</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 圆形</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> r;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">(<span class="type">double</span> r)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.r = r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">area</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Math.PI * r * r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 矩形</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Rectangle</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> w, h;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Rectangle</span><span class="params">(<span class="type">double</span> w, <span class="type">double</span> h)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.w = w; <span class="built_in">this</span>.h = h;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">area</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> w * h;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">computeArea</span><span class="params">(Shape s)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> s.area();   <span class="comment">// 调用的具体实现由运行时决定（Circle 或 Rectangle）</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Shape</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Circle</span>(<span class="number">2.0</span>);</span><br><span class="line">        <span class="type">Shape</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Rectangle</span>(<span class="number">3.0</span>, <span class="number">4.0</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(computeArea(c)); <span class="comment">// 圆的面积</span></span><br><span class="line">        System.out.println(computeArea(r)); <span class="comment">// 矩形的面积</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">totalArea</span><span class="params">(Shape[] shapes)</span> &#123;</span><br><span class="line">    <span class="type">double</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (Shape s : shapes) &#123;</span><br><span class="line">        sum += s.area();  <span class="comment">// 不需要单独根据本身的类型处理列表里的每一项</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里的接口主要有几个好处：</p>
<ul>
<li><strong>提供统一的类型（Shape），从而可以写通用代码</strong>：函数参数/返回值/集合元素都用接口类型，不依赖具体类。</li>
<li><strong>处理混合类型集合更简单</strong>：<code>Shape[] / List&lt;Shape&gt;</code>里放各种形状，直接循环调用 <code>area()</code>，无需 <code>instanceof</code>。</li>
<li><strong>编译期强制规范</strong>：<code>implements Shape</code>的类必须实现 <code>area()</code>，编译器自动检查，减少约定没遵守的错误。</li>
</ul>
<p>当然<strong>接口之间也可以extends</strong>：</p>
<p>例如接口 <code>Countable</code>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Comparable</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Object x)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Countable</span> <span class="keyword">extends</span> <span class="title class_">Comparable</span>, Cloneable &#123;</span><br><span class="line">    Countable <span class="title function_">next</span><span class="params">()</span>;</span><br><span class="line">    Countable <span class="title function_">prev</span><span class="params">()</span>;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">number</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Countable</code>组合了两个接口：<code>Comparable</code>和<code>Cloneable</code>，任何实现<code>Countable</code>的类都必须实现这三个接口中的所有方法（<code>compareTo</code>, <code>next</code>, <code>prev</code>, <code>number</code> 等）。</p>
<h3 id="多态（Polymorphie）"><a href="#多态（Polymorphie）" class="headerlink" title="多态（Polymorphie）"></a><strong>多态（Polymorphie）</strong></h3><p>Polymorphie这个单词来自希腊语词根：</p>
<ul>
<li>poly- = 多、许多</li>
<li><strong>-</strong>morph = 形态、形式</li>
<li>-ie（名词后缀）</li>
</ul>
<p>所以字面意思就是：多种形态/多种形式性。</p>
<p>而在面都对象编程里的定义一般是这样：<br><strong>多态</strong>：同一个“接口/父类型”的变量或方法调用，在运行时可以指向不同的具体对象，从而表现出不同的具体行为。</p>
<p>简单来讲就是：同一句代码（同一个方法调用），因为对象的真实类型不同，执行出不同的结果。</p>
<p>分为编译期和运行期。编译期会检查函数签名，运行期会调用具体的最底层的函数实现。</p>
<h4 id="在继承体系中的多态与方法选择规则"><a href="#在继承体系中的多态与方法选择规则" class="headerlink" title="在继承体系中的多态与方法选择规则"></a><strong>在继承体系中的多态与方法选择规则</strong></h4><h4 id="泛型类（Generische-Klassen）"><a href="#泛型类（Generische-Klassen）" class="headerlink" title="泛型类（Generische Klassen）"></a><strong>泛型类（Generische Klassen）</strong></h4><p>可以用java自带的<code>LinkedList&lt;&gt;</code>以及泛型来实现Stack：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> pgdp.collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Stack</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> LinkedList&lt;T&gt; stackList = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(T value)</span> &#123;</span><br><span class="line">        stackList.addLast(value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> stackList.pollLast();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里<code>&lt;&gt;</code>里的<code>T</code>只是一个占位符，一般用<code>T</code>是因为取的Type的首字母。可以用任意字母。</p>
<h4 id="包装类（Wrapper-Klassen）"><a href="#包装类（Wrapper-Klassen）" class="headerlink" title="包装类（Wrapper-Klassen）"></a><strong>包装类（Wrapper-Klassen）</strong></h4><h2 id="递归"><a href="#递归" class="headerlink" title="递归"></a><strong>递归</strong></h2><h3 id="Fibonacci"><a href="#Fibonacci" class="headerlink" title="Fibonacci"></a><strong>Fibonacci</strong></h3><p>普通递归：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">long</span> <span class="title function_">fibonacciRec</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0L</span>;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1L</span>;</span><br><span class="line">    <span class="keyword">return</span> fibonacciRec(n - <span class="number">1</span>) + fibonacciRec(n - <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>尾递归：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Fibonacci</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">long</span> <span class="title function_">fibonacciEndRec</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fibTail(n, <span class="number">0L</span>, <span class="number">1L</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">long</span> <span class="title function_">fibTail</span><span class="params">(<span class="type">int</span> n, <span class="type">long</span> a, <span class="type">long</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">        <span class="keyword">return</span> fibTail(n - <span class="number">1</span>, b, a + b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a><strong>异常处理</strong></h2><p>当程序运行出现错误时，会中断正常执行流程 ，然后创建并抛出（throw）一个错误/异常对象。</p>
<p>我们可以捕获并处理这些异常。</p>
<p>所有的错误都继承自 <code>Throwable</code> 类。主要分为两类 ：</p>
<ul>
<li><strong><code>Error</code></strong>：<strong>致命错误，通常导致程序终止。</strong><ul>
<li><strong>例子</strong>：<code>StackOverflowError</code>（栈溢出，通常由无限递归引起）、<code>OutOfMemoryError</code>（内存耗尽）。</li>
<li><strong>处理建议</strong>：应用程序通常<strong>不应该</strong>试图捕获这些错误，因为一旦发生，程序基本就无法继续运行了。</li>
</ul>
</li>
<li><strong><code>Exception</code></strong>：<strong>可处理的异常。</strong><ul>
<li><strong>a. 运行时异常 (Runtime Exceptions / Unchecked Exceptions)</strong>：<ul>
<li>继承自 <code>RuntimeException</code>。</li>
<li><strong>特点</strong>：通常由<strong>编程逻辑错误</strong>引起。编译器<strong>不强制</strong>要求你捕获它们。</li>
<li><strong>例子</strong>：<ul>
<li><code>NullPointerException</code>：试图访问空对象的属性或方法。</li>
<li><code>IndexOutOfBoundsException</code>：访问数组或列表越界。</li>
<li><code>ArithmeticException</code>：如除以零（例如 <code>1/0</code>）。</li>
</ul>
</li>
</ul>
</li>
<li><strong>b. 受检异常 (Checked Exceptions)</strong>：<ul>
<li>继承自 <code>Exception</code> 但不是 <code>RuntimeException</code> 的子类。</li>
<li><strong>特点</strong>：通常由<strong>外部环境</strong>引起（如文件不存在、网络断开）。编译器<strong>强制</strong>要求你必须处理（捕获或声明抛出），否则代码无法编译通过。</li>
<li><strong>例子</strong>：<code>IOException</code>（输入输出错误）、<code>FileNotFoundException</code>（文件未找到）。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>事先定义好的错误类型：</p>
<p><img src="/images/image-20260119170646531.png" class="lazyload" data-srcset="/images/image-20260119170646531.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20260119170646531"></p>
<ul>
<li><p><code>IOException</code>：“输入/输出异常”（Input/Output Exception）</p>
<ul>
<li><p><code>FileNotFoundException</code></p>
<ul>
<li>读文件时路径不存在</li>
<li>没权限访问</li>
<li>给了一个目录当文件去打开</li>
</ul>
</li>
<li><p><code>EOFException</code></p>
<p>EOF = End Of File（文件结束）。<br> 通常出现在用 <code>DataInputStream</code> / <code>ObjectInputStream</code> 之类按“二进制格式”读数据时，读到文件末尾还想继续读。</p>
</li>
<li><p><code>InterruptedIOException</code></p>
<p>I/O 操作被中断，或超时导致读写中断。常见于网络流、某些阻塞读写。</p>
</li>
<li><p><code>UnsupportedEncodingException</code>：某种字符编码不支持。</p>
</li>
</ul>
</li>
<li><p>RuntimeException</p>
</li>
</ul>
<h3 id="如果不处理会怎样？"><a href="#如果不处理会怎样？" class="headerlink" title="如果不处理会怎样？"></a>如果不处理会怎样？</h3><p>如果错误发生且未被捕获，程序执行会中止 。</p>
<p>比如说在这个例子里：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Zero</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    System.out.println(x/y)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>程序崩溃并打印堆栈跟踪（Stack Trace）:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.lang.ArithmeticException: / by zero</span><br><span class="line">at Zero.main(Compiled Code)</span><br></pre></td></tr></table></figure>
<p>包含三部分信息 ：</p>
<ol>
<li>发生错误的线程（如 <code>main</code>）。</li>
<li>错误类的名称及消息（如 <code>java.lang.ArithmeticException: / by zero</code>）。</li>
<li>发生错误的位置（调用栈信息） 。</li>
</ol>
<h3 id="处理错误"><a href="#处理错误" class="headerlink" title="处理错误"></a><strong>处理错误</strong></h3><p>错误处理的标准结构：</p>
<ul>
<li><p><strong><code>try</code> 块</strong>：</p>
<ul>
<li>包含可能出错的代码语句 。</li>
</ul>
</li>
<li><p><strong><code>catch</code> 块</strong>：</p>
<ul>
<li><p>紧跟在 <code>try</code> 之后，包含错误处理逻辑。形式为 <code>catch (Exc e) &#123;...&#125;</code>，其中 <code>Exc</code> 是错误类型，<code>e</code> 是错误对象 。</p>
</li>
<li><p><strong>多重捕获</strong>：可以有多个 <code>catch</code> 块。</p>
</li>
<li><strong>注意顺序</strong>：必须先捕获具体的子类异常，再捕获通用的父类异常（如先 <code>catch (FileNotFoundException e)</code>，后 <code>catch (IOException e)</code>）。如果顺序反了，子类的<code>catch</code>块永远无法到达。</li>
</ul>
</li>
<li><p><strong><code>finally</code> 块</strong>：</p>
<ul>
<li><p><strong>无论是否发生异常</strong>，<code>finally</code> 中的代码<strong>一定会被执行</strong>。</p>
<ul>
<li>如果<code>try</code>块无错误：<code>try</code>执行完后执行<code>finally</code> 。</li>
<li>如果捕获了错误：<code>catch</code>块执行完后执行<code>finally</code> 。</li>
<li>如果错误未被捕获：先执行<code>finally</code>，然后继续抛出错误 。</li>
</ul>
</li>
<li><p><strong>用途</strong>：主要用于<strong>资源清理</strong>，如关闭打开的文件流（<code>stream.close()</code>）、释放数据库连接等。哪怕<code>try</code>块中有<code>return</code>语句，<code>finally</code>也会在返回之前执行。</p>
</li>
</ul>
</li>
</ul>
<h3 id="自定义异常"><a href="#自定义异常" class="headerlink" title="自定义异常"></a><strong>自定义异常</strong></h3><p>自定义异常的过程主要分为三步：<strong>继承</strong>、<strong>构造</strong>、<strong>抛出</strong>。</p>
<h4 id="1-选择继承的父类-核心决策"><a href="#1-选择继承的父类-核心决策" class="headerlink" title="1. 选择继承的父类 (核心决策)"></a><strong>1. 选择继承的父类 (核心决策)</strong></h4><p>这是定义异常时最重要的第一步。你需要决定你的异常是“受检的”还是“非受检的”。</p>
<ul>
<li><strong>情况 A：继承 <code>java.lang.Exception</code> (受检异常 Checked Exception)</strong><ul>
<li><strong>含义</strong>：这是一个必须被处理的错误。</li>
<li><strong>场景</strong>：通常用于<strong>业务逻辑错误</strong>或<strong>外部环境问题</strong>（如“余额不足”、“用户不存在”）。你希望强制调用者显式地处理这个情况（try-catch）。</li>
<li><strong>后果</strong>：如果不捕获，代码无法编译通过。</li>
</ul>
</li>
<li><strong>情况 B：继承 <code>java.lang.RuntimeException</code> (非受检异常 Unchecked Exception)</strong><ul>
<li><strong>含义</strong>：这是一个编程错误或不可恢复的错误。</li>
<li><strong>场景</strong>：通常用于<strong>参数错误</strong>或<strong>代码逻辑漏洞</strong>。</li>
<li><strong>后果</strong>：编译器不强制要求捕获。</li>
</ul>
</li>
</ul>
<h4 id="2-提供构造函数"><a href="#2-提供构造函数" class="headerlink" title="2. 提供构造函数"></a>2. 提供构造函数</h4><p>为了让异常携带错误信息，你需要在你的类中重写构造函数，并调用父类（<code>super</code>）的方法。</p>
<p>Java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：定义一个“库存不足”异常（受检异常）</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OutOfStockException</span> <span class="keyword">extends</span> <span class="title class_">Exception</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1. 无参构造</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">OutOfStockException</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 带有错误消息的构造 (最常用)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">OutOfStockException</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message); <span class="comment">// 将消息传递给父类，以便通过 e.getMessage() 获取</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. 带有原因的构造 (用于异常链，见下文注意事项)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">OutOfStockException</span><span class="params">(String message, Throwable cause)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message, cause);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-抛出与声明-Throw-amp-Throws"><a href="#3-抛出与声明-Throw-amp-Throws" class="headerlink" title="3. 抛出与声明 (Throw &amp; Throws)"></a>3. 抛出与声明 (Throw &amp; Throws)</h4><p>定义好之后，你就可以在业务代码中使用它了。</p>
<ul>
<li><p><strong>抛出 (Throw)</strong>：在检测到错误逻辑的地方，创建一个异常对象并抛出。</p>
<p>Java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (quantity &gt; stock) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">OutOfStockException</span>(<span class="string">&quot;当前库存不足，剩余: &quot;</span> + stock);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>声明 (Throws)</strong>：如果你定义的异常继承自 <code>Exception</code>（受检异常），你必须在方法签名上告诉调用者可能会抛出这个异常。</p>
<p>Java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buyProduct</span><span class="params">(<span class="type">int</span> quantity)</span> <span class="keyword">throws</span> OutOfStockException &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="为什么需要异常"><a href="#为什么需要异常" class="headerlink" title="为什么需要异常"></a><strong>为什么需要异常</strong></h3><p>核心的原因是为了把“正常逻辑”与“错误处理”分开。</p>
<p>比如说下面这个例子</p>
<p><strong>用 <code>if</code> 的代码风格</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (打开文件成功) &#123;</span><br><span class="line">    <span class="keyword">if</span> (读取第一行成功) &#123;</span><br><span class="line">        <span class="keyword">if</span> (解析数字成功) &#123;</span><br><span class="line">            <span class="comment">// 做业务...</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; 处理解析错误 &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; 处理读取错误 &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123; 处理文件错误 &#125;</span><br></pre></td></tr></table></figure>
<p>写起来也很麻烦，阅读起来非常累，很难一眼看清核心业务到底在干嘛。</p>
<p><strong>用 <code>try-catch</code> 的代码风格</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    打开文件();</span><br><span class="line">    读取第一行();</span><br><span class="line">    解析数字();</span><br><span class="line">    <span class="comment">// 纯粹的业务逻辑，很连贯</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    <span class="comment">// 统一在一个地方处理所有异常的事情</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这种写法让人一眼就能看懂“正常情况下程序在做什么”。</p>
<p>除此以外，很多错误是检查不出来的 (不可预测性)。有些错误是外部环境导致的，<code>if</code> 检查在时间上存在漏洞（这叫做 <strong>TOCTOU</strong> 问题：Time Of Check to Time Of Use）。</p>
<h2 id="字符串-Strings"><a href="#字符串-Strings" class="headerlink" title="字符串 (Strings)"></a><strong>字符串 (Strings)</strong></h2><p>在JAVA中，String 是一个非常特殊且极其重要的类。</p>
<h3 id="不可变性-Immutability"><a href="#不可变性-Immutability" class="headerlink" title="不可变性 (Immutability)"></a><strong>不可变性 (Immutability)</strong></h3><p>一个<code>String</code>对象一旦在内存中被创建，它的内容就<strong>永远无法改变</strong>。</p>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">s = s + <span class="string">&quot; World&quot;</span>; <span class="comment">// s 变成了 &quot;Hello World&quot;</span></span><br></pre></td></tr></table></figure>
<p>看起来 <code>s</code> 变了，但实际上：</p>
<ol>
<li>内存中创建了”Hello”。</li>
<li>内存中创建了” World”。</li>
<li>内存中创建了一个<strong>全新</strong>的对象”Hello World”。</li>
<li>变量 <code>s</code> 的指针从指向”Hello”改为指向”Hello World”。</li>
<li>原来的”Hello”如果没人用，就会变成垃圾被回收。</li>
</ol>
<p><strong>为什么这么设计？</strong> </p>
<ul>
<li><strong>安全性</strong>：String 常用于数据库连接、文件名、网络地址。如果它是可变的，黑客可以在你检查完权限后、真正使用前修改它的内容。</li>
<li><strong>缓存</strong>：因为不可变，所以它的哈希值（HashCode）只需要算一次就可以缓存起来，放入 HashMap 效率极高。</li>
<li><strong>线程安全</strong>：多个线程同时读一个字符串，完全不用担心有人会改动它。</li>
</ul>
<h3 id="字符串常量池-String-Pool"><a href="#字符串常量池-String-Pool" class="headerlink" title="字符串常量池 (String Pool)"></a><strong>字符串常量池 (String Pool)</strong></h3><p>为了避免内存浪费（比如代码里写了 100 次 “Hello”，没必要在内存里存 100 份），Java 设计了一个特殊的内存区域叫 <strong>String Pool</strong>。</p>
<p><strong>两种创建方式：</strong></p>
<ol>
<li><p>字面量赋值 (Literal)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;Hallo&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;Hallo&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>Java 会先去池子里找有没有 “Hallo”。</p>
<ul>
<li>如果没有：创建一个放入池子，返回引用。</li>
<li>如果有：直接返回池子里那个对象的引用。</li>
</ul>
<p><strong>结果</strong>：<code>s1 == s2</code> 为 <strong>true</strong> (它们指向同一个内存地址)。</p>
</li>
<li><p>使用 <code>new</code> 关键字</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;Hallo&quot;</span>);</span><br></pre></td></tr></table></figure>
<p><code>new</code> 关键字强制在<strong>堆内存 (Heap)</strong> 中创建一个<strong>新</strong>对象，不管池子里有没有。</p>
<p><strong>结果</strong>：<code>s1 == s3</code> 为 <strong>false</strong> (地址不同)。</p>
</li>
</ol>
<h4 id="intern-方法"><a href="#intern-方法" class="headerlink" title="intern() 方法"></a><code>intern()</code> 方法</h4><p>它是连接“普通堆内存”和“字符串池”的桥梁。</p>
<ul>
<li><p><strong>作用</strong>：手动将字符串加入池中。</p>
</li>
<li><p><strong>逻辑</strong>： 调用 <code>s3.intern()</code> 时：</p>
<ol>
<li>检查池中是否已经包含等于 <code>s3</code> 的字符串。</li>
<li><strong>如果有</strong>：返回池中那个对象的引用。</li>
<li><strong>如果没有</strong>：将 <code>s3</code> 的引用加入池中，并返回它。</li>
</ol>
</li>
<li><p><strong>代码演示</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;Hallo&quot;</span>); <span class="comment">// s3 在堆上，不在池里</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s4</span> <span class="operator">=</span> s3.intern();         <span class="comment">// s4 指向池里的 &quot;Hallo&quot;</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;Hallo&quot;</span>;             <span class="comment">// s1 也是池里的 &quot;Hallo&quot;</span></span><br><span class="line"></span><br><span class="line">System.out.println(s3 == s1); <span class="comment">// false</span></span><br><span class="line">System.out.println(s4 == s1); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="字符串比较"><a href="#字符串比较" class="headerlink" title="字符串比较"></a><strong>字符串比较</strong></h4><ul>
<li><strong><code>==</code></strong>：比较的是<strong>内存地址</strong>（是不是同一个对象）。<ul>
<li>利用String Pool和 <code>intern()</code>，我们可以强制让相同内容的字符串共享同一个对象，从而可以使用 <code>==</code> 来加速比较（比逐个字符对比快得多）。</li>
</ul>
</li>
<li><strong><code>equals()</code></strong>：比较的是<strong>内容</strong>（长得一不一样）。</li>
</ul>
<p>这个String Pool本质上是通过哈希表来实现高效运作的：</p>
<ul>
<li>计算字符串内容的哈希值</li>
<li>分配到指定的桶里</li>
<li>查找的时候先计算哈希值，然后去桶里找</li>
</ul>
<h3 id="常用的String方法"><a href="#常用的String方法" class="headerlink" title="常用的String方法"></a><strong>常用的String方法</strong></h3><h4 id="trim"><a href="#trim" class="headerlink" title="trim()"></a><code>trim()</code></h4><p><strong>用法：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> s1.trim();</span><br></pre></td></tr></table></figure>
<p><strong>作用：</strong></p>
<ul>
<li>去掉字符串<strong>开头和结尾</strong>的所有空白字符（包括空格、制表符 <code>\t</code>、换行 <code>\n</code> 等）。</li>
<li>中间的空格不会被去掉。</li>
<li>返回新字符串，不会直接修改原本的。</li>
</ul>
<p><strong>例子：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;   hello world  \n&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">t</span> <span class="operator">=</span> s.trim();   <span class="comment">// t == &quot;hello world&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="isEmpty"><a href="#isEmpty" class="headerlink" title="isEmpty()"></a><code>isEmpty()</code></h4><p><strong>用法：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="variable">b</span> <span class="operator">=</span> s.isEmpty();</span><br></pre></td></tr></table></figure>
<p><strong>作用：</strong></p>
<ul>
<li>判断字符串长度是否为 0，相当于 <code>s.length() == 0</code>。</li>
</ul>
<p><strong>例子：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;</span>.isEmpty();        <span class="comment">// true</span></span><br><span class="line"><span class="string">&quot; &quot;</span>.isEmpty();       <span class="comment">// false，因为里面有一个空格</span></span><br><span class="line"><span class="string">&quot;abc&quot;</span>.isEmpty();     <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<h4 id="toLowerCase"><a href="#toLowerCase" class="headerlink" title="toLowerCase()"></a><code>toLowerCase()</code></h4><p><strong>用法：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">lower</span> <span class="operator">=</span> s.toLowerCase();</span><br></pre></td></tr></table></figure>
<p><strong>作用：</strong></p>
<ul>
<li>返回一个<strong>全部小写</strong>的新字符串，不改变原来的字符串。</li>
</ul>
<p><strong>例子：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;PiNguin&quot;</span>.toLowerCase();   <span class="comment">// &quot;pinguin&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="replace-target-replacement"><a href="#replace-target-replacement" class="headerlink" title="replace(target, replacement)"></a><code>replace(target, replacement)</code></h4><p><strong>用法：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> s1.replace(<span class="string">&quot;.&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br></pre></td></tr></table></figure>
<p><strong>作用：</strong></p>
<ul>
<li>把<strong>所有出现的子串</strong> <code>target</code> 替换成 <code>replacement</code>。</li>
<li>不用正则，就是普通的字符串匹配。</li>
<li>返回新字符串，不改原来的。</li>
</ul>
<p><strong>例子：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;Pinguin, Pinguin! (?Ping(uin!)&quot;</span>;</span><br><span class="line">s = s.toLowerCase();</span><br><span class="line">s = s.replace(<span class="string">&quot;.&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">s = s.replace(<span class="string">&quot;,&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">s = s.replace(<span class="string">&quot;!&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">s = s.replace(<span class="string">&quot;(&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">s = s.replace(<span class="string">&quot;)&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line"><span class="comment">// &quot;pinguin pinguin ?pinguin&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="split-String-regex"><a href="#split-String-regex" class="headerlink" title="split(String regex)"></a><code>split(String regex)</code></h4><p><strong>用法：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String[] parts = s.split(<span class="string">&quot;\\s+&quot;</span>);</span><br></pre></td></tr></table></figure>
<p><strong>作用：</strong></p>
<ul>
<li>用参数 <code>regex</code> 作为<strong>正则表达式</strong>，将字符串按匹配的位置拆分成若干段，返回 <code>String[]</code>。</li>
<li>注意：参数是<strong>正则表达式</strong>而不是普通字符串。</li>
</ul>
<p><code>\\s+</code>实际上就是<code>\s+</code>，表示匹配<strong>一个或多个空白字符</strong>（空格、tab、换行等）。</p>
<p><code>split(&quot; &quot;)</code>则会按<strong>单个空格</strong>拆分。</p>
<p><strong>例子：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;  hello   world \n pinguin  &quot;</span>;</span><br><span class="line">String[] parts = s.trim().split(<span class="string">&quot;\\s+&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// parts[0] == &quot;hello&quot;</span></span><br><span class="line"><span class="comment">// parts[1] == &quot;world&quot;</span></span><br><span class="line"><span class="comment">// parts[2] == &quot;pinguin&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="length"><a href="#length" class="headerlink" title="length()"></a><code>length()</code></h4><p><strong>用法：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int len = s.length();</span><br></pre></td></tr></table></figure>
<p><strong>作用：</strong></p>
<ul>
<li>返回字符串中<strong>字符的个数</strong>（不是字节数）。</li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;</span>.length();        <span class="comment">// 0</span></span><br><span class="line"><span class="string">&quot;abc&quot;</span>.length();     <span class="comment">// 3</span></span><br><span class="line"><span class="string">&quot;中文&quot;</span>.length();     <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<h4 id="compareTo"><a href="#compareTo" class="headerlink" title="compareTo()"></a><code>compareTo()</code></h4><p><strong>用法：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int result = s1.compareTo(s2);</span><br></pre></td></tr></table></figure>
<p><strong>作用：</strong></p>
<ul>
<li>按<strong>字典序（lexicographical order）</strong>比较两个字符串的大小。</li>
<li>返回一个 <code>int</code>（只保证小于等于大于0这三种情况，不保证具体的数值。）：<ul>
<li><code>&lt; 0</code>：<code>s1</code> 在字典序上 <strong>小于</strong> <code>s2</code></li>
<li><code>= 0</code>：<code>s1</code> 和 <code>s2</code> <strong>内容相同</strong></li>
<li><code>&gt; 0</code>：<code>s1</code> 在字典序上 <strong>大于</strong> <code>s2</code></li>
</ul>
</li>
</ul>
<p><strong>例子：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;abc&quot;</span>.compareTo(<span class="string">&quot;abd&quot;</span>);   <span class="comment">// 结果 &lt; 0，因为 &#x27;c&#x27; &lt; &#x27;d&#x27;</span></span><br><span class="line"><span class="string">&quot;abc&quot;</span>.compareTo(<span class="string">&quot;abc&quot;</span>);   <span class="comment">// 结果 = 0，两个字符串完全一样</span></span><br><span class="line"><span class="string">&quot;abd&quot;</span>.compareTo(<span class="string">&quot;abc&quot;</span>);   <span class="comment">// 结果 &gt; 0，因为 &#x27;d&#x27; &gt; &#x27;c&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;app&quot;</span>.compareTo(<span class="string">&quot;apple&quot;</span>); <span class="comment">// 结果 &lt; 0，&quot;app&quot; 是前缀，长度更短</span></span><br><span class="line"><span class="string">&quot;apple&quot;</span>.compareTo(<span class="string">&quot;app&quot;</span>); <span class="comment">// 结果 &gt; 0，&quot;apple&quot; 比 &quot;app&quot; 长</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;abc&quot;</span>.compareTo(<span class="string">&quot;Abc&quot;</span>);   <span class="comment">// 一般 &gt; 0，小写 &#x27;a&#x27; 的编码值大于大写 &#x27;A&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (w1.compareTo(w2) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="迭代器-Iterators"><a href="#迭代器-Iterators" class="headerlink" title="迭代器 (Iterators)"></a><strong>迭代器 (Iterators)</strong></h2><p>如果在编程中没有迭代器，我们处理不同的数据结构会非常麻烦：数组用索引 <code>i</code> 遍历，链表用 <code>node.next</code> 遍历，哈希表（Set/Map）甚至没有顺序，很难遍历。</p>
<p><strong>迭代器模式 (Iterator Pattern)</strong> 的核心目的就是：<strong>提供一种统一、标准的方式来遍历任何类型的集合，而不需要了解集合底层的具体实现（是数组还是链表）。</strong></p>
<p>在 Java 中，迭代器机制涉及两个长得很像但职责完全不同的接口：</p>
<ol>
<li><p><strong><code>Iterable&lt;T&gt;</code> (可迭代的)</strong></p>
<ul>
<li><p><strong>角色</strong>：这是<strong>集合（容器）</strong>要实现的接口。</p>
</li>
<li><p><strong>含义</strong>：它向外界声明：“我是存储数据的容器，你可以遍历我。”</p>
</li>
<li><p><strong>核心方法</strong>：</p>
<ul>
<li><code>iterator()</code>: 这个方法被调用时，必须返回一个新的、准备好从头开始遍历的 <code>Iterator</code> 对象。</li>
</ul>
</li>
<li><p><strong>地位</strong>：所有的标准集合（List, Set 等）都实现了这个接口。</p>
</li>
</ul>
</li>
<li><p><strong><code>Iterator&lt;T&gt;</code> (迭代器)</strong></p>
<ul>
<li><p><strong>角色</strong>：这是负责<strong>执行遍历操作</strong>的“指针”对象。</p>
</li>
<li><p><strong>含义</strong>：它不存储数据，它只是记录“当前读到哪里了”。</p>
</li>
<li><p><strong>核心方法</strong>：</p>
<ol>
<li><strong><code>boolean hasNext()</code></strong>:<ul>
<li><strong>探测</strong>。检查是否还有下一个元素。如果还没遍历完，返回 <code>true</code>。</li>
</ul>
</li>
<li><strong><code>E next()</code></strong>:<ul>
<li><strong>取值并前移</strong>。返回当前的元素，并将内部指针向下移动一步。</li>
<li><em>注意</em>：如果已经没有元素了还强行调用 <code>next()</code>，会抛出 <code>NoSuchElementException</code>。</li>
</ul>
</li>
<li><strong><code>void remove()</code></strong> (可选):<ul>
<li><strong>删除</strong>。删除最近一次由 <code>next()</code> 返回的那个元素。</li>
<li><em>注意</em>：不能连续调用两次 <code>remove()</code>，必须先调用 <code>next()</code> 才能调用 <code>remove()</code>。</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
</ol>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">IterableString</span> <span class="keyword">implements</span> <span class="title class_">Iterable</span>&lt;Character&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> String str;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">IterableString</span><span class="params">(String str)</span> &#123;</span><br><span class="line">    	<span class="built_in">this</span>.str = str;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Iterator&lt;Character&gt; <span class="title function_">iterator</span><span class="params">()</span> &#123;</span><br><span class="line">    	<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">IterableStringIterator</span>(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">IterableStringIterator</span> <span class="keyword">implements</span> <span class="title class_">Iterator</span>&lt;Character&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> String str;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">IterableStringIterator</span><span class="params">(String str)</span> &#123; <span class="built_in">this</span>.str = str; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span> &#123; <span class="keyword">return</span> count &lt; str.length(); &#125;</span><br><span class="line">    <span class="keyword">public</span> Character <span class="title function_">next</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (count == str.length()) &#123;</span><br><span class="line">        	<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NoSuchElementException</span>();</span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="keyword">return</span> str.charAt(count++);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">()</span> &#123;</span><br><span class="line">    	<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">UnsupportedOperationException</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Kollektionen-集合框架"><a href="#Kollektionen-集合框架" class="headerlink" title="Kollektionen (集合框架)"></a><strong>Kollektionen (集合框架)</strong></h2><p>Collection 是对象的容器（Sammlung von Objekten）。</p>
<p>目标：</p>
<ul>
<li><strong>统一架构</strong>：提供一套标准的方式来存储和操作数据，不需要程序员自己去写链表或动态数组。</li>
<li><strong>抽象化</strong>：你只需要针对接口（如 <code>List</code>）编程，而不需要关心底层是用数组实现的（<code>ArrayList</code>）还是链表实现的（<code>LinkedList</code>）。</li>
<li><strong>互操作性</strong>：不同的库可以轻松交换数据。</li>
<li><strong>性能</strong>：Java 官方提供了高性能的实现。</li>
</ul>
<p><img src="/images/image-20260119211746799.png" class="lazyload" data-srcset="/images/image-20260119211746799.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20260119211746799"></p>
<h3 id="Collection-lt-E-gt-接口"><a href="#Collection-lt-E-gt-接口" class="headerlink" title="Collection&lt;E&gt; 接口"></a><strong><code>Collection&lt;E&gt;</code> 接口</strong></h3><p>这是最通用的接口。如果你只知道一个东西是 <code>Collection</code>：</p>
<ul>
<li><strong>你知道的</strong>：它能添加(<code>add</code>)、删除(<code>remove</code>)、查大小(<code>size</code>)、清空(<code>clear</code>)、检查包含(<code>contains</code>)、转数组(<code>toArray</code>)，并且它是 <code>Iterable</code> 的（可以用 for-each 循环）。</li>
<li><strong>你不知道的</strong>：它是否有序？是否允许重复？是否允许 null？（这些取决于具体的子接口或实现类）。</li>
</ul>
<h3 id="List-lt-E-gt-接口"><a href="#List-lt-E-gt-接口" class="headerlink" title="List&lt;E&gt; 接口"></a><strong><code>List&lt;E&gt;</code> 接口</strong></h3><ul>
<li><strong>特点</strong>：<ul>
<li><strong>有序</strong>（Geordnete Collection）。</li>
<li><strong>允许重复</strong>（Duplikate erlaubt）。</li>
<li>支持通过 <strong>索引 (Index)</strong> 访问元素（如 <code>get(int index)</code>）。</li>
</ul>
</li>
<li><strong>常用实现类</strong>：<ul>
<li><code>ArrayList</code>：基于动态数组，查询快，增删慢。</li>
<li><code>LinkedList</code>：基于链表，增删快，查询慢。</li>
</ul>
</li>
</ul>
<h3 id="Map-lt-K-V-gt-接口"><a href="#Map-lt-K-V-gt-接口" class="headerlink" title="Map&lt;K, V&gt; 接口"></a><strong><code>Map&lt;K, V&gt;</code> 接口</strong></h3><ul>
<li><strong>特点</strong>：<ul>
<li>模拟数学中的函数映射。</li>
<li>存储 <strong>Key-Value (键值对)</strong>。</li>
<li><strong>Key 不允许重复</strong>（每个 Key 最多映射到一个 Value）。</li>
</ul>
</li>
<li><strong>核心方法</strong>：<ul>
<li><code>put(K key, V value)</code>: 存入数据。</li>
<li><code>get(Object key)</code>: 根据键取值。</li>
<li><code>keySet()</code>: 返回所有键的集合（是一个 <code>Set</code>）。</li>
<li><code>values()</code>: 返回所有值的集合（是一个 <code>Collection</code>）。</li>
</ul>
</li>
</ul>
<h3 id="Collections-工具类-Algorithms"><a href="#Collections-工具类-Algorithms" class="headerlink" title="Collections 工具类 (Algorithms)"></a><strong><code>Collections</code> 工具类 (Algorithms)</strong></h3><p><code>Collections</code> 类包含了一堆静态方法，用来操作集合 ：</p>
<ul>
<li><strong><code>sort(List)</code></strong>: 对列表进行排序。</li>
<li><strong><code>reverse(List)</code></strong>: 反转列表顺序。</li>
<li><strong><code>disjoint(c1, c2)</code></strong>: 检查两个集合是否没有交集（完全不相关）。</li>
<li><strong><code>frequency(c, o)</code></strong>: 统计元素 <code>o</code> 在集合 <code>c</code> 中出现的次数。</li>
<li><strong><code>replaceAll(list, old, new)</code></strong>: 批量替换。</li>
</ul>
<h2 id="Lambda-表达式与流（Streams）"><a href="#Lambda-表达式与流（Streams）" class="headerlink" title="Lambda 表达式与流（Streams）"></a><strong>Lambda 表达式与流（Streams）</strong></h2><h3 id="Lambda-表达式"><a href="#Lambda-表达式" class="headerlink" title="Lambda 表达式"></a><strong>Lambda 表达式</strong></h3><p>在 Lambda 出现之前，如果我们想把一段“逻辑”当作参数传递给方法（比如定义排序规则），我们必须创建一个<strong>匿名内部类</strong>。这通常意味着要写 5-6 行代码，而其中真正有用的逻辑只有 1 行。</p>
<p>Lambda表达式旨在消除这种“样板代码” (Boilerplate Code)。</p>
<h4 id="语法结构"><a href="#语法结构" class="headerlink" title="语法结构"></a><strong>语法结构</strong></h4><p>Lambda 本质上是一个<strong>匿名函数</strong>（没有名字的方法）。</p>
<ul>
<li><strong>语法</strong>：<code>(参数列表) -&gt; &#123; 方法体 &#125;</code></li>
<li><strong>示例</strong>：<ul>
<li>无参数：<code>() -&gt; System.out.println(&quot;Hi&quot;)</code></li>
<li>有参数：<code>(x) -&gt; x * x</code></li>
<li>多行逻辑：<code>(x, y) -&gt; &#123; int sum = x + y; return sum; &#125;</code></li>
<li><code>() -&gt; &#123;... ; ...&#125;</code></li>
</ul>
</li>
</ul>
<p>注意，写多行逻辑时必须要用<code>&#123;&#125;</code>把要执行的逻辑包起来，否则会报错。</p>
<p><strong>例子：</strong></p>
<ul>
<li><p><strong>匿名内部类</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Collections.sort(list, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;String&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(String s1, String s2)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> s1.compareTo(s2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Lambda 表达式</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 编译器会自动推断 s1 和 s2 的类型</span></span><br><span class="line">Collections.sort(list, (s1, s2) -&gt; s1.compareTo(s2));</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>Lambda 表达式只能用于<strong>函数式接口</strong>，即只包含<strong>一个抽象方法</strong>的接口。</p>
<h3 id="方法引用"><a href="#方法引用" class="headerlink" title="方法引用"></a><strong>方法引用</strong></h3><p><strong>方法引用（method reference）</strong>，是 lambda 的一种简写形式。</p>
<p>例子：</p>
<p>我们想对每个元素调用<code>String.valueOf</code>函数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x -&gt; String.valueOf(x)</span><br></pre></td></tr></table></figure>
<p>那么我们可以直接简写成这样：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String::valueOf</span><br></pre></td></tr></table></figure>
<h3 id="流-API-Streams"><a href="#流-API-Streams" class="headerlink" title="流 API (Streams)"></a><strong>流 API (Streams)</strong></h3><h4 id="什么是-Stream？"><a href="#什么是-Stream？" class="headerlink" title="什么是 Stream？"></a>什么是 Stream？</h4><ul>
<li>它<strong>不是</strong>数据结构（不像 List 或 Set 那样存储数据）。</li>
<li>它是对数据源（集合、数组）进行操作的<strong>管道 (Pipeline)</strong>。</li>
<li><strong>核心思想</strong>：你可以像工厂流水线一样，对数据进行一系列的加工处理。</li>
</ul>
<p>使用 Stream 的标准步骤：</p>
<ol>
<li><strong>创建流 (Source)</strong>：从数据源生成流。<ul>
<li><code>list.stream()</code></li>
</ul>
</li>
<li><strong>中间操作 (Intermediate Operations)</strong>：对数据进行处理，<strong>惰性执行</strong> (Lazy)。<ul>
<li>这些操作返回的还是一个 Stream，所以可以链式调用。</li>
</ul>
</li>
<li><strong>终止操作 (Terminal Operations)</strong>：触发流的执行，并产生最终结果。<ul>
<li>这步之后，流就关闭了，不能再用了。</li>
</ul>
</li>
</ol>
<p>stream的函数的参数里可以直接写Lambda表达式，非常方便。</p>
<h4 id="常用的-Stream-操作"><a href="#常用的-Stream-操作" class="headerlink" title="常用的 Stream 操作"></a><strong>常用的 Stream 操作</strong></h4><p><strong>创建：</strong></p>
<ul>
<li><p><code>Stream.of(a, b, c)</code><br> 少量固定元素（对象类型）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stream.of(one, two, three)</span><br></pre></td></tr></table></figure>
<p><code>Arrays.stream(array)</code><br> 从数组创建。对象数组 → <code>Stream&lt;T&gt;</code>；基本类型数组 → <code>IntStream/LongStream/DoubleStream</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Arrays.stream(caughtFish)</span><br><span class="line">Arrays.stream(intArray) <span class="comment">// IntStream</span></span><br></pre></td></tr></table></figure>
<p><code>collection.stream()</code><br> 从集合创建（顺序取决于集合类型）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">caughtFish.stream()</span><br></pre></td></tr></table></figure>
<p><code>Stream.generate(supplier)</code><br> <strong>无限流</strong>，按需调用 <code>supplier.get()</code> 生成元素（通常要配 <code>limit</code>）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stream.generate(supplier).limit(<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<p>（常见补充）<code>Stream.iterate(seed, next)</code><br> 按规则生成序列（也常是无限）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stream.iterate(<span class="number">0</span>, x -&gt; x + <span class="number">1</span>).limit(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>中间操作：</strong></p>
<p><strong>变换 / 映射</strong></p>
<ul>
<li><p><code>map(f)</code>：每个元素变成另一个元素（x 变成f(x) ）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.map(x -&gt; x * x)</span><br><span class="line">.map(String::valueOf)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>flatMap(f)</code>：一个元素变成“多个元素的 Stream”（1→多），再铺平</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.flatMap(fish -&gt; Arrays.stream(birthHelper(fish)))</span><br></pre></td></tr></table></figure>
</li>
<li><p>mapToInt：将Stream转成IntStream</p>
</li>
<li><p>mapToLong：将Stream转成LongStream</p>
</li>
<li><p>mapToDouble：将Stream转成DoubleStream</p>
</li>
</ul>
<p><strong>过滤</strong></p>
<ul>
<li><p><code>filter(pred)</code>：根据条件筛选元素。保留 predicate 为 true 的元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.filter(x -&gt; x &gt;= <span class="number">0</span>)</span><br><span class="line">.filter(f -&gt; f.weight() &gt;= <span class="number">0.8</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>takeWhile(pred)</code>：从头开始保留，直到第一次不满足就停止（Java 9+）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.takeWhile(f -&gt; f.weight() &gt;= <span class="number">0.8</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>dropWhile(pred)</code>：从头开始丢弃，直到第一次不满足后开始保留（Java 9+）</p>
</li>
</ul>
<p><strong>截取 / 跳过</strong></p>
<ul>
<li><p><code>limit(n)</code>：最多取前 n 个（对无限流很重要）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.limit(<span class="number">50</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>skip(n)</code>：跳过前 n 个</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.skip(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>去重 / 排序</strong></p>
<ul>
<li><p><code>distinct()</code>：去重（依赖 <code>equals</code>/<code>hashCode</code>）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.distinct()</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>sorted()</code> / <code>sorted(comparator)</code>：排序（<code>sorted</code> 稳定排序）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.sorted()</span><br><span class="line">.sorted(Comparator.comparingDouble(Fish::weight))</span><br></pre></td></tr></table></figure>
<p>注意，如果</p>
</li>
</ul>
<p><strong>观察 / 调试（不改变元素）</strong></p>
<ul>
<li><p><code>peek(action)</code>：对每个元素做“旁路操作”，常用于打印调试；<strong>仍然惰性</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.peek(System.out::println)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>终止：</strong></p>
<p><strong>遍历输出</strong></p>
<ul>
<li><p><code>forEach(action)</code>：对每个元素执行操作（并行流顺序不保证）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.forEach(System.out::println)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>forEachOrdered(action)</code>：保持顺序（尤其用于并行流）</p>
</li>
</ul>
<p><strong>收集成容器</strong></p>
<ul>
<li><p><code>toList()</code>：收集成 List（Java 16+，返回不可修改 list）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Fish&gt; list = stream.toList();</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>collect(Collectors.toList())</code>：经典写法（通常可修改 list）</p>
</li>
<li><p><code>toArray(...)</code>：收集成数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Fish[] arr = stream.toArray(Fish[]::<span class="keyword">new</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>聚合 / 归约</strong></p>
<ul>
<li><p><code>reduce(...)</code>：把多个元素<strong>合并成一个结果</strong>（例如求和、求积、拼接等）</p>
<ul>
<li><p><strong>有初始值（identity）版本：返回一个值</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> Stream.of(<span class="number">3</span>, <span class="number">1</span>, -<span class="number">4</span>).reduce(<span class="number">0</span>, (a, b) -&gt; a + b);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>无初始值版本：返回 Optional（空流时没有结果）</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;Integer&gt; sumOpt = Stream.of(<span class="number">3</span>, <span class="number">1</span>, -<span class="number">4</span>).reduce((a, b) -&gt; a + b);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>常见场景：求最大/最小（也可用 max/min）</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;Integer&gt; maxOpt = Stream.of(<span class="number">3</span>, <span class="number">1</span>, -<span class="number">4</span>).reduce(Integer::max);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>count()</code>：计数，返回<code>long</code>（元素个数）</p>
</li>
<li><p><code>AnyMatch()</code>：用来判断Stream里是否至少有一个元素满足给定条件（Predicate）。</p>
</li>
<li><p><code>sum()</code>：计算总和。只有DoubleStream，IntStream，LongStream有这个（数值专用）方法。</p>
</li>
</ul>
<p>一个典型的Stream处理链条通常是这样的：</p>
<p>Java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; names = Arrays.asList(<span class="string">&quot;Anna&quot;</span>, <span class="string">&quot;Bob&quot;</span>, <span class="string">&quot;Alice&quot;</span>, <span class="string">&quot;Mike&quot;</span>);</span><br><span class="line"></span><br><span class="line">names.stream()                           <span class="comment">// 1. 创建流</span></span><br><span class="line">     .filter(name -&gt; name.startsWith(<span class="string">&quot;A&quot;</span>)) <span class="comment">// 2. 中间操作：只要A开头的 (Anna, Alice)</span></span><br><span class="line">     .map(name -&gt; name.toUpperCase())      <span class="comment">// 2. 中间操作：转大写 (ANNA, ALICE)</span></span><br><span class="line">     .sorted()                             <span class="comment">// 2. 中间操作：排序 (ALICE, ANNA)</span></span><br><span class="line">     .forEach(name -&gt; System.out.println(name)); <span class="comment">// 3. 终止操作：打印</span></span><br></pre></td></tr></table></figure>
<h2 id="输入与输出"><a href="#输入与输出" class="headerlink" title="输入与输出"></a><strong>输入与输出</strong></h2><p><img src="/images/image-20260119223644875.png" class="lazyload" data-srcset="/images/image-20260119223644875.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20260119223644875"></p>
<h3 id="核心概念：流-Stream"><a href="#核心概念：流-Stream" class="headerlink" title="核心概念：流 (Stream)"></a>核心概念：流 (Stream)</h3><p>Java 中的 IO 操作基于<strong>流 (Stream)</strong> 的概念。流是一个有序的数据序列，有一个源头（Source）和一个目的地（Sink）。</p>
<ul>
<li><strong>输入流 (Input Stream)</strong>：用于从源头（如文件、键盘、网络）读取数据。</li>
<li><strong>输出流 (Output Stream)</strong>：用于向目的地（如文件、屏幕、网络）写入数据。</li>
</ul>
<h3 id="面向字节的输入-输出-Byteweise-Ein-und-Ausgabe"><a href="#面向字节的输入-输出-Byteweise-Ein-und-Ausgabe" class="headerlink" title="面向字节的输入/输出 (Byteweise Ein- und Ausgabe)"></a>面向字节的输入/输出 (Byteweise Ein- und Ausgabe)</h3><p>这一部分处理的是原始的二进制数据（8位字节），适用于图像、音频或任何非文本数据。</p>
<ul>
<li><p><strong>基类 (抽象类)</strong>：</p>
<ul>
<li><code>InputStream</code>: 所有字节输入流的父类。核心方法是 <code>read()</code>，每次读取一个字节 。</li>
<li><code>OutputStream</code>: 所有字节输出流的父类。核心方法是 <code>write(int b)</code> 。</li>
</ul>
</li>
<li><p><strong>标准输入/输出</strong>：</p>
<ul>
<li><code>System.in</code>: 标准输入流 (InputStream)，通常指键盘输入 。</li>
<li><code>System.out</code> 和 <code>System.err</code>: 标准输出流 (PrintStream)，通常指控制台屏幕 。</li>
</ul>
</li>
<li><p><strong>常用实现类</strong>：</p>
<ul>
<li><code>FileInputStream</code> / <code>FileOutputStream</code>: 用于从文件读取或向文件写入字节 。</li>
<li><strong>装饰器模式 (Decorator Pattern)</strong>：为了增强功能，Java 允许将流“层层包裹”。<ul>
<li><code>DataInputStream</code> / <code>DataOutputStream</code>: 允许直接读写 Java 基本数据类型（如 <code>readInt()</code>, <code>writeDouble()</code>），而不仅仅是字节 。</li>
<li><em>例子</em>：<code>new DataInputStream(new FileInputStream(&quot;file.txt&quot;))</code>。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>示例代码逻辑</strong>：</p>
<ul>
<li><p><strong>文件复制</strong>：通过循环调用 <code>read()</code> 读取字节直到返回 -1，然后用 <code>write()</code> 写入 。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileCopy</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(args[<span class="number">0</span>]);</span><br><span class="line">        <span class="type">int</span> t;</span><br><span class="line">        <span class="comment">// 核心逻辑：循环调用 read() 读取字节，直到返回 -1</span></span><br><span class="line">        <span class="keyword">while</span>(-<span class="number">1</span> != (t = file.read()))</span><br><span class="line">            System.out.print((<span class="type">char</span>)t); <span class="comment">// 这里演示为输出，也可以改为写入文件</span></span><br><span class="line">        System.out.print(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="面向字符的输入-输出-Textuelle-Ein-und-Ausgabe"><a href="#面向字符的输入-输出-Textuelle-Ein-und-Ausgabe" class="headerlink" title="面向字符的输入/输出 (Textuelle Ein- und Ausgabe)"></a>面向字符的输入/输出 (Textuelle Ein- und Ausgabe)</h3><p>这一部分处理的是字符数据（16位 Unicode），专门用于处理文本文件，解决了字符编码问题。</p>
<ul>
<li><p><strong>基类 (抽象类)</strong>：</p>
<ul>
<li><code>Reader</code>: 所有字符输入流的父类 。</li>
<li><code>Writer</code>: 所有字符输出流的父类 。</li>
</ul>
</li>
<li><p><strong>桥接流 (转换流)</strong>：</p>
<ul>
<li><code>InputStreamReader</code> 和 <code>OutputStreamWriter</code>: 它们是字节流和字符流之间的桥梁，负责将字节流解码为字符流，或将字符流编码为字节流 。</li>
</ul>
</li>
<li><p><strong>常用实现类</strong>：</p>
<ul>
<li><code>FileReader</code> / <code>FileWriter</code>: 方便地读取和写入文本文件 。</li>
<li><code>BufferedReader</code>: <strong>非常重要</strong>。它提供了缓冲功能，提高了读取效率，并且提供了 <code>readLine()</code> 方法，可以一次读取一行文本 。</li>
<li><code>PrintWriter</code>: 提供了方便的打印方法（如 <code>println()</code>），常用于输出文本 。</li>
</ul>
</li>
<li><p><strong>示例代码逻辑</strong>：</p>
<ul>
<li><p><strong>统计行数</strong>：使用 <code>BufferedReader</code> 包装 <code>FileReader</code>，循环调用 <code>readLine()</code> 直到返回 <code>null</code> 。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CountLines</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">FileReader</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(args[<span class="number">0</span>]);</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">buff</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(file);</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 核心逻辑：循环调用 readLine() 直到返回 null</span></span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">null</span> != buff.readLine())</span><br><span class="line">            n++;</span><br><span class="line">        buff.close();</span><br><span class="line">        System.out.print(<span class="string">&quot;Number of Lines:\t\t&quot;</span>+ n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="文件处理"><a href="#文件处理" class="headerlink" title="文件处理"></a><strong>文件处理</strong></h3><p><strong>例子：</strong></p>
<p>假设我们现在有一个对象Pengui，带3个属性：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> pgdp.io;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * This is equivalent to a class with the properties name, age &amp; weight</span></span><br><span class="line"><span class="comment"> * and a constructor that takes these properties as arguments.</span></span><br><span class="line"><span class="comment"> * The class also has getters named name(), age() &amp; weight().</span></span><br><span class="line"><span class="comment"> * The class also has a toString() method that prints the properties.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">record</span> <span class="title class_">Penguin</span> (String name, <span class="type">int</span> age, <span class="type">double</span> weight) &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>然后我们现在希望利用文件存储/读取这种对象。</p>
<p>写入：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Penguin p, String filename)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> (<span class="type">BufferedWriter</span> <span class="variable">w</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(filename)) )&#123;</span><br><span class="line">            w.write(p.name());</span><br><span class="line">            w.newLine();</span><br><span class="line">            w.write(String.valueOf(p.age()));</span><br><span class="line">            w.newLine();</span><br><span class="line">            w.write(String.valueOf(p.weight()));</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>try()</code>：括号里的东西算with，就是这里定义的东西可以在<code>try</code>的实际部分调用</li>
<li><code>FileWriter(filename)</code>：负责真正地将内容写入进文件</li>
<li><code>new BufferedWriter(...)</code>：加一层缓冲，并且提供<code>newLine()</code> 等便捷方法</li>
<li><code>newLine()</code>：换行</li>
<li><code>String.valueOf()</code>：数转字符串</li>
<li><code>IOException</code>：“输入/输出异常”（Input/Output Exception）</li>
</ul>
<p>读取：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Penguin <span class="title function_">load</span><span class="params">(String filename)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> (<span class="type">BufferedReader</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(filename)))&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> r.readLine();</span><br><span class="line">            <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> Integer.parseInt(r.readLine());</span><br><span class="line">            <span class="type">double</span> <span class="variable">weight</span> <span class="operator">=</span> Double.parseDouble(r.readLine());</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Penguin</span>(name, age, weight);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>Integer.parseInt()</code>：字符串转int</li>
<li><code>Double.parseDouble()</code>：字符串转double</li>
</ul>
<h2 id="并行运行与同步"><a href="#并行运行与同步" class="headerlink" title="并行运行与同步"></a><strong>并行运行与同步</strong></h2><h3 id="创建线程"><a href="#创建线程" class="headerlink" title="创建线程"></a><strong>创建线程</strong></h3><p>一般有2种方法：</p>
<ul>
<li><p>继承<code>Thread</code>：重写 <code>run()</code>，对线程对象调用 <code>start()</code> 后，系统会初始化新线程并并行执行该对象的 <code>run()</code>；当前执行流会继续往下走。</p>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        System.out.println(s);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">    	hello(<span class="string">&quot;I’m running ...&quot;</span>);</span><br><span class="line">    &#125; <span class="comment">// end o f run ( )</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyThread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>();</span><br><span class="line">        t.start();</span><br><span class="line">        System.out.println(<span class="string">&quot;Thread has been started ...&quot;</span>);</span><br><span class="line">    &#125; <span class="comment">// end o f main ( )</span></span><br><span class="line">&#125; <span class="comment">// end of class MyThread</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>实现<code>Runnable</code>：实现 <code>run()</code>，用 <code>new Thread(runnableObj)</code> 包一层，再 <code>start()</code>。优点是<strong>还能继承别的类</strong>。</p>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    	System.out.println(s);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">    	hello(<span class="string">&quot;I’m running ...&quot;</span>);</span><br><span class="line">    &#125; <span class="comment">// end o f run ( )</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">MyRunnable</span>());</span><br><span class="line">        t.start();</span><br><span class="line">        System.out.println(<span class="string">&quot;Thread has been started ...&quot;</span>);</span><br><span class="line">    &#125; <span class="comment">// end o f main ( )</span></span><br><span class="line">&#125; <span class="comment">// end of class MyRunnable</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="调度"><a href="#调度" class="headerlink" title="调度"></a><strong>调度</strong></h3><p>但是这样单纯地创建线程并不能保证它们的实际运行顺序。</p>
<ul>
<li><p><code>start()</code>：进入 ready，等待被调度执行</p>
</li>
<li><p><code>yield()</code>：让出 CPU（回到 ready 的直觉）</p>
</li>
<li><p><code>sleep()</code>：进入 sleeping，到时间再回 ready</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sleep</span> <span class="params">(<span class="type">int</span> msec)</span> <span class="keyword">throws</span> InterruptedException</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>join()</code>：进入 joining，等待另一个线程结束</p>
</li>
</ul>
<p>每个线程对象都有一个joiningThreads队列：如果t1调用<code>t2.join()</code>，t1会暂停并等待t2结束；t2结束后会唤醒所有等待它的线程。</p>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> count++;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Thread[] task = <span class="keyword">new</span> <span class="title class_">Thread</span>[<span class="number">3</span>];</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      task[n-<span class="number">1</span>].join();</span><br><span class="line">      System.out.println(<span class="string">&quot;Thread-&quot;</span>+n+<span class="string">&quot; joined Thread-&quot;</span>+(n-<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">    System.err.println(e.toString());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i&lt;<span class="number">3</span>; i++)&#123;</span><br><span class="line">        task[i] = <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Join</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i&lt;<span class="number">3</span>; i++)&#123;</span><br><span class="line">       task[i].start(); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>先定义了一个全局的（共享的）数组task，用它来记录每个线程，以便每个线程都可以通过这个数组找到其他线程。所以最后会输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Thread-1 joined Thread-0</span><br><span class="line">Thread-2 joined Thread-1</span><br></pre></td></tr></table></figure>
<p>线程3会通过join等待线程2，线程2会等待线程1。</p>
<h3 id="Monitor"><a href="#Monitor" class="headerlink" title="Monitor"></a><strong>Monitor</strong></h3><h4 id="synchroized"><a href="#synchroized" class="headerlink" title="synchroized"></a><strong>synchroized</strong></h4><p>用<code>synchroized</code>来控制需要保护的资源，给它创建kritische Abschnitt。</p>
<p><code>synchronized</code>只能用在：</p>
<ul>
<li><strong>方法</strong>：<code>public synchronized void openShop() &#123; ... &#125;</code></li>
<li><strong>代码块</strong>：<code>synchronized(this) &#123; ... &#125;</code></li>
</ul>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Count</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">inc</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">        <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> count; System.out.println(s+ <span class="string">&quot; read &quot;</span>+y);</span><br><span class="line">        count = y+<span class="number">1</span>; System.out.println(s+ <span class="string">&quot; wrote &quot;</span>+(y+<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IncSynch</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Count</span> <span class="variable">x</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Count</span>();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123; x.inc(); &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        (<span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">IncSynch</span>())).start();</span><br><span class="line">        (<span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">IncSynch</span>())).start();</span><br><span class="line">        (<span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">IncSynch</span>())).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="comment">// end of class IncSynch</span></span><br></pre></td></tr></table></figure>
<p>会输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Thread-0 read 0</span><br><span class="line">Thread-0 wrote 1</span><br><span class="line">Thread-1 read 1</span><br><span class="line">Thread-1 wrote 2</span><br><span class="line">Thread-2 read 2</span><br><span class="line">Thread-2 wrote 3</span><br></pre></td></tr></table></figure>
<p><strong>ReadWrit-lock</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RW</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">countReaders</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">startRead</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException&#123;</span><br><span class="line">        <span class="keyword">while</span>(countReaders &lt; <span class="number">0</span>) wait();</span><br><span class="line">        countReaders++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">endRead</span><span class="params">()</span>&#123;</span><br><span class="line">        countReaders--;</span><br><span class="line">        <span class="keyword">if</span> (countReaders == <span class="number">0</span>) notifyAll();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">startWrite</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="keyword">while</span>(countReaders != <span class="number">0</span>) wait();</span><br><span class="line">        countReaders = -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">endWrite</span><span class="params">()</span>&#123;</span><br><span class="line">        countReaders = <span class="number">0</span>;</span><br><span class="line">        notifyAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里<code>synchronized</code>的作用：</p>
<ol>
<li><strong>互斥访问</strong>：同一时间只能一个线程修改 <code>countReaders</code>（防止竞态）</li>
<li><strong>提供 wait/notify 的前提</strong>：<code>wait()</code> 和 <code>notifyAll()</code> 必须在持有同一对象锁时调用（这里锁的是 <code>this</code>）</li>
</ol>
<p>也就是说：这里把 <code>RW</code> 对象本身当作内部管理锁。</p>
<p>当在实例方法前面写 <code>synchronized</code> 时，它锁的是<strong>调用该方法的那个对象（this）的监视器锁</strong>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">f</span><span class="params">()</span> &#123; ... &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>等价于：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">f</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (<span class="built_in">this</span>) &#123;</span><br><span class="line">      ...</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果想要分开保护一个对象的不同attribute，可以：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">Object</span> <span class="variable">lock1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">Object</span> <span class="variable">lock2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">f</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">synchronized</span>(lock1) &#123;</span><br><span class="line">      <span class="comment">// 保护资源1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">g</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">synchronized</span>(lock2) &#123;</span><br><span class="line">      <span class="comment">// 保护资源2</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="volatile"><a href="#volatile" class="headerlink" title="volatile"></a><strong>volatile</strong></h4><p>而想要监控某个字段的话就需要用<code>volatile</code>，它主要的作用是：</p>
<ul>
<li><p><strong>可见性</strong>：</p>
<ul>
<li><p>写<code>volatile</code>：必须把新值刷新到主内存。</p>
</li>
<li><p>读<code>volatile</code>：必须从主内存读取最新值。</p>
<p>所以等待线程就能看见主线程的更新。</p>
</li>
</ul>
</li>
<li><p><strong>有序性</strong>：</p>
<p>会先修改<code>volatile</code>字段，然后其他线程才可以读它。</p>
</li>
</ul>
<p><strong>但是<code>volatile</code>不能确保原子性</strong>。</p>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> pgdp.memoryvisibility;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BusinessPenguinVolatile</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">boolean</span> <span class="variable">isShopOpen</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">waitForShopToOpen</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (!isShopOpen) &#123;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;Shop is open!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">openShop</span><span class="params">()</span> &#123;</span><br><span class="line">        isShopOpen = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Semaphor"><a href="#Semaphor" class="headerlink" title="Semaphor"></a><strong>Semaphor</strong></h3><p>可以直接用JAVA里的Semaphor。</p>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.Semaphore;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Semaphore</span> <span class="variable">permits</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Semaphore</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">job</span> <span class="operator">=</span> () -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">permits</span>.acquire(); <span class="comment">// 拿到“名额”才能进</span></span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot; entered&quot;</span>);</span><br><span class="line">                Thread.sleep(<span class="number">300</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                Thread.currentThread().interrupt();</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                <span class="keyword">permits</span>.release(); <span class="comment">// 归还名额</span></span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot; left&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(job, <span class="string">&quot;T&quot;</span> + i).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li><code>.acquire()</code>：请求进入</li>
<li><code>.release()</code>：退出</li>
</ul>
<p><strong>Consumer-Producer问题</strong>：</p>
<p>设置3个Semaphore：</p>
<ul>
<li><code>free</code>：控制满了不能放</li>
<li><code>occupied</code>：控制空了不能取</li>
<li><code>mutex</code>：控制同时只能一个进程改数组和指针</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.Semaphore;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">BoundedBuffer</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span>[] data;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> <span class="variable">first</span> <span class="operator">=</span> <span class="number">0</span>, last = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> Semaphore free;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> Semaphore occupied;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">Semaphore</span> <span class="variable">mutex</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Semaphore</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        BoundedBuffer(<span class="type">int</span> cap) &#123;</span><br><span class="line">            data = <span class="keyword">new</span> <span class="title class_">int</span>[cap];</span><br><span class="line">            free = <span class="keyword">new</span> <span class="title class_">Semaphore</span>(cap);</span><br><span class="line">            occupied = <span class="keyword">new</span> <span class="title class_">Semaphore</span>(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">produce</span><span class="params">(<span class="type">int</span> x)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">            free.acquire();      <span class="comment">// 没空位就等</span></span><br><span class="line">            mutex.acquire();     <span class="comment">// 独占访问数组/指针</span></span><br><span class="line">            data[last] = x;</span><br><span class="line">            last = (last + <span class="number">1</span>) % data.length;</span><br><span class="line">            mutex.release();</span><br><span class="line">            occupied.release();  <span class="comment">// 增加可取元素</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="title function_">consume</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">            occupied.acquire();  <span class="comment">// 没元素就等</span></span><br><span class="line">            mutex.acquire();</span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> data[first];</span><br><span class="line">            first = (first + <span class="number">1</span>) % data.length;</span><br><span class="line">            mutex.release();</span><br><span class="line">            free.release();      <span class="comment">// 增加空位</span></span><br><span class="line">            <span class="keyword">return</span> x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">BoundedBuffer</span> <span class="variable">buf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BoundedBuffer</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">producer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">6</span>; i++) &#123;</span><br><span class="line">                    buf.produce(i);</span><br><span class="line">                    System.out.println(<span class="string">&quot;put &quot;</span> + i);</span><br><span class="line">                    Thread.sleep(<span class="number">80</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                Thread.currentThread().interrupt();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">consumer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">6</span>; i++) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> buf.consume();</span><br><span class="line">                    System.out.println(<span class="string">&quot;take &quot;</span> + x);</span><br><span class="line">                    Thread.sleep(<span class="number">150</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                Thread.currentThread().interrupt();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        producer.start();</span><br><span class="line">        consumer.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="例子-1"><a href="#例子-1" class="headerlink" title="例子"></a><strong>例子</strong></h2><h4 id="计算数列和"><a href="#计算数列和" class="headerlink" title="计算数列和"></a><strong>计算数列和</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> pgdp.threads;</span><br><span class="line"></span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> Vervollständige diese Klasse, sodass sie einen Thread repräsentiert, der das übergebene Array von lowerBound</span></span><br><span class="line"><span class="comment">//  (inklusive) bis upperBound (exklusive) summiert und das Ergebnis in result speichert.</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ParallelSummer</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span>[] array;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> lowerBound;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> upperBound;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ParallelSummer</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> lowerBound, <span class="type">int</span> upperBound)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.array = array;</span><br><span class="line">        <span class="built_in">this</span>.lowerBound = lowerBound;</span><br><span class="line">        <span class="built_in">this</span>.upperBound = upperBound;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> lowerBound; i &lt; upperBound; i++) &#123;</span><br><span class="line">            result += array[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> pgdp.threads;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.stream.IntStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">long</span> <span class="title function_">sumParallel</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> threadCount)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (threadCount &lt;= <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (array.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        ParallelSummer[] threads = <span class="keyword">new</span> <span class="title class_">ParallelSummer</span>[threadCount];</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> array.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">chunk</span> <span class="operator">=</span> n / threadCount;</span><br><span class="line">        <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; threadCount; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> (i == threadCount -<span class="number">1</span>)? n : start+chunk;</span><br><span class="line">            threads[i] = <span class="keyword">new</span> <span class="title class_">ParallelSummer</span>(array, start, end);</span><br><span class="line">            start = end;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (ParallelSummer w : threads)&#123;</span><br><span class="line">            w.start();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (ParallelSummer w : threads)&#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                w.join();</span><br><span class="line">            &#125;<span class="keyword">catch</span> (InterruptedException e)&#123;</span><br><span class="line">                Thread.currentThread().interrupt();</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;Thread interrupted&quot;</span>,e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (ParallelSummer w : threads)&#123;</span><br><span class="line">            result += w.getResult();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] toSum = IntStream.range(<span class="number">0</span>, <span class="number">1_000_000_000</span>).toArray();</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">startTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">result</span> <span class="operator">=</span> sumParallel(toSum, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">finishTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Ergebnis der Berechnung: &quot;</span> + result);</span><br><span class="line">        System.out.println(<span class="string">&quot;Dauer der Berechnung: &quot;</span> + ( finishTime - startTime ) + <span class="string">&quot;ms&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>或者用实现Runnable的写法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> pgdp.threads;</span><br><span class="line"></span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> Vervollständige diese Klasse, sodass sie einen Thread repräsentiert, der das übergebene Array von lowerBound</span></span><br><span class="line"><span class="comment">//  (inklusive) bis upperBound (exklusive) summiert und das Ergebnis in result speichert.</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ParallelSummer</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span>[] array;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> lowerBound;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> upperBound;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ParallelSummer</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> lowerBound, <span class="type">int</span> upperBound)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.array = array;</span><br><span class="line">        <span class="built_in">this</span>.lowerBound = lowerBound;</span><br><span class="line">        <span class="built_in">this</span>.upperBound = upperBound;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> lowerBound; i &lt; upperBound; i++) &#123;</span><br><span class="line">            result += array[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> pgdp.threads;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.stream.IntStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">long</span> <span class="title function_">sumParallel</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> threadCount)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (threadCount &lt;= <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (array.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        ParallelSummer[] threads = <span class="keyword">new</span> <span class="title class_">ParallelSummer</span>[threadCount];</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> array.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">chunk</span> <span class="operator">=</span> n / threadCount;</span><br><span class="line">        <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; threadCount; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> (i == threadCount -<span class="number">1</span>)? n : start+chunk;</span><br><span class="line">            <span class="type">ParallelSummer</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ParallelSummer</span>(array, start, end);</span><br><span class="line">			<span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(thread);</span><br><span class="line">			t.start();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (ParallelSummer w : threads)&#123;</span><br><span class="line">            w.start();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (ParallelSummer w : threads)&#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                w.join();</span><br><span class="line">            &#125;<span class="keyword">catch</span> (InterruptedException e)&#123;</span><br><span class="line">                Thread.currentThread().interrupt();</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;Thread interrupted&quot;</span>,e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (ParallelSummer w : threads)&#123;</span><br><span class="line">            result += w.getResult();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] toSum = IntStream.range(<span class="number">0</span>, <span class="number">1_000_000_000</span>).toArray();</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">startTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">result</span> <span class="operator">=</span> sumParallel(toSum, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">finishTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Ergebnis der Berechnung: &quot;</span> + result);</span><br><span class="line">        System.out.println(<span class="string">&quot;Dauer der Berechnung: &quot;</span> + ( finishTime - startTime ) + <span class="string">&quot;ms&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="常用库"><a href="#常用库" class="headerlink" title="常用库"></a><strong>常用库</strong></h2>
  </div>
  
  
    
    <div class='footer'>
       <!-- 参考资料、相关资料等 -->
      
       <!-- 相关文章 -->
      
      <!-- 版权声明组件 -->
      
      <!-- 打赏组件 -->
      
    </div>
  
  
    


  <div class='article-meta' id="bottom">
    <div class='new-meta-box'>
      
        
          <div class="new-meta-item date" itemprop="dateCreated datePublished" datetime="2025-08-29T07:45:26+02:00">
  <a class='notlink'>
    <i class="fa-solid fa-calendar-alt fa-fw" aria-hidden="true"></i>
    <p>发布于：Aug 29, 2025</p>
  </a>
</div>

        
      
        
          
  <div class="new-meta-item share -mob-share-list">
  <div class="-mob-share-list share-body">
    
      
        <a class="-mob-share-qq" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://archer-baiyi.github.io/en/2025/08/29/%E7%BC%96%E7%A8%8B/Java%E5%85%A5%E9%97%A8/&title=Java入门 - Hexo&summary="
          
          >
          
            <img src="https://unpkg.com/volantis-static@0.0.1660614606622/media/org.volantis/logo/128/qq.png" class="lazyload" data-srcset="https://unpkg.com/volantis-static@0.0.1660614606622/media/org.volantis/logo/128/qq.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==">
          
        </a>
      
    
      
        <a class="-mob-share-qzone" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://archer-baiyi.github.io/en/2025/08/29/%E7%BC%96%E7%A8%8B/Java%E5%85%A5%E9%97%A8/&title=Java入门 - Hexo&summary="
          
          >
          
            <img src="https://unpkg.com/volantis-static@0.0.1660614606622/media/org.volantis/logo/128/qzone.png" class="lazyload" data-srcset="https://unpkg.com/volantis-static@0.0.1660614606622/media/org.volantis/logo/128/qzone.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==">
          
        </a>
      
    
      
        <a class="-mob-share-weibo" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="http://service.weibo.com/share/share.php?url=https://archer-baiyi.github.io/en/2025/08/29/%E7%BC%96%E7%A8%8B/Java%E5%85%A5%E9%97%A8/&title=Java入门 - Hexo&summary="
          
          >
          
            <img src="https://unpkg.com/volantis-static@0.0.1660614606622/media/org.volantis/logo/128/weibo.png" class="lazyload" data-srcset="https://unpkg.com/volantis-static@0.0.1660614606622/media/org.volantis/logo/128/weibo.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==">
          
        </a>
      
    
      
    
      
    
  </div>
</div>



        
      
    </div>
    <!-- Custom Files bottomMeta begin -->
    
    <!-- Custom Files bottomMeta end -->
  </div>


  
  

  
    <div class="prev-next">
      
        <a class='prev' href='/en/2025/09/21/CTF/Web/ctfshow-Web%E5%BA%94%E7%94%A8%E5%AE%89%E5%85%A8%E4%B8%8E%E9%98%B2%E6%8A%A4-Writeup/'>
          <p class='title'><i class="fa-solid fa-chevron-left" aria-hidden="true"></i>ctfshow Web应用安全与防护 Writeup</p>
          <p class='content'>这个板块算是Web的入门板块，考点都比较基础。
第一章Base64编码隐藏
按F12查看网页前端信息：

不难发现这里有Base64编码的内容：
1const correctPassword =...</p>
        </a>
      
      
        <a class='next' href='/en/2025/08/21/CTF/Pwn/HTB-Lesson-Writeup/'>
          <p class='title'>HTB Lesson Writeup<i class="fa-solid fa-chevron-right" aria-hidden="true"></i></p>
          <p class='content'>题目
123456789101112131415161718192021#include &lt;stdio.h&gt;void under_construction()&#123;  prin...</p>
        </a>
      
    </div>
  
  <!-- 文章推荐 -->
  
  
  <!-- Custom Files postEnd begin-->
  
  <!-- Custom Files postEnd end-->
</article>


  

  





</div>
<aside id='l_side' itemscope itemtype="https://schema.org.cn/WPSideBar">
  

  
    
    
      
    
  


<div class="widget-sticky">

  
  


<section class="widget toc-wrapper desktop mobile" id="toc-div" >
  
  <header>
    
      <i class="fa-solid fa-list fa-fw" aria-hidden="true"></i><span class='name'>本文目录</span>
    
  </header>


  <div class='content'>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hello-World"><span class="toc-number">2.</span> <span class="toc-text">Hello World</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B"><span class="toc-number">3.</span> <span class="toc-text">面向对象编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">3.1.</span> <span class="toc-text">构造函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E7%94%A8-reference"><span class="toc-number">3.2.</span> <span class="toc-text">引用&#x2F;reference</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E4%BD%9C%E4%B8%BA%E5%B1%9E%E6%80%A7"><span class="toc-number">3.3.</span> <span class="toc-text">对象作为属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%B1%9E%E6%80%A7"><span class="toc-number">3.4.</span> <span class="toc-text">类属性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#private"><span class="toc-number">3.4.1.</span> <span class="toc-text">private</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#public"><span class="toc-number">3.4.2.</span> <span class="toc-text">public</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#static"><span class="toc-number">3.4.3.</span> <span class="toc-text">static</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%90%8C-%E7%9B%B8%E7%AD%89"><span class="toc-number">3.5.</span> <span class="toc-text">相同&#x2F;相等</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E5%90%8D"><span class="toc-number">3.6.</span> <span class="toc-text">命名</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.</span> <span class="toc-text">基本数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#String%EF%BC%88%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%89"><span class="toc-number">4.1.</span> <span class="toc-text">String（字符串）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6"><span class="toc-number">4.2.</span> <span class="toc-text">转义字符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Operation%EF%BC%88%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%89"><span class="toc-number">5.</span> <span class="toc-text">Operation（运算符）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.1.</span> <span class="toc-text">算术运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%A4%E6%B3%95"><span class="toc-number">5.1.1.</span> <span class="toc-text">除法 &#x2F;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%96%E4%BD%99%EF%BC%88-%EF%BC%89"><span class="toc-number">5.1.2.</span> <span class="toc-text">取余（%）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%A2%9E-%E8%87%AA%E5%87%8F%EF%BC%88-%EF%BC%89"><span class="toc-number">5.2.</span> <span class="toc-text">自增&#x2F;自减（++&#x2F;--）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.3.</span> <span class="toc-text">比较运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.4.</span> <span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E7%BB%93%E5%90%88%E6%80%A7"><span class="toc-number">5.5.</span> <span class="toc-text">赋值运算符与结合性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">6.</span> <span class="toc-text">修饰符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">6.1.</span> <span class="toc-text">访问控制修饰符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">7.</span> <span class="toc-text">注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95"><span class="toc-number">8.</span> <span class="toc-text">测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E7%BB%93%E6%9E%84"><span class="toc-number">9.</span> <span class="toc-text">控制结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E7%BB%93%E6%9E%84"><span class="toc-number">9.1.</span> <span class="toc-text">选择结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#if-else"><span class="toc-number">9.1.1.</span> <span class="toc-text">if &#x2F; else</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">9.1.2.</span> <span class="toc-text">三元运算符 ? :</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#switch%EF%BC%88%E9%80%82%E5%90%88%E7%A6%BB%E6%95%A3%E5%80%BC%E5%88%86%E6%94%AF%EF%BC%89"><span class="toc-number">9.1.3.</span> <span class="toc-text">switch（适合离散值分支）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E7%BB%93%E6%9E%84"><span class="toc-number">9.2.</span> <span class="toc-text">迭代结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#for"><span class="toc-number">9.2.1.</span> <span class="toc-text">for</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#while"><span class="toc-number">9.2.2.</span> <span class="toc-text">while</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#do-while"><span class="toc-number">9.2.3.</span> <span class="toc-text">do-while</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84-Array"><span class="toc-number">10.</span> <span class="toc-text">数组 Array</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80"><span class="toc-number">10.1.</span> <span class="toc-text">基础</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C"><span class="toc-number">10.2.</span> <span class="toc-text">操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90"><span class="toc-number">10.3.</span> <span class="toc-text">例子</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E5%85%83%E7%B4%A0"><span class="toc-number">10.3.1.</span> <span class="toc-text">查找元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F"><span class="toc-number">10.3.2.</span> <span class="toc-text">排序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-number">10.4.</span> <span class="toc-text">多维数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">11.</span> <span class="toc-text">数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E8%A1%A8"><span class="toc-number">11.1.</span> <span class="toc-text">链表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mergesort"><span class="toc-number">11.2.</span> <span class="toc-text">Mergesort</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%88-Stack-%EF%BC%88Last-In-First-Out%EF%BC%89"><span class="toc-number">11.3.</span> <span class="toc-text">栈&#x2F;Stack （Last In First Out）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Queue%EF%BC%88First-In-First-Out%EF%BC%89"><span class="toc-number">11.4.</span> <span class="toc-text">Queue（First In First Out）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%A6%E4%B8%80%E7%A7%8D%E5%AE%8C%E6%95%B4%E7%9A%84List-Stack-Queue%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.5.</span> <span class="toc-text">另一种完整的List&#x2F;Stack&#x2F;Queue的实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LinkedList%EF%BC%88%E9%93%BE%E8%A1%A8%EF%BC%89"><span class="toc-number">11.6.</span> <span class="toc-text">LinkedList（链表）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ArrayList%EF%BC%88%E5%8A%A8%E6%80%81%E6%95%B0%E7%BB%84%EF%BC%89"><span class="toc-number">11.7.</span> <span class="toc-text">ArrayList（动态数组）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-number">12.</span> <span class="toc-text">面向对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%EF%BC%88Vererbung%EF%BC%89"><span class="toc-number">12.1.</span> <span class="toc-text">继承（Vererbung）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%EF%BC%88private-protected-public%EF%BC%89"><span class="toc-number">12.1.1.</span> <span class="toc-text">访问控制（private &#x2F; protected &#x2F; public）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97-super"><span class="toc-number">12.1.2.</span> <span class="toc-text">关键字 super</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95%E7%9A%84%E8%A6%86%E7%9B%96-%E9%87%8D%E5%86%99%E4%B8%8E%E9%9A%90%E8%97%8F"><span class="toc-number">12.1.3.</span> <span class="toc-text">属性和方法的覆盖&#x2F;重写与隐藏</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Object-%E7%B1%BB"><span class="toc-number">12.1.4.</span> <span class="toc-text">Object 类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB%EF%BC%88abstract%EF%BC%89%E3%80%81final-%E7%B1%BB%E5%92%8C%E6%8E%A5%E5%8F%A3%EF%BC%88interface%EF%BC%89"><span class="toc-number">12.2.</span> <span class="toc-text">抽象类（abstract）、final 类和接口（interface）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E6%96%B9%E6%B3%95%E4%B8%8E%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-number">12.2.1.</span> <span class="toc-text">抽象方法与抽象类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#final%E7%B1%BB%E5%92%8Cfinal%E6%96%B9%E6%B3%95"><span class="toc-number">12.2.2.</span> <span class="toc-text">final类和final方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%EF%BC%88Interfaces%EF%BC%89"><span class="toc-number">12.2.3.</span> <span class="toc-text">接口（Interfaces）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%EF%BC%88Polymorphie%EF%BC%89"><span class="toc-number">12.3.</span> <span class="toc-text">多态（Polymorphie）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E7%BB%A7%E6%89%BF%E4%BD%93%E7%B3%BB%E4%B8%AD%E7%9A%84%E5%A4%9A%E6%80%81%E4%B8%8E%E6%96%B9%E6%B3%95%E9%80%89%E6%8B%A9%E8%A7%84%E5%88%99"><span class="toc-number">12.3.1.</span> <span class="toc-text">在继承体系中的多态与方法选择规则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E7%B1%BB%EF%BC%88Generische-Klassen%EF%BC%89"><span class="toc-number">12.3.2.</span> <span class="toc-text">泛型类（Generische Klassen）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%85%E8%A3%85%E7%B1%BB%EF%BC%88Wrapper-Klassen%EF%BC%89"><span class="toc-number">12.3.3.</span> <span class="toc-text">包装类（Wrapper-Klassen）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%92%E5%BD%92"><span class="toc-number">13.</span> <span class="toc-text">递归</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Fibonacci"><span class="toc-number">13.1.</span> <span class="toc-text">Fibonacci</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">14.</span> <span class="toc-text">异常处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E4%B8%8D%E5%A4%84%E7%90%86%E4%BC%9A%E6%80%8E%E6%A0%B7%EF%BC%9F"><span class="toc-number">14.1.</span> <span class="toc-text">如果不处理会怎样？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E9%94%99%E8%AF%AF"><span class="toc-number">14.2.</span> <span class="toc-text">处理错误</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8"><span class="toc-number">14.3.</span> <span class="toc-text">自定义异常</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%80%89%E6%8B%A9%E7%BB%A7%E6%89%BF%E7%9A%84%E7%88%B6%E7%B1%BB-%E6%A0%B8%E5%BF%83%E5%86%B3%E7%AD%96"><span class="toc-number">14.3.1.</span> <span class="toc-text">1. 选择继承的父类 (核心决策)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%8F%90%E4%BE%9B%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">14.3.2.</span> <span class="toc-text">2. 提供构造函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%8A%9B%E5%87%BA%E4%B8%8E%E5%A3%B0%E6%98%8E-Throw-amp-Throws"><span class="toc-number">14.3.3.</span> <span class="toc-text">3. 抛出与声明 (Throw &amp; Throws)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%BC%82%E5%B8%B8"><span class="toc-number">14.4.</span> <span class="toc-text">为什么需要异常</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2-Strings"><span class="toc-number">15.</span> <span class="toc-text">字符串 (Strings)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E5%8F%98%E6%80%A7-Immutability"><span class="toc-number">15.1.</span> <span class="toc-text">不可变性 (Immutability)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0-String-Pool"><span class="toc-number">15.2.</span> <span class="toc-text">字符串常量池 (String Pool)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#intern-%E6%96%B9%E6%B3%95"><span class="toc-number">15.2.1.</span> <span class="toc-text">intern() 方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%AF%94%E8%BE%83"><span class="toc-number">15.2.2.</span> <span class="toc-text">字符串比较</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84String%E6%96%B9%E6%B3%95"><span class="toc-number">15.3.</span> <span class="toc-text">常用的String方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#trim"><span class="toc-number">15.3.1.</span> <span class="toc-text">trim()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#isEmpty"><span class="toc-number">15.3.2.</span> <span class="toc-text">isEmpty()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#toLowerCase"><span class="toc-number">15.3.3.</span> <span class="toc-text">toLowerCase()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#replace-target-replacement"><span class="toc-number">15.3.4.</span> <span class="toc-text">replace(target, replacement)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#split-String-regex"><span class="toc-number">15.3.5.</span> <span class="toc-text">split(String regex)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#length"><span class="toc-number">15.3.6.</span> <span class="toc-text">length()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#compareTo"><span class="toc-number">15.3.7.</span> <span class="toc-text">compareTo()</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8-Iterators"><span class="toc-number">16.</span> <span class="toc-text">迭代器 (Iterators)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Kollektionen-%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6"><span class="toc-number">17.</span> <span class="toc-text">Kollektionen (集合框架)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Collection-lt-E-gt-%E6%8E%A5%E5%8F%A3"><span class="toc-number">17.1.</span> <span class="toc-text">Collection&lt;E&gt; 接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#List-lt-E-gt-%E6%8E%A5%E5%8F%A3"><span class="toc-number">17.2.</span> <span class="toc-text">List&lt;E&gt; 接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map-lt-K-V-gt-%E6%8E%A5%E5%8F%A3"><span class="toc-number">17.3.</span> <span class="toc-text">Map&lt;K, V&gt; 接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Collections-%E5%B7%A5%E5%85%B7%E7%B1%BB-Algorithms"><span class="toc-number">17.4.</span> <span class="toc-text">Collections 工具类 (Algorithms)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%8E%E6%B5%81%EF%BC%88Streams%EF%BC%89"><span class="toc-number">18.</span> <span class="toc-text">Lambda 表达式与流（Streams）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Lambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">18.1.</span> <span class="toc-text">Lambda 表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84"><span class="toc-number">18.1.1.</span> <span class="toc-text">语法结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E5%BC%95%E7%94%A8"><span class="toc-number">18.2.</span> <span class="toc-text">方法引用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81-API-Streams"><span class="toc-number">18.3.</span> <span class="toc-text">流 API (Streams)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-Stream%EF%BC%9F"><span class="toc-number">18.3.1.</span> <span class="toc-text">什么是 Stream？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84-Stream-%E6%93%8D%E4%BD%9C"><span class="toc-number">18.3.2.</span> <span class="toc-text">常用的 Stream 操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E4%B8%8E%E8%BE%93%E5%87%BA"><span class="toc-number">19.</span> <span class="toc-text">输入与输出</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5%EF%BC%9A%E6%B5%81-Stream"><span class="toc-number">19.1.</span> <span class="toc-text">核心概念：流 (Stream)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AD%97%E8%8A%82%E7%9A%84%E8%BE%93%E5%85%A5-%E8%BE%93%E5%87%BA-Byteweise-Ein-und-Ausgabe"><span class="toc-number">19.2.</span> <span class="toc-text">面向字节的输入&#x2F;输出 (Byteweise Ein- und Ausgabe)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AD%97%E7%AC%A6%E7%9A%84%E8%BE%93%E5%85%A5-%E8%BE%93%E5%87%BA-Textuelle-Ein-und-Ausgabe"><span class="toc-number">19.3.</span> <span class="toc-text">面向字符的输入&#x2F;输出 (Textuelle Ein- und Ausgabe)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86"><span class="toc-number">19.4.</span> <span class="toc-text">文件处理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B6%E8%A1%8C%E8%BF%90%E8%A1%8C%E4%B8%8E%E5%90%8C%E6%AD%A5"><span class="toc-number">20.</span> <span class="toc-text">并行运行与同步</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B"><span class="toc-number">20.1.</span> <span class="toc-text">创建线程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E5%BA%A6"><span class="toc-number">20.2.</span> <span class="toc-text">调度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Monitor"><span class="toc-number">20.3.</span> <span class="toc-text">Monitor</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#synchroized"><span class="toc-number">20.3.1.</span> <span class="toc-text">synchroized</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#volatile"><span class="toc-number">20.3.2.</span> <span class="toc-text">volatile</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Semaphor"><span class="toc-number">20.4.</span> <span class="toc-text">Semaphor</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90-1"><span class="toc-number">21.</span> <span class="toc-text">例子</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%95%B0%E5%88%97%E5%92%8C"><span class="toc-number">21.0.1.</span> <span class="toc-text">计算数列和</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%BA%93"><span class="toc-number">22.</span> <span class="toc-text">常用库</span></a></li></ol>
  </div>
</section>

  

</div>

  <!-- Custom Files side begin -->
  
  <!-- Custom Files side end -->
</aside>



        </div>
        
  
  <footer class="footer clearfix"  itemscope itemtype="https://schema.org.cn/WPFooter">
    <br><br>
    
      
        <div class="aplayer-container">
          


        </div>
      
    
      
        <br>
        <div class="social-wrapper" itemprop="about" itemscope itemtype="https://schema.org.cn/Thing">
          
            
          
            
          
            
          
        </div>
      
    
      
        <div><p>Blog content follows the <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en">Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0) License</a></p>
</div>
      
    
      
        Use
        <a href="https://github.com/volantis-x/hexo-theme-volantis/#6.0.0-alpha.1" target="_blank" class="codename">Volantis</a>
        as theme, total visits
          <span id="busuanzi_site_pv"><i class="fa-solid fa-loader fa-spin fa-fw" aria-hidden="true"></i></span>
          times
        
      
    
      
        <div class='copyright'>
        <p><a href="/">Copyright © since 2017 XXX</a></p>

        </div>
      
    
    <!-- Custom Files footer begin-->
    
    <!-- Custom Files footer end-->
  </footer>


        <a id="s-top" class="fa-solid fa-arrow-up fa-fw" title="top"></a>
      </div>
    </div>
    <div>
      <script>
  /******************** volantis.dom ********************************/
  // 页面选择器 将dom对象缓存起来 see: /source/js/app.js etc.
  volantis.dom.bodyAnchor = volantis.dom.$(document.getElementById("safearea")); // 页面主体
  volantis.dom.topBtn = volantis.dom.$(document.getElementById('s-top')); // 向上
  volantis.dom.wrapper = volantis.dom.$(document.getElementById('wrapper')); // 整个导航栏
  volantis.dom.coverAnchor = volantis.dom.$(document.querySelector('#l_cover .cover-wrapper')); // 1个
  volantis.dom.switcher = volantis.dom.$(document.querySelector('#l_header .switcher .s-search')); // 搜索按钮   移动端 1个
  volantis.dom.header = volantis.dom.$(document.getElementById('l_header')); // 移动端导航栏
  volantis.dom.search = volantis.dom.$(document.querySelector('#l_header .m_search')); // 搜索框 桌面端 移动端 1个
  volantis.dom.mPhoneList = volantis.dom.$(document.querySelectorAll('#l_header .m-phone .list-v')); //  手机端 子菜单 多个
</script>

<script>
  
  volantis.css("https://unpkg.com/@fortawesome/fontawesome-free@6.6.0/css/all.min.css");
  
  
  
</script>

<!-- required -->


<!-- internal -->

<script src="/en/en/js/app.js"></script>




<!-- rightmenu要在darkmode之前（ToggleButton） darkmode要在comments之前（volantis.dark.push）-->

  <script>
const rootElement = document.documentElement;
const darkModeStorageKey = "color-scheme";
const rootElementDarkModeAttributeName = "color-scheme";
const setLS = (k, v) => {
    localStorage.setItem(k, v);
};
const removeLS = (k) => {
    localStorage.removeItem(k);
};
const getLS = (k) => {
    return localStorage.getItem(k);
};
const getModeFromCSSMediaQuery = () => {
  return window.matchMedia("(prefers-color-scheme: dark)").matches
    ? "dark"
    : "light";
};
const resetRootDarkModeAttributeAndLS = () => {
  rootElement.removeAttribute(rootElementDarkModeAttributeName);
  removeLS(darkModeStorageKey);
};
const validColorModeKeys = {
  dark: true,
  light: true,
};
const applyCustomDarkModeSettings = (mode) => {
  const currentSetting = mode || getLS(darkModeStorageKey);
  getCustomDarkMode();
  if (currentSetting === getModeFromCSSMediaQuery()) {
    resetRootDarkModeAttributeAndLS();
  } else if (validColorModeKeys[currentSetting]) {
    rootElement.setAttribute(rootElementDarkModeAttributeName, currentSetting);
  } else {
    resetRootDarkModeAttributeAndLS();
  }
};
const invertDarkModeObj = {
  dark: "light",
  light: "dark",
};
/**
 * get target mode
 */
 const getCustomDarkMode = () => {
  let currentSetting = getLS(darkModeStorageKey);
  if (validColorModeKeys[currentSetting]) {
    currentSetting = invertDarkModeObj[currentSetting];
  } else if (currentSetting === null) {
    currentSetting = invertDarkModeObj[getModeFromCSSMediaQuery()];
  } else {
    return;
  }
  if(currentSetting=="dark"){
    volantis.dark.mode="light";
  }else{
    volantis.dark.mode="dark";
  }
  // console.log(volantis.dark.mode)
};
const toggleCustomDarkMode = () => {
  let currentSetting = getLS(darkModeStorageKey);
  if (validColorModeKeys[currentSetting]) {
    currentSetting = invertDarkModeObj[currentSetting];
  } else if (currentSetting === null) {
    currentSetting = invertDarkModeObj[getModeFromCSSMediaQuery()];
  } else {
    return;
  }
  setLS(darkModeStorageKey, currentSetting);
  return currentSetting;
};
/**
 * 暗黑模式触发器
 */
volantis.dark.toggle=()=>{
  const mode = toggleCustomDarkMode();
  applyCustomDarkModeSettings(mode);
  // 使用 volantis.dark.push 方法传入volantis.dark.toggle回调函数 参见layout/_partial/scripts/global.ejs
  volantis.dark.method.toggle.start();
}
/**
 * bind event for toggle button
 */

function bindToggleButton() {
  var btn= document.querySelectorAll("#wrapper .toggle-mode-btn,#rightmenu-wrapper .toggle-mode-btn")
  btn.forEach(function (e) {
    volantis.dom.$(e).on('click',volantis.dark.toggle);
  })
}
applyCustomDarkModeSettings();
document.addEventListener("DOMContentLoaded", ()=>{
  volantis.requestAnimationFrame(bindToggleButton)
});

const darkModelListeners={
  dark:(mediaQueryList )=>{
    if(mediaQueryList.matches){
      volantis.dark.mode = "dark";
    }
    volantis.dark.method.toggle.start();
  },
  light:(mediaQueryList)=>{
    if(mediaQueryList.matches){
      volantis.dark.mode = "light";
    }
    volantis.dark.method.toggle.start();
  }
}
window.matchMedia('(prefers-color-scheme: dark)').addListener(darkModelListeners.dark)
window.matchMedia('(prefers-color-scheme: light)').addListener(darkModelListeners.light)
</script>




<script>
  function loadIssuesJS() {
    
      const sites_api = document.getElementById('sites-api');
      if (sites_api != undefined && typeof SitesJS === 'undefined') {
        volantis.js("/en/js/plugins/tags/sites.js")
      }
    
    
      const friends_api = document.getElementById('friends-api');
      if (friends_api != undefined && typeof FriendsJS === 'undefined') {
        volantis.js("/en/js/plugins/tags/friends.js")
      }
    
    
      const contributors_api = document.getElementById('contributors-api');
      if (contributors_api != undefined && typeof ContributorsJS === 'undefined') {
        volantis.js("/en/js/plugins/tags/contributors.js")
      }
    
  };
  loadIssuesJS()
</script>




  <script defer src="https://unpkg.com/vanilla-lazyload@19.1.3/dist/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 0
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    lazyLoadInstance.update();
  });
</script>




  

<script>
  window.FPConfig = {
	delay: 0,
	ignoreKeywords: ["#"],
	maxRPS: 6,
	hoverDelay: 0
  };
</script>
<script defer src="https://unpkg.com/volantis-static@0.0.1660614606622/libs/flying-pages/flying-pages.min.js"></script>













  <script defer src="https://npm.onmicrosoft.cn/penndu@16.0.0/bsz.js"></script>


<!-- optional -->

  <script>
  async function loadSearchScript() {
    
        
    
    return volantis.js("/en/js/search/hexo.js");
  }

  function loadSearchService() {
    loadSearchScript();
    document.querySelectorAll(".input.u-search-input").forEach((e) => {
      e.removeEventListener("focus", loadSearchService, false);
    });

    document.querySelectorAll(".u-search-form").forEach((e) => {
      e.addEventListener("submit", (event) => {
        event.preventDefault();
      }, false);
    });
  }

  // 打开并搜索 字符串 s
  function OpenSearch(s) {
    if (typeof SearchService === 'undefined')
      loadSearchScript().then(() => {
        SearchService.setQueryText(s);
        SearchService.search();
      });
    else {
      SearchService.setQueryText(s);
      SearchService.search();
    }
  }

  // 访问含有 ?s=xxx  的链接时打开搜索 // 与搜索引擎 structured data 相关: /scripts/helpers/structured-data/lib/config.js
  if (window.location.search && /^\?s=/g.test(window.location.search)) {
    let queryText = decodeURI(window.location.search)
      .replace(/\ /g, "-")
      .replace(/^\?s=/g, "");
    OpenSearch(queryText);
  }

  // 搜索输入框获取焦点时加载搜索
  document.querySelectorAll(".input.u-search-input").forEach((e) => {
    e.addEventListener("focus", loadSearchService, false);
  });
</script>







  <script>



  function p_highlightjs_copyCode(){
    if (!(document.querySelector(".highlight .code pre") ||
      document.querySelector(".article pre code"))) {
      return;
    }
    VolantisApp.utilCopyCode(".highlight .code pre, .article pre code")
  }
  volantis.requestAnimationFrame(p_highlightjs_copyCode)

</script>








  <script>
  let imgs = ["/background/wallhaven-jewjp5_2560x1080.png"];
  let index = 0;
  let IntervalParallax = null;

  function parallax(){
    let ParallaxWindow = document.querySelector("#parallax-window");
    
      ParallaxWindow = document.querySelector("html");
    
    Parallax.window = ParallaxWindow;
    Parallax.options.fade = 1500;
    Parallax.cache = 1;
    next_parallax();
    Parallax.init();
    if (imgs.length>1) {
      IntervalParallax = setInterval(function () {
        next_parallax();
      }, '31536000000');
    }
  }

  function next_parallax() {
    if (typeof Parallax == "undefined") {
      return
    }
    
    if (imgs.length>=1) {
      Parallax.options.src = imgs[index % imgs.length];
      Parallax.start();
      index++;
      if (Parallax.cache) {
        fetch(imgs[index % imgs.length] +"?t=" + new Date().getTime());
        if (index == imgs.length) {
          Parallax.cache = 0;
        }
      }
    }
  }
  var runningOnBrowser = typeof window !== "undefined";
  var isBot = runningOnBrowser && !("onscroll" in window) || typeof navigator !== "undefined" && /(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent);
  if (!isBot) {
    volantis.js('/en/js/plugins/parallax.js').then(()=>{
      parallax()
    })
  }
</script>




  <script>
  function load_swiper() {
    if (!document.querySelectorAll(".swiper-container")[0]) return;
    volantis.css("https://unpkg.com/swiper@11.1.14/swiper-bundle.min.css");
    volantis.js("https://unpkg.com/swiper@11.1.14/swiper-bundle.min.js").then(() => {
      p_swiper();
    });
  }

  load_swiper();

  function p_swiper() {
    volantis.swiper = new Swiper('.swiper-container', {
      slidesPerView: 'auto',
      spaceBetween: 8,
      centeredSlides: true,
      loop: true,
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
    });
  }

</script>



  <script>
  volantis.css("https://unpkg.com/pace-js@1.2.4/themes/blue/pace-theme-minimal.css");
  volantis.js("https://unpkg.com/pace-js@1.2.4/pace.min.js").then(() => {
    Pace.options.restartOnPushState = false;
    // 阅读进度
    volantis.scroll.push(() => {
      Pace.stop();
      Pace.trigger('start');
      Pace.bar.update(volantis.scroll.progress() * 100);
      document.body.className = document.body.className.replaceAll("pace-running ","");
    },"阅读进度")
    // todo：配置项开关, 哪些页面添加阅读进度
  })
</script>




<script>
  function listenSidebarTOC() {
    const navItems = document.querySelectorAll(".toc li");
    if (!navItems.length) return;
    const targets = []
    const sections = Array.from(navItems).forEach((element) => {
      const link = element.querySelector(".toc-link");
      const target = document.getElementById(
        link.getAttribute("href") ? decodeURI(link.getAttribute("href")).replace("#", "") : link.getAttribute("toc-action").split("toc-")[1] // 兼容 hexo-blog-encrypt
      );
      targets.push(target)
      // 解除 a 标签 href 的 锚点定位, a 标签 href 的 锚点定位 会随机启用?? 产生错位???
      if (link.getAttribute("href")) {
        link.setAttribute("toc-action", "toc-" + decodeURI(link.getAttribute("href")).replace("#", ""))
        link.removeAttribute("href")
      }
      // 配置 点击 触发新的锚点定位
      if (target && target.id) {
        link.addEventListener("click", (event) => {
          event.preventDefault();
          // 这里的 addTop 是通过错位使得 toc 自动展开.
          volantis.scroll.to(target, { addTop: 5, observer: true })
          // Anchor id
          history.pushState(null, document.title, "#" + target.id);
        });
      }
      return target;
    });

    function activateNavByIndex(target) {
      if (target.classList.contains("active-current")) return;

      document.querySelectorAll(".toc .active").forEach((element) => {
        element.classList.remove("active", "active-current");
      });
      target.classList.add("active", "active-current");
      let parent = target.parentNode;
      while (!parent.matches(".toc")) {
        if (parent.matches("li")) parent.classList.add("active");
        parent = parent.parentNode;
      }
    }

    // 方案一：
    volantis.activateNavIndex = 0
    activateNavByIndex(navItems[volantis.activateNavIndex])
    if (targets[0]) {
      volantis.scroll.push(() => {
        if (targets[0].getBoundingClientRect().top >= 0) {
          volantis.activateNavIndex = 0
        } else if (targets[targets.length - 1].getBoundingClientRect().top < 0) {
          volantis.activateNavIndex = targets.length - 1
        } else {
          for (let index = 0; index < targets.length; index++) {
            const target0 = targets[index];
            const target1 = targets[(index + 1) % targets.length];
            if (target0.getBoundingClientRect().top < 0 && target1.getBoundingClientRect().top >= 0) {
              volantis.activateNavIndex = index
              break;
            }
          }
        }
        activateNavByIndex(navItems[volantis.activateNavIndex])
      })
    }

    // 方案二：
    // IntersectionObserver 不是完美精确到像素级别 也不是低延时性的
    // function findIndex(entries) {
    //   let index = 0;
    //   let entry = entries[index];
    //   if (entry.boundingClientRect.top > 0) {
    //     index = sections.indexOf(entry.target);
    //     return index === 0 ? 0 : index - 1;
    //   }
    //   for (; index < entries.length; index++) {
    //     if (entries[index].boundingClientRect.top <= 0) {
    //       entry = entries[index];
    //     } else {
    //       return sections.indexOf(entry.target);
    //     }
    //   }
    //   return sections.indexOf(entry.target);
    // }
    // function createIntersectionObserver(marginTop) {
    //   marginTop = Math.floor(marginTop + 10000);
    //   let intersectionObserver = new IntersectionObserver(
    //     (entries, observe) => {
    //       let scrollHeight = document.documentElement.scrollHeight;
    //       if (scrollHeight > marginTop) {
    //         observe.disconnect();
    //         createIntersectionObserver(scrollHeight);
    //         return;
    //       }
    //       let index = findIndex(entries);
    //       activateNavByIndex(navItems[index]);
    //     }, {
    //       rootMargin: marginTop + "px 0px -100% 0px",
    //       threshold: 0,
    //     }
    //   );
    //   sections.forEach((element) => {
    //     element && intersectionObserver.observe(element);
    //   });
    // }
    // createIntersectionObserver(document.documentElement.scrollHeight);
  }

  document.addEventListener("DOMContentLoaded", () => {
    volantis.requestAnimationFrame(listenSidebarTOC)
  });
</script>





<script>
  document.onreadystatechange = function () {
    if (document.readyState == 'complete') {
      // 页面加载完毕 样式加载失败，或是当前网速慢，或是开启了省流模式
      const { saveData, effectiveType } = navigator.connection || navigator.mozConnection || navigator.webkitConnection || {}
      if (getComputedStyle(document.querySelector("#safearea"), null)["display"] == "none" || saveData || /2g/.test(effectiveType)) {
        document.querySelectorAll(".reveal").forEach(function (e) {
          e.style["opacity"] = "1";
        });
        document.querySelector("#safearea").style["display"] = "block";
      }
    }
  }
</script>


  <script type="application/ld+json">[{"@context":"https://schema.org.cn","@type":"Organization","name":"Hexo","url":"https://archer-baiyi.github.io/en/en/","logo":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1660614606622/media/org.volantis/blog/favicon/android-chrome-192x192.png","width":192,"height":192}},{"@context":"https://schema.org.cn","@type":"Person","name":null,"image":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1660614606622/media/org.volantis/blog/favicon/android-chrome-192x192.png"},"url":"https://archer-baiyi.github.io/en/en/","sameAs":["https://github.com/volantis-x"],"description":"hi"},{"@context":"https://schema.org.cn","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://archer-baiyi.github.io/en/en/","name":"Hexo"}},{"@type":"ListItem","position":2,"item":{"@id":"https://archer-baiyi.github.io/en/en/categories/编程/","name":"编程"}},{"@type":"ListItem","position":3,"item":{"@id":"https://archer-baiyi.github.io/en/en/2025/08/29/编程/Java入门/","name":"Java入门"}}]},{"@context":"https://schema.org.cn","@type":"WebSite","name":"Hexo","url":"https://archer-baiyi.github.io/en/en/","keywords":null,"description":"hi","author":{"@type":"Person","name":null,"image":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1660614606622/media/org.volantis/blog/favicon/android-chrome-192x192.png"},"url":"https://archer-baiyi.github.io/en/en/","description":"hi"},"publisher":{"@type":"Organization","name":"Hexo","url":"https://archer-baiyi.github.io/en/en/","logo":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1660614606622/media/org.volantis/blog/favicon/android-chrome-192x192.png","width":192,"height":192}},"potentialAction":{"@type":"SearchAction","name":"Site Search","target":{"@type":"EntryPoint","urlTemplate":"https://archer-baiyi.github.io/en?s={search_term_string}"},"query-input":"required name=search_term_string"}},{"@context":"https://schema.org.cn","@type":"BlogPosting","headline":"Java入门","description":"hi","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https://archer-baiyi.github.io/en/2025/08/29/%E7%BC%96%E7%A8%8B/Java%E5%85%A5%E9%97%A8/"},"author":{"@type":"Person","name":null,"image":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1660614606622/media/org.volantis/blog/favicon/android-chrome-192x192.png"},"url":"https://archer-baiyi.github.io/en/en/"},"publisher":{"@type":"Organization","name":"Hexo","logo":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1660614606622/media/org.volantis/blog/favicon/android-chrome-192x192.png","width":192,"height":192}},"url":"https://archer-baiyi.github.io/en/2025/08/29/%E7%BC%96%E7%A8%8B/Java%E5%85%A5%E9%97%A8/","wordCount":0,"datePublished":"2025-08-29T05:45:26.000Z","dateModified":"2026-02-09T09:42:29.351Z","articleSection":"编程","keywords":"Java","image":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1660614606622/media/org.volantis/blog/favicon/android-chrome-192x192.png","width":192,"height":192}}]</script>




    </div>
    
    <script>
      (function() {
        // 定义修复核心逻辑
        function checkAndFixTOC() {
          var tocDiv = document.getElementById('toc-div');
          
          if (tocDiv) {
            // 1. 检查 TOC 里面是不是真的有内容（防止把空目录显示出来）
            var tocList = tocDiv.querySelector('ol.toc');
            var hasContent = tocList && tocList.children.length > 0;
            
            // 2. 如果有内容，但被隐藏了 (display: none)，则强制显示
            // 这里检查内联样式 style.display，因为它优先级最高
            if (hasContent && tocDiv.style.display === 'none') {
              console.log('Volantis Fix: 检测到目录被误杀，正在强制复活...');
              
              // 使用 cssText 赋予最高优先级 !important
              tocDiv.style.cssText = "display: block !important; opacity: 1 !important; visibility: visible !important;";
              
              // 3. 告诉主题重新计算布局（防止侧边栏塌陷）
              window.dispatchEvent(new Event('resize'));
              window.dispatchEvent(new Event('scroll'));
              
              // 4. 重启目录高亮监听
              if (typeof listenSidebarTOC === 'function') {
                listenSidebarTOC();
              }
            }
          }
        }

        // 策略 A: 监听解密事件 (依然保留，作为第一道防线)
        window.addEventListener('hexo-blog-encrypt:success', function() {
          checkAndFixTOC();
          setTimeout(checkAndFixTOC, 200); // 补刀
        });

        // 策略 B: 暴力轮询 (每 1 秒检查一次，作为终极防线)
        // 只要你在当前页面，这个定时器就会一直巡逻，确保目录不会莫名其妙消失
        setInterval(checkAndFixTOC, 1000);
        
      })();
    </script>
    </body>
</html>